window.__require=function e(t,n,a){function i(o,s){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){return i(t[o][1][e]||e)},u,u.exports,e,t,n,a)}return n[o].exports}for(var r="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({ActionFunc:[function(e,t,n){"use strict";cc._RF.push(t,"063e7kq5jJMcJCOZpma1BJe","ActionFunc"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/UIManager"),i=e("../prefabs/Loading"),r=e("./GlobalFun"),o=e("../data/MstData"),s=e("../manager/AudioManager"),c=function(){function e(){}return e.playAction=function(e,t,n,r,o){var s=this;void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=!1),n?a.default.getInstance().openUI(i.default,{data:{showBlack:!1}},function(){s.runAction(e,t,n,r,o)}):this.runAction(e,t,n,r,o)},e.runAction=function(e,t,n,i,r){r?cc.tween(e).then(t).start():cc.tween(e).then(t).call(function(){n&&a.default.getInstance().closeUI("Loading"),i&&i()}).start()},e.playAnim=function(e,t,n){void 0===n&&(n=null),e.getAnimationState(t).isPlaying?n&&n():(e.playAdditive(t),e.getAnimationState(t).onStop=function(){n&&n()})},e.stopAnim=function(e,t){e.stop(t)},e.zoomAnim=function(e,t){return cc.tween(e).repeatForever(cc.tween(e).to(t,{scale:.7}).to(t,{scale:1})).start()},e.zoomAnim2=function(e){return cc.tween(e).repeatForever(cc.tween().to(.3,{scale:1.1}).to(.3,{scale:1})).start()},e.printerAnim=function(e,t,n){void 0===n&&(n=null),e.string="";var a=0,i="",o=function(){if(a>=t.length)cc.tween(e.node).delay(.5).call(function(){n&&n()}).start();else{var s=i+=t[a];s=r.default.getRichText(s),e.string=s,a++,cc.tween(e.node).delay(.05).call(function(){o()}).start()}};o()},e.onceZoomAnimation=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=.15),cc.tween(e).to(n,{scale:1}).to(n,{scale:1.2}).to(n,{scale:1}).call(t).start()},e.updateExpAnimation=function(e,t,n,a,i,r){var s=e.getChildByName("expValue").getComponent(cc.Label),c=e.getChildByName("level").getComponent(cc.Label),l=e.getComponent(cc.ProgressBar),u=cc.tween(e).call(function(){var e=function(){if(a==i){var u=o.default.getInstance().mstLevelup[i].exp,d={a:n};cc.tween(d).to(.5,{a:t},{progress:function(e,t,n,a){var i=Math.round(e+(t-e)*a);return s.string=i+"/"+u,l.progress=i/u,e+(t-e)*a}}).call(r).start()}else if(a>i){var f=o.default.getInstance().mstLevelup[i].exp;d={a:n},cc.tween(d).to(.5,{a:f},{progress:function(e,t,n,a){var i=Math.round(e+(t-e)*a);return s.string=i+"/"+f,l.progress=i/f,e+(t-e)*a}}).call(function(){n=0,i++,c.string=i+"",e()}).start()}};e()}),d=cc.tween(e).to(.5,{scale:1.2}).to(.5,{scale:1});return cc.tween(e).parallel(d,u).start()},e.updateNumberAnimation=function(e,t,n,a,i){var r=cc.tween(e).call(function(){if(cc.isValid(e)){var r={a:a};cc.tween(r).to(.5,{a:n},{progress:function(e,n,a,i){var r=Math.round(e+(n-e)*i);return t.string=r,e+(n-e)*i}}).call(i).start()}else i()}),o=cc.tween(e).to(.5,{scale:1.2}).to(.5,{scale:1});return cc.tween(e).parallel(o,r).start()},e.toAndFroAnimation=function(e,t,n,a){return e.stopAllActions(),cc.tween(e).repeatForever(cc.tween(e).call(function(){e.setPosition(t)}).delay(.2).to(a,{position:n}).delay(.3))},e.revolveForever=function(e,t){cc.tween(e).repeatForever(cc.tween(e).by(t,{angle:-360})).start()},e.taskCompleteHideAnim=function(e,t){return void 0===t&&(t=function(){}),s.default.getInstance().playEffect("orderShow"),cc.tween(e).to(.5,{scale:0}).call(function(){t()}).start()},e.taskCompleteShowAnim=function(e,t){return void 0===t&&(t=function(){}),s.default.getInstance().playEffect("orderShow"),cc.tween(e).to(.5,{scale:1}).delay(.3).call(t).start()},e}();n.default=c,cc._RF.pop()},{"../data/MstData":"MstData","../manager/AudioManager":"AudioManager","../manager/UIManager":"UIManager","../prefabs/Loading":"Loading","./GlobalFun":"GlobalFun"}],AdManager:[function(e,t,n){"use strict";cc._RF.push(t,"3d349DYWydCg4mdhvzrlwRc","AdManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../sdk/TTApi"),i=e("../utils/ChannelHelper"),r=e("../utils/StatisticsManager"),o=e("./UIManager"),s=e("../prefabs/Toast"),c=e("../data/UserData"),l=e("../utils/EventName"),u=e("../sdk/XGApi"),d=e("../prefabs/Loading"),f=e("../prefabs/SkipAdPopup"),p=e("../../scripts/extension/LanguageData"),h=e("../sdk/WYApi"),g=function(){function e(){this._isInit=!1,this.channel=i.default.getChannel(),this.rewardAdCd=0,this.interstitialCd=0}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.init=function(){this._isInit||(this._isInit=!0,this.channel==i.HMCHANNEL.WY||"debug"==this.channel||("wx"==this.channel?u.default.getInstance().init():"tt"==this.channel&&a.default.getInstance().init()))},e.prototype.showRewardAd=function(e,t,n,a){var g=this;void 0===a&&(a=null),o.default.getInstance().openUI(d.default,{},function(){var y=function(){g.channel==i.HMCHANNEL.WY?g.rewardAdCd<=0?h.default.getInstance().showRewardAd(function(){g.rewardAdCd=30,o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adSuccess")}}),c.default.getInstance().addVideoTimes(),e&&e(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY),c.default.getInstance().saveUserData()},function(){o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adFail")}}),t&&t()},function(){o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("noAD")}}),n&&n()}):o.default.getInstance().closeUI(d.default):"debug"==g.channel?g.rewardAdCd<=0&&(g.rewardAdCd=30,o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adSuccess")}}),c.default.getInstance().addVideoTimes(),e&&e(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY),c.default.getInstance().saveUserData()):"wx"==g.channel?(a&&r.default.trackEvent(a+"_click"),u.default.getInstance().showRewardAd(function(){a&&r.default.trackEvent(a+"_success"),o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adSuccess")}}),c.default.getInstance().addVideoTimes(),e&&e(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY),c.default.getInstance().saveUserData()},function(){a&&r.default.trackEvent(a+"_fail"),o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adFail")}}),t&&t()},function(){a&&r.default.trackEvent(a+"_err"),o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("noAD")}}),n&&n()})):"android"==g.channel&&(o.default.getInstance().closeUI(d.default),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adSuccess")}}),e&&e(),c.default.getInstance().addVideoTimes(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY),c.default.getInstance().saveUserData())};if(c.default.getInstance().skipAd>0){var m={okCallback:function(){o.default.getInstance().closeUI(d.default),c.default.getInstance().addSkipAd(-1),o.default.getInstance().openUI(s.default,{data:{str:p.default.t("adSuccess")}}),c.default.getInstance().addVideoTimes(),e&&e(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY),c.default.getInstance().saveUserData()},cancelCallback:function(){y()},closeCallback:function(){o.default.getInstance().closeUI(d.default)}};o.default.getInstance().openUI(f.default,{data:m})}else y()})},e.prototype.showBanner=function(){this.channel==i.HMCHANNEL.WY||"debug"==this.channel||"wx"==this.channel&&u.default.getInstance().showBanner()},e.prototype.hideBanner=function(){this.channel==i.HMCHANNEL.WY?h.default.getInstance().hideBanner():"debug"==this.channel||"wx"==this.channel&&u.default.getInstance().hideBanner()},e.prototype.showInterstitial=function(){var e=this;this.channel==i.HMCHANNEL.WY?this.interstitialCd<=0&&h.default.getInstance().showInterstitial(function(){e.interstitialCd=30},function(){},function(){}):"debug"==this.channel||this.channel},e.prototype.hideInterstitial=function(){},e.instance=null,e}();n.default=g,cc._RF.pop()},{"../../scripts/extension/LanguageData":"LanguageData","../data/UserData":"UserData","../prefabs/Loading":"Loading","../prefabs/SkipAdPopup":"SkipAdPopup","../prefabs/Toast":"Toast","../sdk/TTApi":"TTApi","../sdk/WYApi":"WYApi","../sdk/XGApi":"XGApi","../utils/ChannelHelper":"ChannelHelper","../utils/EventName":"EventName","../utils/StatisticsManager":"StatisticsManager","./UIManager":"UIManager"}],AdaptManager:[function(e,t,n){"use strict";cc._RF.push(t,"99dceGpI4tPJLYLiW5gBHzq","AdaptManager");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=this;cc.view.setResizeCallback(function(){e.adapt}),this.adapt()},t.prototype.adapt=function(){var e=cc.winSize.width/cc.winSize.height,t=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;e<=1&&e<=t?this.setFitWidth():this.setFitHeight()},t.prototype.setFitHeight=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1},t.prototype.setFitWidth=function(){cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],AndroidApi:[function(e,t,n){"use strict";cc._RF.push(t,"667e7eGUaRELJT8W5Ei2KsA","AndroidApi"),Object.defineProperty(n,"__esModule",{value:!0});var a="utils/NativeHelper";window.successFunc=function(){},window.failFunc=function(){},window.errorFunc=function(){};var i=function(){function e(){}return e.isVideoReady=function(){return jsb.reflection.callStaticMethod(a,"isRewardVideoReady","()Z")},e.isBannerReady=function(){return jsb.reflection.callStaticMethod(a,"isBannerReady","()Z")},e.getBatteryStatus=function(){return jsb.reflection.callStaticMethod(a,"getBatteryStatus","()I")},e.getNetworkStates=function(){return jsb.reflection.callStaticMethod(a,"getNetworkStates","()I")},e.showBanner=function(){jsb.reflection.callStaticMethod(a,"showBanner","()V")},e.hideBanner=function(){jsb.reflection.callStaticMethod(a,"hideBanner","()V")},e.showRewardAd=function(e,t,n){window.successFunc=e,window.failFunc=t,window.errorFunc=n,jsb.reflection.callStaticMethod(a,"showVideo","()V")},e}();n.default=i,cc._RF.pop()},{}],ApiBase:[function(e,t,n){"use strict";cc._RF.push(t,"b7448KFNCJI+paNgSkhfvsA","ApiBase"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./NetworkHelper"),i=e("./AppConfig"),r=e("../data/UserData"),o=e("../manager/UIManager"),s=e("../prefabs/CommonPopup"),c=e("../data/MiscConfig"),l=e("../manager/SDKManager"),u=e("./ChannelHelper"),d=e("../extension/LanguageData"),f=function(){function e(e,t){void 0===t&&(t=i.default.SERVER_PATH),this.isPosting=!1,this.url="",this.serverUrl="",this.onErrorCount=0,this.onTimeoutCount=0,this.channel=u.default.getChannel(),this.url=e,this.serverUrl=t+e}return e.prototype.send=function(e,t,n){var u=this;if(void 0===t&&(t=function(){}),void 0===n&&(n=function(){}),i.default.IS_OFFLINE)return console.error("\u5355\u673a\u7248\u4e0d\u5141\u8bb8\u6709\u7f51\u7edc\u8bf7\u6c42"),void n(404,null);if(this.isPosting)return console.warn("Api "+this.url+" \u53d1\u9001\u5931\u8d25\uff0c\u5df2\u7ecf\u6709\u4e00\u4e2aApi\u8bf7\u6c42\u5728\u5904\u7406\u4e2d"),!1;this.isPosting=!0,r.default.getInstance().token&&(e.userToken=r.default.getInstance().token);var f=function(e,t){if(u.isPosting=!1,401==e){r.default.getInstance().clearToken(),cc.sys.localStorage.removeItem("userData");var a={model:c.default.COMMON_POPUP_MODEL_1,contentText:d.default.t("apiBase_1"),okCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};o.default.getInstance().openUI(s.default,{data:a})}else if(402==e){r.default.getInstance().clearToken(),cc.sys.localStorage.removeItem("cheatReason"),cc.sys.localStorage.removeItem("userData");var i;i=t.data.user_display_id?t.data.user_display_id:cc.sys.localStorage.getItem("userId");var f={model:c.default.COMMON_POPUP_MODEL_2,contentText:d.default.t("apiBase_2",{userId:i}),okCallback:function(){cc.game.restart(),l.default.getInstance().openKefu(1)},cancelCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};o.default.getInstance().openUI(s.default,{data:f})}else 404==e?(u.onErrorCount++,u.onErrorCount>=3&&(u.onErrorCount=0,r.default.getInstance().clearToken(),o.default.getInstance().showToast(d.default.t("apiBase_3"),function(){var e={model:c.default.COMMON_POPUP_MODEL_1,contentText:d.default.t("apiBase_3"),okCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};o.default.getInstance().openUI(s.default,{data:e},function(){o.default.getInstance().hideToast()})})),n(e)):405==e?(u.onTimeoutCount++,u.onTimeoutCount>=3&&(u.onTimeoutCount=0,r.default.getInstance().clearToken(),o.default.getInstance().showToast(d.default.t("apiBase_4"),function(){var e={model:c.default.COMMON_POPUP_MODEL_1,contentText:d.default.t("apiBase_4"),okCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};o.default.getInstance().openUI(s.default,{data:e},function(){o.default.getInstance().hideToast()})})),n(e)):e>0&&n(e,t?t.code:null)};a.default.getData(this.serverUrl,e,function(e){u.isPosting=!1,u.onErrorCount=0,u.onTimeoutCount=0,200==e.code?("debug"==u.channel?window.serverTime=(new Date).getTime()/1e3:window.serverTime=e.server_time,t(e.data)):f(e.code,e)},f)},e}();n.default=f,cc._RF.pop()},{"../data/MiscConfig":"MiscConfig","../data/UserData":"UserData","../extension/LanguageData":"LanguageData","../manager/SDKManager":"SDKManager","../manager/UIManager":"UIManager","../prefabs/CommonPopup":"CommonPopup","./AppConfig":"AppConfig","./ChannelHelper":"ChannelHelper","./NetworkHelper":"NetworkHelper"}],Api:[function(e,t,n){"use strict";cc._RF.push(t,"7f20eDtTvpMk4HgRUQojxRf","Api");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("./ApiBase"),o=e("./AppConfig"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.start=new r.default("Start"),t.backupUserData=new r.default("BackupUserData"),t.getMiscData=new r.default("GetMiscData"),t.activity=new r.default("Activity"),t.getActivityData=new r.default("GetActivityData"),t.mail=new r.default("Mail"),t.getUpdateInfo=new r.default("GetUpdateInfo",o.default.UPDATE_SERVER_PATH),t.updateUserInfo=new r.default("UpdateUserInfo"),t.rank=new r.default("Rank"),t}(r.default);n.default=s,cc._RF.pop()},{"./ApiBase":"ApiBase","./AppConfig":"AppConfig"}],AppConfig:[function(e,t,n){"use strict";cc._RF.push(t,"5845adOWO5OpYQ1cFIYzgwF","AppConfig"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.DEBUG_SERVER_PATH="",e.SERVER_PATH="",e.UPDATE_SERVER_PATH="",e.RES_SERVER_PATH="",e.WX_SHARE_PATH="",e.WX_GROUP_PATH="",e.APP_LANGUAGE="en",e.APP_VERSION="1.3.8",e.IS_OFFLINE=!0,e}();n.default=a,cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"d59894GNflI7rvjn74fzIyd","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this._soundEffectSwitch=!0,this._bgmSwitch=!0,this.bgm=""}return Object.defineProperty(e.prototype,"soundEffectSwitch",{get:function(){return this._soundEffectSwitch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bgmSwitch",{get:function(){return this._bgmSwitch},enumerable:!1,configurable:!0}),e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.init=function(){var e=cc.sys.localStorage.getItem("soundBgmSwitch"),t=cc.sys.localStorage.getItem("soundEffectSwitch");e=!e||JSON.parse(e),this._bgmSwitch=!!e,cc.sys.localStorage.setItem("soundBgmSwitch",this._bgmSwitch+""),t=!t||JSON.parse(t),this._soundEffectSwitch=!!t,cc.sys.localStorage.setItem("soundEffectSwitch",this._soundEffectSwitch+"")},e.prototype.setSoundEffectSwitch=function(e){this._soundEffectSwitch=e,cc.sys.localStorage.setItem("soundEffectSwitch",this._soundEffectSwitch+"")},e.prototype.setBgmSwitch=function(e){this._bgmSwitch=e,cc.sys.localStorage.setItem("soundBgmSwitch",this._bgmSwitch+"")},e.prototype.playEffect=function(e,t){var n=this;void 0===t&&(t=!1),-1==e.search("https:")?cc.resources.load("audio/"+e,function(a,i){a?console.warn("playEffect err,soundName="+e):n._soundEffectSwitch&&cc.audioEngine.playEffect(i,t)}):this._soundEffectSwitch&&cc.assetManager.loadRemote(e,function(e,n){e||cc.audioEngine.playEffect(n,t)})},e.prototype.stopAll=function(){cc.audioEngine.stopAll()},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.playBgm=function(e){var t=this;this._bgmSwitch&&this.bgm!=e&&(this.bgm=e,cc.audioEngine.stopMusic(),-1==e.search("https:")?cc.resources.load("audio/"+e,function(e,n){e||t._bgmSwitch&&(cc.audioEngine.playMusic(n,!0),t.setMusicVolume(.7))}):this._bgmSwitch&&cc.assetManager.loadRemote(e,function(e,t){e||(cc.audioEngine.playMusic(t,!0),cc.audioEngine.setMusicVolume(.7))}))},e.prototype.stopBgm=function(){cc.audioEngine.stopMusic(),this.bgm=""},e.prototype.setMusicVolume=function(e){this.bgm&&cc.audioEngine.setMusicVolume(e)},e.instance=null,e}();n.default=a,cc._RF.pop()},{}],BaseData:[function(e,t,n){"use strict";cc._RF.push(t,"b9fefzhXwpEu6dmOrwlBPfU","BaseData"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.mapDataToObject=function(e){for(var t in this.fields){var n=this.fields[t];e&&void 0!==e[n]&&(this["_"+n]=e[n])}},e.prototype.dataToObject=function(e){for(var t in this.fields){var n=this.fields[t];e&&void 0!==e[n]&&(this[n]=e[n])}},e.prototype.zipData=function(){for(var e={},t=0;t<this.fields.length;t++)if(this[this.fields[t]])if("function"==typeof this[this.fields[t]].zipData)e[this.fields[t]]=this[this.fields[t]].zipData();else if("object"==typeof this[this.fields[t]])if(Array.isArray(this[this.fields[t]]))for(var n in this[this.fields[t]])e[this.fields[t]]||(e[this.fields[t]]=[]),"function"==typeof this[this.fields[t]][n].zipData?e[this.fields[t]].push(this[this.fields[t]][n].zipData()):e[this.fields[t]].push(this[this.fields[t]][n]);else for(var n in this[this.fields[t]])e[this.fields[t]]||(e[this.fields[t]]={}),"function"==typeof this[this.fields[t]][n].zipData?e[this.fields[t]][n]=this[this.fields[t]][n].zipData():e[this.fields[t]][n]=this[this.fields[t]][n];else e[this.fields[t]]=this[this.fields[t]];return e},e}();n.default=a,cc._RF.pop()},{}],BaseModel:[function(e,t,n){"use strict";cc._RF.push(t,"34d25VyZJVDhpDEVfQ9naf7","BaseModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseData"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),r([c],t)}(o.default));n.default=l,cc._RF.pop()},{"./BaseData":"BaseData"}],BaseUI:[function(e,t,n){"use strict";cc._RF.push(t,"f4cc1UM3yRGxpOdm62sQsnw","BaseUI");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../manager/UIManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeCallback=null,t}return i(t,e),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag=e},enumerable:!1,configurable:!0}),t.getUrl=function(){return"prefabs/"+this.uiName},t.prototype.onClose=function(){o.default.getInstance().closeUI(this.tag)},t.prototype.setCloseCallback=function(e){this.closeCallback=e},t.uiName="BaseUI",r([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../manager/UIManager":"UIManager"}],BtnSound:[function(e,t,n){"use strict";cc._RF.push(t,"7d724cnNahDhI6ExcYE1FOR","BtnSound");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../manager/AudioManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.AddTouchEvent(this.node)},t.prototype.AddTouchEvent=function(e){e.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this)},t.prototype.onEventEnd=function(){var e=this.node.getComponent(cc.Button);e&&e.interactable&&e.enabled&&o.default.getInstance().playEffect("clickBtn")},t.prototype.onEventCancel=function(){},r([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../manager/AudioManager":"AudioManager"}],ChannelHelper:[function(e,t,n){"use strict";cc._RF.push(t,"8465aQO2BJO/rFPr5wSPmds","ChannelHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.HMCHANNEL=void 0;var a,i=function(){function e(){}return e.getChannel=function(){return"undefined"!=typeof MiniGameAds?a.WY:window.h5api?"4399":cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?"android":cc.sys.os==cc.sys.OS_IOS?"ios":"other":cc.sys.platform==cc.sys.OPPO_GAME?"oppo":cc.sys.platform==cc.sys.VIVO_GAME?"vivo":cc.sys.platform==cc.sys.WECHAT_GAME?a.WY:cc.sys.platform==cc.sys.MOBILE_BROWSER?"debug":cc.sys.platform==cc.sys.DESKTOP_BROWSER?"debug":void 0},e}();n.default=i,function(e){e.WY="wy"}(a=n.HMCHANNEL||(n.HMCHANNEL={})),cc._RF.pop()},{}],ChildrenDayModel:[function(e,t,n){"use strict";cc._RF.push(t,"061be1UCEVHkbxWats0ETvA","ChildrenDayModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../extension/weapp-jwt"),s=e("../../utils/GlobalFun"),c=e("../MiscData"),l=e("../MstData"),u=e("../UserData"),d=e("../userModel/UserTaskModel"),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.fields=["lv","exp","taskData","isVip","receiveData","createdTime"],n._lv="1",n._exp="0",n._taskData=null,n._isVip=!1,n._receiveData={},n._createdTime=0,n._config=null,n._maxLv=0,n._chooseTaskId=0,n._taskBg={},n.mapDataToObject(t),n._config=l.default.getInstance().mstActivity.childrenDay.config;var a=c.default.getInstance().activityData;if(a){var i=a.childrenDay;if(i)if(n._createdTime<i[0])n.resetData();else{n._lv=o.weBtoa(n._lv+""),n._exp=o.weBtoa(n._exp+"");for(var r=[],s=0;s<n.taskData.length;s++){var u=new d.default(n.taskData[s]);r.push(u)}n._taskData=r}}return n.sortTask(),n._maxLv=+Object.keys(n._config.lvData).pop(),n}return i(t,e),Object.defineProperty(t.prototype,"lv",{get:function(){return parseInt(o.weAtob(this._lv+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return parseInt(o.weAtob(this._exp+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVip",{get:function(){return this._isVip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveData",{get:function(){return this._receiveData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdTime",{get:function(){return this._createdTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseTaskId",{get:function(){return this._chooseTaskId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskBg",{get:function(){return this._taskBg},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLv",{get:function(){return this._maxLv},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){if(this._config){this._lv=o.weBtoa("1"),this._exp=o.weBtoa("0"),this._createdTime=window.serverTime,this._isVip=!0,this._taskData=[],this._receiveData={};var e=this._config,t=u.default.getInstance().getRequireItemsByTaskId(e.taskId),n=new d.default({id:e.taskId,requireItems:t});this.taskData.push(n),this._receiveData[1]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0}}},t.prototype.addExp=function(e){if(!(this.lv>=this._maxLv)){var t=this._config.lvData;if(this.exp+e>=t[this.lv].exp){var n=e-t[this.lv].exp+this.exp;t[this.lv+1]&&(this._exp=o.weBtoa("0"),this._lv=o.weBtoa(this.lv+1+""),this._receiveData[this.lv]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0}),n>0&&this.addExp(n)}else this._maxLv==this.lv?this._exp=o.weBtoa("0"):this._exp=o.weBtoa(this.exp+e+"")}},t.prototype.buyVip=function(){return this._isVip=!0,!0},t.prototype.buyExp=function(e){for(var t=this._config.lvData,n=0,a=0,i=this.lv;i<e+1;i++)n+=t[i].exp,a+=t[i+1].diamonds;return u.default.getInstance().addDiamonds(-a)>=0&&(this.addExp(n),!0)},t.prototype.getUpExp=function(e){for(var t=this._config.lvData,n=0,a=this.lv;a<e+1;a++)t[a].exp,n+=t[a].diamonds;return n},t.prototype.chooseTask=function(e){this._chooseTaskId=e},t.prototype.submit=function(e){var t=this._taskData[e].requireItems,n=this._taskData[e].id,a={ids:[],reward:[]};if(a.ids=u.default.getInstance().getNormalItemIndexByIds(t),!a.ids.includes(-1)){var i=this._taskData[e].mstData;a.reward=s.default.getAllReward(i.reward,i.rewardRes),this.taskData[e].completeTask(),u.default.getInstance().updateTaskAndItem()}return delete this._taskBg[n],this.sortTask(),a},t.prototype.sortTask=function(){var e=this._taskData;e.sort(function(e,t){return 1!=e.progress&&1!=t.progress?e.id-t.id:t.progress-e.progress});var t=this.taskIndex(this._chooseTaskId);-1==t?this._chooseTaskId=e[0].id:!e[t].isComplete&&e[0].isComplete&&(this._chooseTaskId=e[0].id)},t.prototype.buyNormalReward=function(e){var t=this._config.lvData[e];return!(!this.receiveData[e]||this.receiveData[e].isNormalReceive||(u.default.getInstance().addReward(t.reward),u.default.getInstance().addRewardRes(t.rewardRes),this.receiveData[e].isNormalReceive=!0,0))},t.prototype.buySpecialReward=function(e,t){var n=this._config.lvData[t];return this.receiveData[t].videoTimes+=e,this.firstSpecialRewardIndex==t&&!this.receiveData[t].isSpecialReceive&&this.receiveData[t].videoTimes>=n.costNum&&(u.default.getInstance().addReward(n.vipReward),u.default.getInstance().addRewardRes(n.vipRewardRes),this.receiveData[t].isSpecialReceive=!0,!0)},Object.defineProperty(t.prototype,"firstRewardIndex",{get:function(){var e=this.receiveData;for(var t in e){var n=e[t];if(!n.isNormalReceive||!n.isSpecialReceive)return+t}return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstNormalRewardIndex",{get:function(){var e=this.receiveData;for(var t in e)if(!e[t].isNormalReceive)return+t;return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstSpecialRewardIndex",{get:function(){var e=this.receiveData;for(var t in e)if(!e[t].isSpecialReceive)return+t;return-1},enumerable:!1,configurable:!0}),t.prototype.updatetaskBg=function(e,t){this.taskBg[e]=t},t.prototype.taskIndex=function(e){for(var t=null!=e?e:this._chooseTaskId,n=0;n<this._taskData.length;n++)if(this._taskData[n].id==t)return n;return-1},t}(r.default);n.default=f,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../extension/weapp-jwt":"weapp-jwt","../../utils/GlobalFun":"GlobalFun","../MiscData":"MiscData","../MstData":"MstData","../UserData":"UserData","../userModel/UserTaskModel":"UserTaskModel"}],ChristmasModel:[function(e,t,n){"use strict";cc._RF.push(t,"26281iJkAZPn5EH8U4Dtl/R","ChristmasModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscData"),s=e("../MstData"),c=e("../UserData"),l=e("../userModel/UserTaskModel"),u=e("../../extension/weapp-jwt"),d=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;if(n.fields=["level","exp","taskData","isReceive","created"],n._level="1",n._exp="0",n._taskData=null,n._isReceive={1:!1},n._created=0,n.mapDataToObject(t),t){var a=o.default.getInstance().activityData;if(a){var i=a.christmas;if(i)if(t.created<i[0])n.resetData();else{n._level=u.weBtoa(n._level+""),n._exp=u.weBtoa(n._exp+"");for(var r=[],s=0;s<n.taskData.length;s++){var c=new l.default(n.taskData[s]);r.push(c)}n._taskData=r}}}else n.resetData();return n}return i(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return parseInt(u.weAtob(this._level+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return parseInt(u.weAtob(this._exp+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReceive",{get:function(){return this._isReceive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"created",{get:function(){return this._created},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstData",{get:function(){return s.default.getInstance().mstActivity.christmas},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){if(s.default.getInstance().mstActivity.christmas){this._level=u.weBtoa("1"),this._exp=u.weBtoa("0"),this._taskData=[];var e=s.default.getInstance().mstActivity.christmas.config,t=c.default.getInstance().getRequireItemsByTaskId(e.taskId),n=new l.default({id:e.taskId,requireItems:t});this.taskData.push(n),this._created=window.serverTime}},t.prototype.addExp=function(e){var t=this,n=this.mstData.config.levelData,a=n.length;if(this.level<a){this._exp=u.weBtoa(this.exp+e+""),this.exp<0&&(this._exp=u.weBtoa("0"));var i=function(){if(t.level<a){var e=n[t.level-1];t.exp>=e.exp&&(t._level=u.weBtoa(t.level+1+""),t._exp=u.weBtoa(t.exp-e.exp+""),t.isReceive[t.level]=!1,i())}};i(),c.default.getInstance().saveUserData()}},t.prototype.receiveReward=function(e){if(!1===this.isReceive[e]){var t=this.mstData.config.levelData[e-1];return this.isReceive[e]=!0,c.default.getInstance().addReward(t.reward),c.default.getInstance().addRewardRes(t.rewardRes),c.default.getInstance().addBuildindSkin(t.rewardSkin),c.default.getInstance().saveUserData(),!0}return!1},t.prototype.zipData=function(){var t=e.prototype.zipData.call(this);return t.level=this.level,t.exp=this.exp,t},t}(r.default);n.default=d,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../extension/weapp-jwt":"weapp-jwt","../MiscData":"MiscData","../MstData":"MstData","../UserData":"UserData","../userModel/UserTaskModel":"UserTaskModel"}],CommonPopup:[function(e,t,n){"use strict";cc._RF.push(t,"ffb99FaKlRP2KXv0JGFDKJl","CommonPopup");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),s=e("../data/MiscConfig"),c=e("../manager/AdManager"),l=e("../extension/LanguageData"),u=cc._decorator,d=u.ccclass,f=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardIcon=null,t.titleText=null,t.contentText=null,t.okText=null,t.cancelText=null,t.okNode=null,t.iconVideoNode=null,t.cancelNode=null,t.btnlayout=null,t}return i(t,e),t.prototype.init=function(e){this.titleText.string=e.titleText?e.titleText:l.default.t("tips"),e.isLeft&&(this.contentText.horizontalAlign=cc.Label.HorizontalAlign.LEFT),this.contentText.string=e.contentText?e.contentText:"",this._model=e.model?e.model:s.default.COMMON_POPUP_MODEL_0,this.iconVideoNode.active=!!e.isVideo,this.okText.string=e.okText?e.okText:l.default.t("sure"),this.cancelText.string=e.cancelText?e.cancelText:l.default.t("cancel"),this._okCallback="function"==typeof e.okCallback?e.okCallback:function(){},this._cancelCallback="function"==typeof e.cancelCallback?e.cancelCallback:function(){},this._closeCallback="function"==typeof e.closeCallback?e.closeCallback:function(){};var t=e.fontSize;t&&(this.contentText.fontSize=t);var n=e.fontHeight;n&&(this.contentText.lineHeight=n),this.btnlayout.active=!0,this._model==s.default.COMMON_POPUP_MODEL_0?(this.okNode.active=!1,this.cancelNode.active=!1,this.btnlayout.active=!1):this._model==s.default.COMMON_POPUP_MODEL_1&&(this.okNode.setPosition(0,this.okNode.y),this.cancelNode.active=!1),c.default.getInstance().showBanner()},t.prototype.onOkBtnClick=function(){e.prototype.onClose.call(this),this._okCallback()},t.prototype.onCancelBtnClick=function(){this._cancelCallback(),e.prototype.onClose.call(this)},t.prototype.onClose=function(){this._closeCallback(),e.prototype.onClose.call(this)},t.prototype.onDestroy=function(){c.default.getInstance().hideBanner()},t.uiName="CommonPopup",r([f(cc.Sprite)],t.prototype,"awardIcon",void 0),r([f(cc.Label)],t.prototype,"titleText",void 0),r([f(cc.Label)],t.prototype,"contentText",void 0),r([f(cc.Label)],t.prototype,"okText",void 0),r([f(cc.Label)],t.prototype,"cancelText",void 0),r([f(cc.Node)],t.prototype,"okNode",void 0),r([f(cc.Node)],t.prototype,"iconVideoNode",void 0),r([f(cc.Node)],t.prototype,"cancelNode",void 0),r([f(cc.Node)],t.prototype,"btnlayout",void 0),r([d],t)}(o.default);n.default=p,cc._RF.pop()},{"../base/BaseUI":"BaseUI","../data/MiscConfig":"MiscConfig","../extension/LanguageData":"LanguageData","../manager/AdManager":"AdManager"}],1:[function(){},{}],2:[function(e,t){var n,a,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}})();var l,u=[],d=!1,f=-1;function p(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=s(p);d=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,d=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||d||s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(e,t){"use strict";var n=e("get-intrinsic"),a=e("call-bind/callBound"),i=n("%TypeError%"),r=e("es-abstract/2022/Call"),o=e("es-abstract/2022/Get"),s=e("es-abstract/2022/HasProperty"),c=e("es-abstract/2022/IsCallable"),l=e("es-abstract/2022/LengthOfArrayLike"),u=e("es-abstract/2022/ToObject"),d=e("es-abstract/2022/ToString"),f=e("is-string"),p=a("String.prototype.split"),h=Object("a"),g="a"!==h[0]||!(0 in h);t.exports=function(e){var t,n=u(this),a=g&&f(this)?p(this,""):n,h=l(a);if(!c(e))throw new i("Array.prototype.forEach callback must be a function");arguments.length>1&&(t=arguments[1]);for(var y=0;y<h;){var m=d(y),_=s(a,m);if(_){var v=o(a,m);r(e,t,[v,y,a])}y+=1}}},{"call-bind/callBound":8,"es-abstract/2022/Call":13,"es-abstract/2022/Get":14,"es-abstract/2022/HasProperty":15,"es-abstract/2022/IsCallable":17,"es-abstract/2022/LengthOfArrayLike":19,"es-abstract/2022/ToObject":25,"es-abstract/2022/ToString":27,"get-intrinsic":44,"is-string":54}],4:[function(e,t){"use strict";var n=e("define-properties"),a=e("call-bind"),i=e("call-bind/callBound"),r=e("es-abstract/2022/RequireObjectCoercible"),o=e("./implementation"),s=e("./polyfill"),c=s(),l=e("./shim"),u=i("Array.prototype.slice"),d=a.apply(c),f=function(e){return r(e),d(e,u(arguments,1))};n(f,{getPolyfill:s,implementation:o,shim:l}),t.exports=f},{"./implementation":3,"./polyfill":5,"./shim":6,"call-bind":9,"call-bind/callBound":8,"define-properties":12,"es-abstract/2022/RequireObjectCoercible":20}],5:[function(e,t){"use strict";var n=e("es-array-method-boxes-properly"),a=e("./implementation");t.exports=function(){var e=Array.prototype.forEach;return n(e)?e:a}},{"./implementation":3,"es-array-method-boxes-properly":39}],6:[function(e,t){"use strict";var n=e("define-properties"),a=e("./polyfill");t.exports=function(){var e=a();return n(Array.prototype,{forEach:e},{forEach:function(){return Array.prototype.forEach!==e}}),e}},{"./polyfill":5,"define-properties":12}],7:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],a=t[1];return 3*(n+a)/4-a},n.toByteArray=function(e){var t,n,a=l(e),o=a[0],s=a[1],c=new r(u(0,o,s)),d=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r=[],o=0,s=n-i;o<s;o+=16383)r.push(d(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[n-1],r.push(a[t>>2]+a[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),r.join("")};for(var a=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)a[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){return 3*(t+n)/4-n}function d(e,t,n){for(var i,r,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(r=i)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],8:[function(e,t){"use strict";var n=e("get-intrinsic"),a=e("./"),i=a(n("String.prototype.indexOf"));t.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?a(r):r}},{"./":9,"get-intrinsic":44}],9:[function(e,t){"use strict";var n=e("function-bind"),a=e("get-intrinsic"),i=a("%Function.prototype.apply%"),r=a("%Function.prototype.call%"),o=a("%Reflect.apply%",!0)||n.call(r,i),s=a("%Object.getOwnPropertyDescriptor%",!0),c=a("%Object.defineProperty%",!0),l=a("%Math.max%");if(c)try{c({},"a",{value:1})}catch(d){c=null}t.exports=function(e){var t=o(n,r,arguments);if(s&&c){var a=s(t,"length");a.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(n,i,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u},{"function-bind":43,"get-intrinsic":44}],10:[function(e,t,n){(function(a){var i;i=function(){var t=t||function(t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==a&&a.crypto&&(n=a.crypto),!n&&"function"==typeof e)try{n=e("crypto")}catch(y){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(y){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(y){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},c=s.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,a=this.sigBytes,i=e.sigBytes;if(this.clamp(),a%4)for(var r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[a+r>>>2]|=o<<24-(a+r)%4*8}else for(var s=0;s<i;s+=4)t[a+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;a.push((r>>>4).toString(16)),a.push((15&r).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new l.init(n,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;a.push(String.fromCharCode(r))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new l.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,a=this._data,i=a.words,r=a.sigBytes,o=this.blockSize,s=r/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,r);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(i,d);n=i.splice(0,c),a.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return t},"object"==typeof n?t.exports=n=i():"function"==typeof define&&define.amd?define([],i):this.CryptoJS=i()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:1}],11:[function(e,t,n){var a;a=function(e){return function(t){var n=e,a=n.lib,i=a.WordArray,r=a.Hasher,o=n.algo,s=[];(function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=o.MD5=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var a=t+n,i=e[a];e[a]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var r=this._hash.words,o=e[t+0],c=e[t+1],p=e[t+2],h=e[t+3],g=e[t+4],y=e[t+5],m=e[t+6],_=e[t+7],v=e[t+8],b=e[t+9],I=e[t+10],w=e[t+11],D=e[t+12],k=e[t+13],T=e[t+14],M=e[t+15],A=r[0],O=r[1],S=r[2],x=r[3];A=l(A,O,S,x,o,7,s[0]),x=l(x,A,O,S,c,12,s[1]),S=l(S,x,A,O,p,17,s[2]),O=l(O,S,x,A,h,22,s[3]),A=l(A,O,S,x,g,7,s[4]),x=l(x,A,O,S,y,12,s[5]),S=l(S,x,A,O,m,17,s[6]),O=l(O,S,x,A,_,22,s[7]),A=l(A,O,S,x,v,7,s[8]),x=l(x,A,O,S,b,12,s[9]),S=l(S,x,A,O,I,17,s[10]),O=l(O,S,x,A,w,22,s[11]),A=l(A,O,S,x,D,7,s[12]),x=l(x,A,O,S,k,12,s[13]),S=l(S,x,A,O,T,17,s[14]),A=u(A,O=l(O,S,x,A,M,22,s[15]),S,x,c,5,s[16]),x=u(x,A,O,S,m,9,s[17]),S=u(S,x,A,O,w,14,s[18]),O=u(O,S,x,A,o,20,s[19]),A=u(A,O,S,x,y,5,s[20]),x=u(x,A,O,S,I,9,s[21]),S=u(S,x,A,O,M,14,s[22]),O=u(O,S,x,A,g,20,s[23]),A=u(A,O,S,x,b,5,s[24]),x=u(x,A,O,S,T,9,s[25]),S=u(S,x,A,O,h,14,s[26]),O=u(O,S,x,A,v,20,s[27]),A=u(A,O,S,x,k,5,s[28]),x=u(x,A,O,S,p,9,s[29]),S=u(S,x,A,O,_,14,s[30]),A=d(A,O=u(O,S,x,A,D,20,s[31]),S,x,y,4,s[32]),x=d(x,A,O,S,v,11,s[33]),S=d(S,x,A,O,w,16,s[34]),O=d(O,S,x,A,T,23,s[35]),A=d(A,O,S,x,c,4,s[36]),x=d(x,A,O,S,g,11,s[37]),S=d(S,x,A,O,_,16,s[38]),O=d(O,S,x,A,I,23,s[39]),A=d(A,O,S,x,k,4,s[40]),x=d(x,A,O,S,o,11,s[41]),S=d(S,x,A,O,h,16,s[42]),O=d(O,S,x,A,m,23,s[43]),A=d(A,O,S,x,b,4,s[44]),x=d(x,A,O,S,D,11,s[45]),S=d(S,x,A,O,M,16,s[46]),A=f(A,O=d(O,S,x,A,p,23,s[47]),S,x,o,6,s[48]),x=f(x,A,O,S,_,10,s[49]),S=f(S,x,A,O,T,15,s[50]),O=f(O,S,x,A,y,21,s[51]),A=f(A,O,S,x,D,6,s[52]),x=f(x,A,O,S,h,10,s[53]),S=f(S,x,A,O,I,15,s[54]),O=f(O,S,x,A,c,21,s[55]),A=f(A,O,S,x,v,6,s[56]),x=f(x,A,O,S,M,10,s[57]),S=f(S,x,A,O,m,15,s[58]),O=f(O,S,x,A,k,21,s[59]),A=f(A,O,S,x,g,6,s[60]),x=f(x,A,O,S,w,10,s[61]),S=f(S,x,A,O,p,15,s[62]),O=f(O,S,x,A,b,21,s[63]),r[0]=r[0]+A|0,r[1]=r[1]+O|0,r[2]=r[2]+S|0,r[3]=r[3]+x|0},_doFinalize:function(){var e=this._data,n=e.words,a=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var r=t.floor(a/4294967296),o=a;n[15+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,a,i,r,o){var s=e+(t&n|~t&a)+i+o;return(s<<r|s>>>32-r)+t}function u(e,t,n,a,i,r,o){var s=e+(t&a|n&~a)+i+o;return(s<<r|s>>>32-r)+t}function d(e,t,n,a,i,r,o){var s=e+(t^n^a)+i+o;return(s<<r|s>>>32-r)+t}function f(e,t,n,a,i,r,o){var s=e+(n^(t|~a))+i+o;return(s<<r|s>>>32-r)+t}n.MD5=r._createHelper(c),n.HmacMD5=r._createHmacHelper(c)}(Math),e.MD5},"object"==typeof n?t.exports=n=a(e("./core")):"function"==typeof define&&define.amd?define(["./core"],a):a(this.CryptoJS)},{"./core":10}],12:[function(e,t){"use strict";var n=e("object-keys"),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,r=Array.prototype.concat,o=Object.defineProperty,s=e("has-property-descriptors")(),c=o&&s,l=function(e,t,n,a){if(t in e)if(!0===a){if(e[t]===n)return}else if("function"!=typeof(r=a)||"[object Function]"!==i.call(r)||!a())return;var r;c?o(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},u=function(e,t){var i=arguments.length>2?arguments[2]:{},o=n(t);a&&(o=r.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],i[o[s]])};u.supportsDescriptors=!!c,t.exports=u},{"has-property-descriptors":45,"object-keys":59}],13:[function(e,t){"use strict";var n=e("get-intrinsic"),a=e("call-bind/callBound"),i=n("%TypeError%"),r=e("./IsArray"),o=n("%Reflect.apply%",!0)||a("Function.prototype.apply");t.exports=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!r(n))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return o(e,t,n)}},{"./IsArray":16,"call-bind/callBound":8,"get-intrinsic":44}],14:[function(e,t){"use strict";var n=e("get-intrinsic")("%TypeError%"),a=e("object-inspect"),i=e("./IsPropertyKey"),r=e("./Type");t.exports=function(e,t){if("Object"!==r(e))throw new n("Assertion failed: Type(O) is not Object");if(!i(t))throw new n("Assertion failed: IsPropertyKey(P) is not true, got "+a(t));return e[t]}},{"./IsPropertyKey":18,"./Type":28,"get-intrinsic":44,"object-inspect":57}],15:[function(e,t){"use strict";var n=e("get-intrinsic")("%TypeError%"),a=e("./IsPropertyKey"),i=e("./Type");t.exports=function(e,t){if("Object"!==i(e))throw new n("Assertion failed: `O` must be an Object");if(!a(t))throw new n("Assertion failed: `P` must be a Property Key");return t in e}},{"./IsPropertyKey":18,"./Type":28,"get-intrinsic":44}],16:[function(e,t){"use strict";t.exports=e("../helpers/IsArray")},{"../helpers/IsArray":33}],17:[function(e,t){"use strict";t.exports=e("is-callable")},{"is-callable":51}],18:[function(e,t){"use strict";t.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},{}],19:[function(e,t){"use strict";var n=e("get-intrinsic")("%TypeError%"),a=e("./Get"),i=e("./ToLength"),r=e("./Type");t.exports=function(e){if("Object"!==r(e))throw new n("Assertion failed: `obj` must be an Object");return i(a(e,"length"))}},{"./Get":14,"./ToLength":23,"./Type":28,"get-intrinsic":44}],20:[function(e,t){"use strict";t.exports=e("../5/CheckObjectCoercible")},{"../5/CheckObjectCoercible":31}],21:[function(e,t){"use strict";var n=e("get-intrinsic"),a=n("%Number%"),i=n("%RegExp%"),r=n("%TypeError%"),o=n("%parseInt%"),s=e("call-bind/callBound"),c=e("safe-regex-test"),l=s("String.prototype.slice"),u=c(/^0b[01]+$/i),d=c(/^0o[0-7]+$/i),f=c(/^[-+]0x[0-9a-f]+$/i),p=c(new i("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),h=e("string.prototype.trim"),g=e("./Type");t.exports=function e(t){if("String"!==g(t))throw new r("Assertion failed: `argument` is not a String");if(u(t))return a(o(l(t,2),2));if(d(t))return a(o(l(t,2),8));if(p(t)||f(t))return NaN;var n=h(t);return n!==t?e(n):a(t)}},{"./Type":28,"call-bind/callBound":8,"get-intrinsic":44,"safe-regex-test":81,"string.prototype.trim":83}],22:[function(e,t){"use strict";var n=e("./abs"),a=e("./floor"),i=e("./ToNumber"),r=e("../helpers/isNaN"),o=e("../helpers/isFinite"),s=e("../helpers/sign");t.exports=function(e){var t=i(e);if(r(t)||0===t)return 0;if(!o(t))return t;var c=a(n(t));return 0===c?0:s(t)*c}},{"../helpers/isFinite":34,"../helpers/isNaN":35,"../helpers/sign":38,"./ToNumber":24,"./abs":29,"./floor":30}],23:[function(e,t){"use strict";var n=e("../helpers/maxSafeInteger"),a=e("./ToIntegerOrInfinity");t.exports=function(e){var t=a(e);return t<=0?0:t>n?n:t}},{"../helpers/maxSafeInteger":37,"./ToIntegerOrInfinity":22}],24:[function(e,t){"use strict";var n=e("get-intrinsic"),a=n("%TypeError%"),i=n("%Number%"),r=e("../helpers/isPrimitive"),o=e("./ToPrimitive"),s=e("./StringToNumber");t.exports=function(e){var t=r(e)?e:o(e,i);if("symbol"==typeof t)throw new a("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new a("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof t?s(t):i(t)}},{"../helpers/isPrimitive":36,"./StringToNumber":21,"./ToPrimitive":26,"get-intrinsic":44}],25:[function(e,t){"use strict";var n=e("get-intrinsic")("%Object%"),a=e("./RequireObjectCoercible");t.exports=function(e){return a(e),n(e)}},{"./RequireObjectCoercible":20,"get-intrinsic":44}],26:[function(e,t){"use strict";var n=e("es-to-primitive/es2015");t.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},{"es-to-primitive/es2015":40}],27:[function(e,t){"use strict";var n=e("get-intrinsic"),a=n("%String%"),i=n("%TypeError%");t.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return a(e)}},{"get-intrinsic":44}],28:[function(e,t){"use strict";var n=e("../5/Type");t.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":n(e)}},{"../5/Type":32}],29:[function(e,t){"use strict";var n=e("get-intrinsic")("%Math.abs%");t.exports=function(e){return n(e)}},{"get-intrinsic":44}],30:[function(e,t){"use strict";var n=e("./Type"),a=Math.floor;t.exports=function(e){return"BigInt"===n(e)?e:a(e)}},{"./Type":28}],31:[function(e,t){"use strict";var n=e("get-intrinsic")("%TypeError%");t.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},{"get-intrinsic":44}],32:[function(e,t){"use strict";t.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},{}],33:[function(e,t){"use strict";var n=e("get-intrinsic")("%Array%"),a=!n.isArray&&e("call-bind/callBound")("Object.prototype.toString");t.exports=n.isArray||function(e){return"[object Array]"===a(e)}},{"call-bind/callBound":8,"get-intrinsic":44}],34:[function(e,t){"use strict";var n=e("./isNaN");t.exports=function(e){return("number"==typeof e||"bigint"==typeof e)&&!n(e)&&e!==1/0&&e!==-1/0}},{"./isNaN":35}],35:[function(e,t){"use strict";t.exports=Number.isNaN||function(e){return e!=e}},{}],36:[function(e,t){"use strict";t.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},{}],37:[function(e,t){"use strict";var n=e("get-intrinsic"),a=n("%Math%"),i=n("%Number%");t.exports=i.MAX_SAFE_INTEGER||a.pow(2,53)-1},{"get-intrinsic":44}],38:[function(e,t){"use strict";t.exports=function(e){return e>=0?1:-1}},{}],39:[function(e,t){t.exports=function(e){var t=!0,n=!0,a=!1;if("function"==typeof e){try{e.call("f",function(e,n,a){"object"!=typeof a&&(t=!1)}),e.call([null],function(){"use strict";n="string"==typeof this},"x")}catch(i){a=!0}return!a&&t&&n}return!1}},{}],40:[function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=e("./helpers/isPrimitive"),i=e("is-callable"),r=e("is-date-object"),o=e("is-symbol"),s=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,o,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<s.length;++o)if(n=e[s[o]],i(n)&&(r=n.call(e),a(r)))return r;throw new TypeError("No default value")},c=function(e,t){var n=e[t];if(null!=n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};t.exports=function(e){if(a(e))return e;var t,i="default";if(arguments.length>1&&(arguments[1]===String?i="string":arguments[1]===Number&&(i="number")),n&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):o(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var l=t.call(e,i);if(a(l))return l;throw new TypeError("unable to convert exotic object to primitive")}return"default"===i&&(r(e)||o(e))&&(i="string"),s(e,"default"===i?"number":i)}},{"./helpers/isPrimitive":41,"is-callable":51,"is-date-object":52,"is-symbol":55}],41:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],42:[function(e,t){"use strict";var n="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,o=a.call(arguments,1),s=function(){if(this instanceof r){var n=t.apply(this,o.concat(a.call(arguments)));return Object(n)===n?n:this}return t.apply(e,o.concat(a.call(arguments)))},c=Math.max(0,t.length-o.length),l=[],u=0;u<c;u++)l.push("$"+u);if(r=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,r.prototype=new d,d.prototype=null}return r}},{}],43:[function(e,t){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":42}],44:[function(e,t){"use strict";var n=SyntaxError,a=Function,i=TypeError,r=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(S){o=null}var s=function(){throw new i},c=o?function(){try{return arguments.callee,s}catch(e){try{return o(arguments,"callee").get}catch(t){return s}}}():s,l=e("has-symbols")(),u=e("has-proto")(),d=Object.getPrototypeOf||(u?function(e){return e.__proto__}:null),f={},p="undefined"!=typeof Uint8Array&&d?d(Uint8Array):void 0,h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l&&d?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&d?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l&&d?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l&&d?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&d?d(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(d)try{null.error}catch(S){var g=d(d(S));h["%Error.prototype%"]=g}var y=function e(t){var n;if("%AsyncFunction%"===t)n=r("async function () {}");else if("%GeneratorFunction%"===t)n=r("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=r("async function* () {}");else if("%AsyncGenerator%"===t){var a=e("%AsyncGeneratorFunction%");a&&(n=a.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&d&&(n=d(i.prototype))}return h[t]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=e("function-bind"),v=e("has"),b=_.call(Function.call,Array.prototype.concat),I=_.call(Function.apply,Array.prototype.splice),w=_.call(Function.call,String.prototype.replace),D=_.call(Function.call,String.prototype.slice),k=_.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,A=function(e){var t=D(e,0,1),a=D(e,-1);if("%"===t&&"%"!==a)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===a&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return w(e,T,function(e,t,n,a){i[i.length]=n?w(a,M,"$1"):t||e}),i},O=function(e,t){var a,r=e;if(v(m,r)&&(r="%"+(a=m[r])[0]+"%"),v(h,r)){var o=h[r];if(o===f&&(o=y(r)),void 0===o&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:r,value:o}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=A(e),r=a.length>0?a[0]:"",s=O("%"+r+"%",t),c=s.name,l=s.value,u=!1,d=s.alias;d&&(r=d[0],I(a,b([0,1],d)));for(var f=1,p=!0;f<a.length;f+=1){var g=a[f],y=D(g,0,1),m=D(g,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==g&&p||(u=!0),v(h,c="%"+(r+="."+g)+"%"))l=h[c];else if(null!=l){if(!(g in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(o&&f+1>=a.length){var _=o(l,g);l=(p=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:l[g]}else p=v(l,g),l=l[g];p&&!u&&(h[c]=l)}}return l}},{"function-bind":43,has:50,"has-proto":46,"has-symbols":47}],45:[function(e,t){"use strict";var n=e("get-intrinsic")("%Object.defineProperty%",!0),a=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},t.exports=a},{"get-intrinsic":44}],46:[function(e,t){"use strict";var n={foo:{}},a=Object;t.exports=function(){return{__proto__:n}.foo===n.foo&&!({__proto__:null}instanceof a)}},{}],47:[function(e,t){"use strict";var n="undefined"!=typeof Symbol&&Symbol,a=e("./shams");t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&a()}},{"./shams":48}],48:[function(e,t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var a=Object.getOwnPropertySymbols(e);if(1!==a.length||a[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],49:[function(e,t){"use strict";var n=e("has-symbols/shams");t.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":48}],50:[function(e,t){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":43}],51:[function(e,t){"use strict";var n,a,i=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},r(function(){throw 42},null,n)}catch(h){h!==a&&(r=null)}else r=null;var o=/^\s*class\b/,s=function(e){try{var t=i.call(e);return o.test(t)}catch(n){return!1}},c=function(e){try{return!s(e)&&(i.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(f=function(e){if((d||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}t.exports=r?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{r(e,null,n)}catch(t){if(t!==a)return!1}return!s(e)&&c(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return c(e);if(s(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&c(e)}},{}],52:[function(e,t){"use strict";var n=Date.prototype.getDay,a=function(e){try{return n.call(e),!0}catch(t){return!1}},i=Object.prototype.toString,r=e("has-tostringtag/shams")();t.exports=function(e){return"object"==typeof e&&null!==e&&(r?a(e):"[object Date]"===i.call(e))}},{"has-tostringtag/shams":49}],53:[function(e,t){"use strict";var n,a,i,r,o=e("call-bind/callBound"),s=e("has-tostringtag/shams")();if(s){n=o("Object.prototype.hasOwnProperty"),a=o("RegExp.prototype.exec"),i={};var c=function(){throw i};r={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(r[Symbol.toPrimitive]=c)}var l=o("Object.prototype.toString"),u=Object.getOwnPropertyDescriptor;t.exports=s?function(e){if(!e||"object"!=typeof e)return!1;var t=u(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{a(e,r)}catch(o){return o===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},{"call-bind/callBound":8,"has-tostringtag/shams":49}],54:[function(e,t){"use strict";var n=String.prototype.valueOf,a=function(e){try{return n.call(e),!0}catch(t){return!1}},i=Object.prototype.toString,r=e("has-tostringtag/shams")();t.exports=function(e){return"string"==typeof e||"object"==typeof e&&(r?a(e):"[object String]"===i.call(e))}},{"has-tostringtag/shams":49}],55:[function(e,t){"use strict";var n=Object.prototype.toString;if(e("has-symbols")()){var a=Symbol.prototype.toString,i=/^Symbol\(.*\)$/,r=function(e){return"symbol"==typeof e.valueOf()&&i.test(a.call(e))};t.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return r(e)}catch(t){return!1}}}else t.exports=function(){return!1}},{"has-symbols":47}],56:[function(e,t){"use strict";var n=e("array.prototype.foreach"),a=e("object.entries"),i=e("warning"),r=e("has"),o=e("string.prototype.trim"),s=function(e){i(!1,e)},c=String.prototype.replace,l=String.prototype.split,u="||||",d=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},f={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:d,chinese:function(){return 0},croatian:d,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:d,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(e){if(1===e)return 0;var t=e%100;return 0===e||t>=2&&t<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function p(e,t){var i,r,o=(i=e.pluralTypeToLanguages,r={},n(a(i),function(e){var t=e[0],a=e[1];n(a,function(e){r[e]=t})}),r);return o[t]||o[l.call(t,/-/,1)[0]]||o.en}function h(e,t,n){return e.pluralTypes[t](n)}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===u||n===u)throw new RangeError('"'+u+'" token is reserved for pluralization');return new RegExp(g(t)+"(.*?)"+g(n),"g")}var m,_=(m={},function(e,t){var n=m[t];return n&&!e.pluralTypes[n]&&(n=null,m[t]=n),n||(n=p(e,t))&&(m[t]=n),n}),v=/%\{(.*?)\}/g;function b(e,t,n,a,i,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var d=e,p=a||v,g=s||c,y="number"==typeof t?{smart_count:t}:t;if(null!=y.smart_count&&e){var m=i||f,b=l.call(e,u),I=h(m,_(m,n||"en"),y.smart_count);d=o(b[I]||b[0])}return g.call(d,p,function(e,t){return r(y,t)&&null!=y[t]?y[t]:e})}function I(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?b:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||s,this.replaceImplementation=t.replace||c,this.tokenRegex=y(t.interpolation),this.pluralRules=t.pluralRules||f}I.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},I.prototype.extend=function(e,t){n(a(e||{}),function(e){var n=e[0],a=e[1],i=t?t+"."+n:n;"object"==typeof a?this.extend(a,i):this.phrases[i]=a},this)},I.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:n(a(e||{}),function(e){var n=e[0],a=e[1],i=t?t+"."+n:n;"object"==typeof a?this.unset(a,i):delete this.phrases[i]},this)},I.prototype.clear=function(){this.phrases={}},I.prototype.replace=function(e){this.clear(),this.extend(e)},I.prototype.t=function(e,t){var n,a,i=null==t?{}:t;return"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof i._?n=i._:this.onMissingKey?a=(0,this.onMissingKey)(e,i,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation):(this.warn('Missing translation for key: "'+e+'"'),a=e),"string"==typeof n&&(a=b(n,i,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),a},I.prototype.has=function(e){return r(this.phrases,e)},I.transformPhrase=function(e,t,n){return b(e,t,n)},t.exports=I},{"array.prototype.foreach":4,has:50,"object.entries":62,"string.prototype.trim":83,warning:86}],57:[function(e,t){var n="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&a&&"function"==typeof a.get?a.get:null,r=n&&Map.prototype.forEach,o="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=o&&s&&"function"==typeof s.get?s.get:null,l=o&&Set.prototype.forEach,u="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,h=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,_=String.prototype.replace,v=String.prototype.toUpperCase,b=String.prototype.toLowerCase,I=RegExp.prototype.test,w=Array.prototype.concat,D=Array.prototype.join,k=Array.prototype.slice,T=Math.floor,M="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,S="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||I.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var a=e<0?-T(-e):T(e);if(a!==e){var i=String(a),r=m.call(t,i.length+1);return _.call(i,n,"$&_")+"."+_.call(_.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,n,"$&_")}var B=e("./util.inspect"),E=B.custom,j=Y(E)?E:null;function U(e,t,n){var a="double"===(n.quoteStyle||t)?'"':"'";return a+e+a}function N(e){return _.call(String(e),/"/g,"&quot;")}function L(e){return!("[object Array]"!==J(e)||x&&"object"==typeof e&&x in e)}function F(e){return!("[object Date]"!==J(e)||x&&"object"==typeof e&&x in e)}function G(e){return!("[object RegExp]"!==J(e)||x&&"object"==typeof e&&x in e)}function V(e){return!("[object Error]"!==J(e)||x&&"object"==typeof e&&x in e)}function H(e){return!("[object String]"!==J(e)||x&&"object"==typeof e&&x in e)}function z(e){return!("[object Number]"!==J(e)||x&&"object"==typeof e&&x in e)}function W(e){return!("[object Boolean]"!==J(e)||x&&"object"==typeof e&&x in e)}function Y(e){if(S)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}function q(e){if(!e||"object"!=typeof e||!M)return!1;try{return M.call(e),!0}catch(t){}return!1}t.exports=function e(t,n,a,o){var s=n||{};if(Z(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Z(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!Z(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Z(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Z(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var d=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return ie(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var f=String(t);return d?P(t,f):f}if("bigint"==typeof t){var h=String(t)+"n";return d?P(t,h):h}var g=void 0===s.depth?5:s.depth;if(void 0===a&&(a=0),a>=g&&g>0&&"object"==typeof t)return L(t)?"[Array]":"[Object]";var y,v=ue(s,a);if(void 0===o)o=[];else if($(o,t)>=0)return"[Circular]";function I(t,n,i){if(n&&(o=k.call(o)).push(n),i){var r={depth:s.depth};return Z(s,"quoteStyle")&&(r.quoteStyle=s.quoteStyle),e(t,r,a+1,o)}return e(t,s,a+1,o)}if("function"==typeof t&&!G(t)){var T=X(t),A=fe(t,I);return"[Function"+(T?": "+T:" (anonymous)")+"]"+(A.length>0?" { "+D.call(A,", ")+" }":"")}if(Y(t)){var E=S?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||S?E:oe(E)}if((y=t)&&"object"==typeof y&&("undefined"!=typeof HTMLElement&&y instanceof HTMLElement||"string"==typeof y.nodeName&&"function"==typeof y.getAttribute)){for(var K="<"+b.call(String(t.nodeName)),re=t.attributes||[],pe=0;pe<re.length;pe++)K+=" "+re[pe].name+"="+U(N(re[pe].value),"double",s);return K+=">",t.childNodes&&t.childNodes.length&&(K+="..."),K+"</"+b.call(String(t.nodeName))+">"}if(L(t)){if(0===t.length)return"[]";var he=fe(t,I);return v&&!le(he)?"["+de(he,v)+"]":"[ "+D.call(he,", ")+" ]"}if(V(t)){var ge=fe(t,I);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===ge.length?"["+String(t)+"]":"{ ["+String(t)+"] "+D.call(ge,", ")+" }":"{ ["+String(t)+"] "+D.call(w.call("[cause]: "+I(t.cause),ge),", ")+" }"}if("object"==typeof t&&u){if(j&&"function"==typeof t[j]&&B)return B(t,{depth:g-a});if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(Q(t)){var ye=[];return r&&r.call(t,function(e,n){ye.push(I(n,t,!0)+" => "+I(e,t))}),ce("Map",i.call(t),ye,v)}if(ne(t)){var me=[];return l&&l.call(t,function(e){me.push(I(e,t))}),ce("Set",c.call(t),me,v)}if(ee(t))return se("WeakMap");if(ae(t))return se("WeakSet");if(te(t))return se("WeakRef");if(z(t))return oe(I(Number(t)));if(q(t))return oe(I(M.call(t)));if(W(t))return oe(p.call(t));if(H(t))return oe(I(String(t)));if(!F(t)&&!G(t)){var _e=fe(t,I),ve=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,be=t instanceof Object?"":"null prototype",Ie=!ve&&x&&Object(t)===t&&x in t?m.call(J(t),8,-1):be?"Object":"",we=(ve||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(Ie||be?"["+D.call(w.call([],Ie||[],be||[]),": ")+"] ":"");return 0===_e.length?we+"{}":v?we+"{"+de(_e,v)+"}":we+"{ "+D.call(_e,", ")+" }"}return String(t)};var K=Object.prototype.hasOwnProperty||function(e){return e in this};function Z(e,t){return K.call(e,t)}function J(e){return h.call(e)}function X(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}function Q(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function ee(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e,u);try{d.call(e,d)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function te(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(t){}return!1}function ne(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function ae(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{u.call(e,u)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function ie(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,a="... "+n+" more character"+(n>1?"s":"");return ie(m.call(e,0,t.maxStringLength),t)+a}return U(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,re),"single",t)}function re(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+v.call(t.toString(16))}function oe(e){return"Object("+e+")"}function se(e){return e+" { ? }"}function ce(e,t,n,a){return e+" ("+t+") {"+(a?de(n,a):D.call(n,", "))+"}"}function le(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}function ue(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=D.call(Array(e.indent+1)," ")}return{base:n,prev:D.call(Array(t+1),n)}}function de(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+D.call(e,","+n)+"\n"+t.prev}function fe(e,t){var n=L(e),a=[];if(n){a.length=e.length;for(var i=0;i<e.length;i++)a[i]=Z(e,i)?t(e[i],e):""}var r,o="function"==typeof A?A(e):[];if(S){r={};for(var s=0;s<o.length;s++)r["$"+o[s]]=o[s]}for(var c in e)Z(e,c)&&(n&&String(Number(c))===c&&c<e.length||S&&r["$"+c]instanceof Symbol||(I.call(/[^\w$]/,c)?a.push(t(c,e)+": "+t(e[c],e)):a.push(c+": "+t(e[c],e))));if("function"==typeof A)for(var l=0;l<o.length;l++)R.call(e,o[l])&&a.push("["+t(o[l])+"]: "+t(e[o[l]],e));return a}},{"./util.inspect":1}],58:[function(e,t){"use strict";var n;if(!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=e("./isArguments"),o=Object.prototype.propertyIsEnumerable,s=!o.call({toString:null},"toString"),c=o.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(t){return!1}};n=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),o=r(e),u=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(u&&e.length>0&&!a.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(o&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var y in e)f&&"prototype"===y||!a.call(e,y)||d.push(String(y));if(s)for(var m=p(e),_=0;_<l.length;++_)m&&"constructor"===l[_]||!a.call(e,l[_])||d.push(l[_]);return d}}t.exports=n},{"./isArguments":60}],59:[function(e,t){"use strict";var n=Array.prototype.slice,a=e("./isArguments"),i=Object.keys,r=i?function(e){return i(e)}:e("./implementation"),o=Object.keys;r.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return a(e)?o(n.call(e)):o(e)}):Object.keys=r,Object.keys||r},t.exports=r},{"./implementation":58,"./isArguments":60}],60:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),a="[object Arguments]"===t;return a||(a="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),a}},{}],61:[function(e,t){"use strict";var n=e("es-abstract/2022/RequireObjectCoercible"),a=e("call-bind/callBound"),i=a("Object.prototype.propertyIsEnumerable"),r=a("Array.prototype.push");t.exports=function(e){var t=n(e),a=[];for(var o in t)i(t,o)&&r(a,[o,t[o]]);return a}},{"call-bind/callBound":8,"es-abstract/2022/RequireObjectCoercible":20}],62:[function(e,t){"use strict";var n=e("define-properties"),a=e("call-bind"),i=e("./implementation"),r=e("./polyfill"),o=e("./shim"),s=a(r(),Object);n(s,{getPolyfill:r,implementation:i,shim:o}),t.exports=s},{"./implementation":61,"./polyfill":63,"./shim":64,"call-bind":9,"define-properties":12}],63:[function(e,t){"use strict";var n=e("./implementation");t.exports=function(){return"function"==typeof Object.entries?Object.entries:n}},{"./implementation":61}],64:[function(e,t){"use strict";var n=e("./polyfill"),a=e("define-properties");t.exports=function(){var e=n();return a(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},{"./polyfill":63,"define-properties":12}],65:[function(e,t){"use strict";const{Deflate:n,deflate:a,deflateRaw:i,gzip:r}=e("./lib/deflate"),{Inflate:o,inflate:s,inflateRaw:c,ungzip:l}=e("./lib/inflate"),u=e("./lib/zlib/constants");t.exports.Deflate=n,t.exports.deflate=a,t.exports.deflateRaw=i,t.exports.gzip=r,t.exports.Inflate=o,t.exports.inflate=s,t.exports.inflateRaw=c,t.exports.ungzip=l,t.exports.constants=u},{"./lib/deflate":66,"./lib/inflate":67,"./lib/zlib/constants":71}],66:[function(e,t){"use strict";const n=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),r=e("./zlib/messages"),o=e("./zlib/zstream"),s=Object.prototype.toString,{Z_NO_FLUSH:c,Z_SYNC_FLUSH:l,Z_FULL_FLUSH:u,Z_FINISH:d,Z_OK:f,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:h,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:y}=e("./zlib/constants");function m(e){this.options=a.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;let c=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(c!==f)throw new Error(r[c]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(c=n.deflateSetDictionary(this.strm,e))!==f)throw new Error(r[c]);this._dict_set=!0}}function _(e,t){const n=new m(t);if(n.push(e,!0),n.err)throw n.msg||r[n.err];return n.result}m.prototype.push=function(e,t){const a=this.strm,r=this.options.chunkSize;let o,h;if(this.ended)return!1;for(h=t===~~t?t:!0===t?d:c,"string"==typeof e?a.input=i.string2buf(e):"[object ArrayBuffer]"===s.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),(h===l||h===u)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((o=n.deflate(a,h))===p)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),o=n.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===f;if(0!==a.avail_out){if(h>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===f&&(this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.exports.Deflate=m,t.exports.deflate=_,t.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,_(e,t)},t.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,_(e,t)},t.exports.constants=e("./zlib/constants")},{"./utils/common":68,"./utils/strings":69,"./zlib/constants":71,"./zlib/deflate":73,"./zlib/messages":78,"./zlib/zstream":80}],67:[function(e,t){"use strict";const n=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),r=e("./zlib/messages"),o=e("./zlib/zstream"),s=e("./zlib/gzheader"),c=Object.prototype.toString,{Z_NO_FLUSH:l,Z_FINISH:u,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:p,Z_STREAM_ERROR:h,Z_DATA_ERROR:g,Z_MEM_ERROR:y}=e("./zlib/constants");function m(e){this.options=a.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;let l=n.inflateInit2(this.strm,t.windowBits);if(l!==d)throw new Error(r[l]);if(this.header=new s,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(l=n.inflateSetDictionary(this.strm,t.dictionary))!==d))throw new Error(r[l])}function _(e,t){const n=new m(t);if(n.push(e),n.err)throw n.msg||r[n.err];return n.result}m.prototype.push=function(e,t){const a=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let s,m,_;if(this.ended)return!1;for(m=t===~~t?t:!0===t?u:l,"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),(s=n.inflate(a,m))===p&&o&&((s=n.inflateSetDictionary(a,o))===d?s=n.inflate(a,m):s===g&&(s=p));a.avail_in>0&&s===f&&a.state.wrap>0&&0!==e[a.next_in];)n.inflateReset(a),s=n.inflate(a,m);switch(s){case h:case g:case p:case y:return this.onEnd(s),this.ended=!0,!1}if(_=a.avail_out,a.next_out&&(0===a.avail_out||s===f))if("string"===this.options.to){let e=i.utf8border(a.output,a.next_out),t=a.next_out-e,n=i.buf2string(a.output,e);a.next_out=t,a.avail_out=r-t,t&&a.output.set(a.output.subarray(e,e+t),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==d||0!==_){if(s===f)return s=n.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.exports.Inflate=m,t.exports.inflate=_,t.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,_(e,t)},t.exports.ungzip=_,t.exports.constants=e("./zlib/constants")},{"./utils/common":68,"./utils/strings":69,"./zlib/constants":71,"./zlib/gzheader":74,"./zlib/inflate":76,"./zlib/messages":78,"./zlib/zstream":80}],68:[function(e,t){"use strict";const n=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);t.exports.assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const t in a)n(a,t)&&(e[t]=a[t])}}return e},t.exports.flattenChunks=e=>{let t=0;for(let a=0,i=e.length;a<i;a++)t+=e[a].length;const n=new Uint8Array(t);for(let a=0,i=0,r=e.length;a<r;a++){let t=e[a];n.set(t,i),i+=t.length}return n}},{}],69:[function(e,t){"use strict";let n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){n=!1}const a=new Uint8Array(256);for(let o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;a[254]=a[254]=1,t.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,a,i,r,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),r=0,i=0;r<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?t[r++]=n:n<2048?(t[r++]=192|n>>>6,t[r++]=128|63&n):n<65536?(t[r++]=224|n>>>12,t[r++]=128|n>>>6&63,t[r++]=128|63&n):(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63,t[r++]=128|n>>>6&63,t[r++]=128|63&n);return t};const i=(e,t)=>{if(t<65534&&e.subarray&&n)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let n=0;n<t;n++)a+=String.fromCharCode(e[n]);return a};t.exports.buf2string=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const s=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){s[o++]=t;continue}let i=a[t];if(i>4)s[o++]=65533,r+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&r<n;)t=t<<6|63&e[r++],i--;i>1?s[o++]=65533:t<65536?s[o++]=t:(t-=65536,s[o++]=55296|t>>10&1023,s[o++]=56320|1023&t)}}return i(s,o)},t.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{}],70:[function(e,t){"use strict";t.exports=(e,t,n,a)=>{let i=65535&e|0,r=e>>>16&65535|0,o=0;for(;0!==n;){n-=o=n>2e3?2e3:n;do{r=r+(i=i+t[a++]|0)|0}while(--o);i%=65521,r%=65521}return i|r<<16|0}},{}],71:[function(e,t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],72:[function(e,t){"use strict";const n=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());t.exports=(e,t,a,i)=>{const r=n,o=i+a;e^=-1;for(let n=i;n<o;n++)e=e>>>8^r[255&(e^t[n])];return-1^e}},{}],73:[function(e,t){"use strict";const{_tr_init:n,_tr_stored_block:a,_tr_flush_block:i,_tr_tally:r,_tr_align:o}=e("./trees"),s=e("./adler32"),c=e("./crc32"),l=e("./messages"),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:d,Z_FULL_FLUSH:f,Z_FINISH:p,Z_BLOCK:h,Z_OK:g,Z_STREAM_END:y,Z_STREAM_ERROR:m,Z_DATA_ERROR:_,Z_BUF_ERROR:v,Z_DEFAULT_COMPRESSION:b,Z_FILTERED:I,Z_HUFFMAN_ONLY:w,Z_RLE:D,Z_FIXED:k,Z_DEFAULT_STRATEGY:T,Z_UNKNOWN:M,Z_DEFLATED:A}=e("./constants"),O=286,S=30,x=19,R=2*O+1,C=15,P=(e,t)=>(e.msg=l[t],t),B=e=>2*e-(e>4?9:0),E=e=>{let t=e.length;for(;--t>=0;)e[t]=0},j=e=>{let t,n,a,i=e.w_size;a=t=e.hash_size;do{n=e.head[--a],e.head[a]=n>=i?n-i:0}while(--t);a=t=i;do{n=e.prev[--a],e.prev[a]=n>=i?n-i:0}while(--t)};let U=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const N=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},L=(e,t)=>{i(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,N(e.strm)},F=(e,t)=>{e.pending_buf[e.pending++]=t},G=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},V=(e,t,n,a)=>{let i=e.avail_in;return i>a&&(i=a),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=s(e.adler,t,i,n):2===e.state.wrap&&(e.adler=c(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},H=(e,t)=>{let n,a,i=e.max_chain_length,r=e.strstart,o=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258;let p=l[r+o-1],h=l[r+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===h&&l[n+o-1]===p&&l[n]===l[r]&&l[++n]===l[r+1]){r+=2,n++;do{}while(l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&l[++r]===l[++n]&&r<f);if(a=258-(f-r),r=f-258,a>o){if(e.match_start=t,o=a,a>=s)break;p=l[r+o-1],h=l[r+o]}}}while((t=d[t&u])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead},z=e=>{const t=e.w_size;let n,a,i;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)&&(e.window.set(e.window.subarray(t,t+t-a),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),j(e),a+=t),0===e.strm.avail_in)break;if(n=V(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=U(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=U(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},W=(e,t)=>{let n,i,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,c=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&t!==p||t===u||n!==i+e.strm.avail_in))break;s=t===p&&n===i+e.strm.avail_in?1:0,a(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,N(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(V(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return(c-=e.strm.avail_in)&&(c>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=c&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-c,e.strm.next_in),e.strstart),e.strstart+=c,e.insert+=c>e.w_size-e.insert?e.w_size-e.insert:c),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==u&&t!==p&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(V(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,o=(r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r)>e.w_size?e.w_size:r,((i=e.strstart-e.block_start)>=o||(i||t===p)&&t!==u&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,s=t===p&&0===e.strm.avail_in&&n===i?1:0,a(e,e.block_start,n,s),e.block_start+=n,N(e.strm)),s?3:1)},Y=(e,t)=>{let n,a;for(;;){if(e.lookahead<262){if(z(e),e.lookahead<262&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=U(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=H(e,n)),e.match_length>=3)if(a=r(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=U(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=U(e,e.ins_h,e.window[e.strstart+1]);else a=r(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(L(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===p?(L(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(L(e,!1),0===e.strm.avail_out)?1:2},q=(e,t)=>{let n,a,i;for(;;){if(e.lookahead<262){if(z(e),e.lookahead<262&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=U(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=H(e,n),e.match_length<=5&&(e.strategy===I||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,a=r(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=U(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,a&&(L(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((a=r(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=r(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===p?(L(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(L(e,!1),0===e.strm.avail_out)?1:2},K=(e,t)=>{let n,a,i,o;const s=e.window;for(;;){if(e.lookahead<=258){if(z(e),e.lookahead<=258&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=s[i=e.strstart-1])===s[++i]&&a===s[++i]&&a===s[++i]){o=e.strstart+258;do{}while(a===s[++i]&&a===s[++i]&&a===s[++i]&&a===s[++i]&&a===s[++i]&&a===s[++i]&&a===s[++i]&&a===s[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=r(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=r(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(L(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===p?(L(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(L(e,!1),0===e.strm.avail_out)?1:2},Z=(e,t)=>{let n;for(;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,n=r(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(L(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===p?(L(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(L(e,!1),0===e.strm.avail_out)?1:2};function J(e,t,n,a,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=a,this.func=i}const X=[new J(0,0,0,0,W),new J(4,4,8,4,Y),new J(4,5,16,8,Y),new J(4,6,32,32,Y),new J(4,4,16,16,q),new J(8,16,32,32,q),new J(8,16,128,128,q),new J(8,32,128,256,q),new J(32,128,258,1024,q),new J(32,258,258,4096,q)],$=e=>{e.window_size=2*e.w_size,E(e.head),e.max_lazy_match=X[e.level].max_lazy,e.good_match=X[e.level].good_length,e.nice_match=X[e.level].nice_length,e.max_chain_length=X[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0};function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*R),this.dyn_dtree=new Uint16Array(2*(2*S+1)),this.bl_tree=new Uint16Array(2*(2*x+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(C+1),this.heap=new Uint16Array(2*O+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*O+1),E(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ee=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},te=e=>{if(ee(e))return P(e,m);e.total_in=e.total_out=0,e.data_type=M;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,n(t),g},ne=e=>{const t=te(e);return t===g&&$(e.state),t},ae=(e,t,n,a,i,r)=>{if(!e)return m;let o=1;if(t===b&&(t=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),i<1||i>9||n!==A||a<8||a>15||t<0||t>9||r<0||r>k||8===a&&1!==o)return P(e,m);8===a&&(a=9);const s=new Q;return e.state=s,s.strm=e,s.status=42,s.wrap=o,s.gzhead=null,s.w_bits=a,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=r,s.method=n,ne(e)};t.exports.deflateInit=(e,t)=>ae(e,t,A,15,8,T),t.exports.deflateInit2=ae,t.exports.deflateReset=ne,t.exports.deflateResetKeep=te,t.exports.deflateSetHeader=(e,t)=>ee(e)||2!==e.state.wrap?m:(e.state.gzhead=t,g),t.exports.deflate=(e,t)=>{if(ee(e)||t>h||t<0)return e?P(e,m):m;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==p)return P(e,0===e.avail_out?v:m);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(N(e),0===e.avail_out)return n.last_flush=-1,g}else if(0===e.avail_in&&B(t)<=B(i)&&t!==p)return P(e,v);if(666===n.status&&0!==e.avail_in)return P(e,v);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){let t=A+(n.w_bits-8<<4)<<8,a=-1;if(t|=(a=n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(t|=32),G(n,t+=31-t%31),0!==n.strstart&&(G(n,e.adler>>>16),G(n,65535&e.adler)),e.adler=1,n.status=113,N(e),0!==n.pending)return n.last_flush=-1,g}if(57===n.status)if(e.adler=0,F(n,31),F(n,139),F(n,8),n.gzhead)F(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),F(n,255&n.gzhead.time),F(n,n.gzhead.time>>8&255),F(n,n.gzhead.time>>16&255),F(n,n.gzhead.time>>24&255),F(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),F(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(F(n,255&n.gzhead.extra.length),F(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=c(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(F(n,0),F(n,0),F(n,0),F(n,0),F(n,0),F(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),F(n,3),n.status=113,N(e),0!==n.pending)return n.last_flush=-1,g;if(69===n.status){if(n.gzhead.extra){let t=n.pending,a=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=c(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,N(e),0!==n.pending)return n.last_flush=-1,g;t=0,a-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>t&&(e.adler=c(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,a=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=c(e.adler,n.pending_buf,n.pending-a,a)),N(e),0!==n.pending)return n.last_flush=-1,g;a=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,F(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>a&&(e.adler=c(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,a=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=c(e.adler,n.pending_buf,n.pending-a,a)),N(e),0!==n.pending)return n.last_flush=-1,g;a=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,F(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>a&&(e.adler=c(e.adler,n.pending_buf,n.pending-a,a))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(N(e),0!==n.pending))return n.last_flush=-1,g;F(n,255&e.adler),F(n,e.adler>>8&255),e.adler=0}if(n.status=113,N(e),0!==n.pending)return n.last_flush=-1,g}if(0!==e.avail_in||0!==n.lookahead||t!==u&&666!==n.status){let i=0===n.level?W(n,t):n.strategy===w?Z(n,t):n.strategy===D?K(n,t):X[n.level].func(n,t);if(3!==i&&4!==i||(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),g;if(2===i&&(t===d?o(n):t!==h&&(a(n,0,0,!1),t===f&&(E(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),N(e),0===e.avail_out))return n.last_flush=-1,g}return t!==p?g:n.wrap<=0?y:(2===n.wrap?(F(n,255&e.adler),F(n,e.adler>>8&255),F(n,e.adler>>16&255),F(n,e.adler>>24&255),F(n,255&e.total_in),F(n,e.total_in>>8&255),F(n,e.total_in>>16&255),F(n,e.total_in>>24&255)):(G(n,e.adler>>>16),G(n,65535&e.adler)),N(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?g:y)},t.exports.deflateEnd=e=>{if(ee(e))return m;const t=e.state.status;return e.state=null,113===t?P(e,_):g},t.exports.deflateSetDictionary=(e,t)=>{let n=t.length;if(ee(e))return m;const a=e.state,i=a.wrap;if(2===i||1===i&&42!==a.status||a.lookahead)return m;if(1===i&&(e.adler=s(e.adler,t,n,0)),a.wrap=0,n>=a.w_size){0===i&&(E(a.head),a.strstart=0,a.block_start=0,a.insert=0);let e=new Uint8Array(a.w_size);e.set(t.subarray(n-a.w_size,n),0),t=e,n=a.w_size}const r=e.avail_in,o=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,z(a);a.lookahead>=3;){let e=a.strstart,t=a.lookahead-2;do{a.ins_h=U(a,a.ins_h,a.window[e+3-1]),a.prev[e&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=e,e++}while(--t);a.strstart=e,a.lookahead=2,z(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=2,a.match_available=0,e.next_in=o,e.input=c,e.avail_in=r,a.wrap=i,g},t.exports.deflateInfo="pako deflate (from Nodeca project)"},{"./adler32":70,"./constants":71,"./crc32":72,"./messages":78,"./trees":79}],74:[function(e,t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],75:[function(e,t){"use strict";t.exports=function(e,t){let n,a,i,r,o,s,c,l,u,d,f,p,h,g,y,m,_,v,b,I,w,D,k,T;const M=e.state;n=e.next_in,k=e.input,a=n+(e.avail_in-5),i=e.next_out,T=e.output,r=i-(t-e.avail_out),o=i+(e.avail_out-257),s=M.dmax,c=M.wsize,l=M.whave,u=M.wnext,d=M.window,f=M.hold,p=M.bits,h=M.lencode,g=M.distcode,y=(1<<M.lenbits)-1,m=(1<<M.distbits)-1;e:do{p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),_=h[f&y];t:for(;;){if(f>>>=v=_>>>24,p-=v,0==(v=_>>>16&255))T[i++]=65535&_;else{if(!(16&v)){if(0==(64&v)){_=h[(65535&_)+(f&(1<<v)-1)];continue t}if(32&v){M.mode=16191;break e}e.msg="invalid literal/length code",M.mode=16209;break e}b=65535&_,(v&=15)&&(p<v&&(f+=k[n++]<<p,p+=8),b+=f&(1<<v)-1,f>>>=v,p-=v),p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),_=g[f&m];n:for(;;){if(f>>>=v=_>>>24,p-=v,!(16&(v=_>>>16&255))){if(0==(64&v)){_=g[(65535&_)+(f&(1<<v)-1)];continue n}e.msg="invalid distance code",M.mode=16209;break e}if(I=65535&_,p<(v&=15)&&(f+=k[n++]<<p,(p+=8)<v&&(f+=k[n++]<<p,p+=8)),(I+=f&(1<<v)-1)>s){e.msg="invalid distance too far back",M.mode=16209;break e}if(f>>>=v,p-=v,I>(v=i-r)){if((v=I-v)>l&&M.sane){e.msg="invalid distance too far back",M.mode=16209;break e}if(w=0,D=d,0===u){if(w+=c-v,v<b){b-=v;do{T[i++]=d[w++]}while(--v);w=i-I,D=T}}else if(u<v){if(w+=c+u-v,(v-=u)<b){b-=v;do{T[i++]=d[w++]}while(--v);if(w=0,u<b){b-=v=u;do{T[i++]=d[w++]}while(--v);w=i-I,D=T}}}else if(w+=u-v,v<b){b-=v;do{T[i++]=d[w++]}while(--v);w=i-I,D=T}for(;b>2;)T[i++]=D[w++],T[i++]=D[w++],T[i++]=D[w++],b-=3;b&&(T[i++]=D[w++],b>1&&(T[i++]=D[w++]))}else{w=i-I;do{T[i++]=T[w++],T[i++]=T[w++],T[i++]=T[w++],b-=3}while(b>2);b&&(T[i++]=T[w++],b>1&&(T[i++]=T[w++]))}break}}break}}while(n<a&&i<o);n-=b=p>>3,f&=(1<<(p-=b<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=i<o?o-i+257:257-(i-o),M.hold=f,M.bits=p}},{}],76:[function(e,t){"use strict";const n=e("./adler32"),a=e("./crc32"),i=e("./inffast"),r=e("./inftrees"),{Z_FINISH:o,Z_BLOCK:s,Z_TREES:c,Z_OK:l,Z_STREAM_END:u,Z_NEED_DICT:d,Z_STREAM_ERROR:f,Z_DATA_ERROR:p,Z_MEM_ERROR:h,Z_BUF_ERROR:g,Z_DEFLATED:y}=e("./constants"),m=16209,_=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function v(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const b=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},I=e=>{if(b(e))return f;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,l},w=e=>{if(b(e))return f;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,I(e)},D=(e,t)=>{let n;if(b(e))return f;const a=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?f:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=n,a.wbits=t,w(e))},k=(e,t)=>{if(!e)return f;const n=new v;e.state=n,n.strm=e,n.window=null,n.mode=16180;const a=D(e,t);return a!==l&&(e.state=null),a};let T,M,A=!0;const O=e=>{if(A){T=new Int32Array(512),M=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(r(1,e.lens,0,288,T,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;r(2,e.lens,0,32,M,0,e.work,{bits:5}),A=!1}e.lencode=T,e.lenbits=9,e.distcode=M,e.distbits=5},S=(e,t,n,a)=>{let i;const r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),a>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):((i=r.wsize-r.wnext)>a&&(i=a),r.window.set(t.subarray(n-a,n-a+i),r.wnext),(a-=i)?(r.window.set(t.subarray(n-a,n),0),r.wnext=a,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0};t.exports.inflateReset=w,t.exports.inflateReset2=D,t.exports.inflateResetKeep=I,t.exports.inflateInit=e=>k(e,15),t.exports.inflateInit2=k,t.exports.inflate=(e,t)=>{let v,I,w,D,k,T,M,A,x,R,C,P,B,E,j,U,N,L,F,G,V,H,z=0;const W=new Uint8Array(4);let Y,q;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(b(e)||!e.output||!e.input&&0!==e.avail_in)return f;16191===(v=e.state).mode&&(v.mode=16192),k=e.next_out,w=e.output,M=e.avail_out,D=e.next_in,I=e.input,T=e.avail_in,A=v.hold,x=v.bits,R=T,C=M,H=l;e:for(;;)switch(v.mode){case 16180:if(0===v.wrap){v.mode=16192;break}for(;x<16;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(2&v.wrap&&35615===A){0===v.wbits&&(v.wbits=15),v.check=0,W[0]=255&A,W[1]=A>>>8&255,v.check=a(v.check,W,2,0),A=0,x=0,v.mode=16181;break}if(v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",v.mode=m;break}if((15&A)!==y){e.msg="unknown compression method",v.mode=m;break}if(x-=4,V=8+(15&(A>>>=4)),0===v.wbits&&(v.wbits=V),V>15||V>v.wbits){e.msg="invalid window size",v.mode=m;break}v.dmax=1<<v.wbits,v.flags=0,e.adler=v.check=1,v.mode=512&A?16189:16191,A=0,x=0;break;case 16181:for(;x<16;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(v.flags=A,(255&v.flags)!==y){e.msg="unknown compression method",v.mode=m;break}if(57344&v.flags){e.msg="unknown header flags set",v.mode=m;break}v.head&&(v.head.text=A>>8&1),512&v.flags&&4&v.wrap&&(W[0]=255&A,W[1]=A>>>8&255,v.check=a(v.check,W,2,0)),A=0,x=0,v.mode=16182;case 16182:for(;x<32;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.head&&(v.head.time=A),512&v.flags&&4&v.wrap&&(W[0]=255&A,W[1]=A>>>8&255,W[2]=A>>>16&255,W[3]=A>>>24&255,v.check=a(v.check,W,4,0)),A=0,x=0,v.mode=16183;case 16183:for(;x<16;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.head&&(v.head.xflags=255&A,v.head.os=A>>8),512&v.flags&&4&v.wrap&&(W[0]=255&A,W[1]=A>>>8&255,v.check=a(v.check,W,2,0)),A=0,x=0,v.mode=16184;case 16184:if(1024&v.flags){for(;x<16;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.length=A,v.head&&(v.head.extra_len=A),512&v.flags&&4&v.wrap&&(W[0]=255&A,W[1]=A>>>8&255,v.check=a(v.check,W,2,0)),A=0,x=0}else v.head&&(v.head.extra=null);v.mode=16185;case 16185:if(1024&v.flags&&((P=v.length)>T&&(P=T),P&&(v.head&&(V=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Uint8Array(v.head.extra_len)),v.head.extra.set(I.subarray(D,D+P),V)),512&v.flags&&4&v.wrap&&(v.check=a(v.check,I,P,D)),T-=P,D+=P,v.length-=P),v.length))break e;v.length=0,v.mode=16186;case 16186:if(2048&v.flags){if(0===T)break e;P=0;do{V=I[D+P++],v.head&&V&&v.length<65536&&(v.head.name+=String.fromCharCode(V))}while(V&&P<T);if(512&v.flags&&4&v.wrap&&(v.check=a(v.check,I,P,D)),T-=P,D+=P,V)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=16187;case 16187:if(4096&v.flags){if(0===T)break e;P=0;do{V=I[D+P++],v.head&&V&&v.length<65536&&(v.head.comment+=String.fromCharCode(V))}while(V&&P<T);if(512&v.flags&&4&v.wrap&&(v.check=a(v.check,I,P,D)),T-=P,D+=P,V)break e}else v.head&&(v.head.comment=null);v.mode=16188;case 16188:if(512&v.flags){for(;x<16;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(4&v.wrap&&A!==(65535&v.check)){e.msg="header crc mismatch",v.mode=m;break}A=0,x=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),e.adler=v.check=0,v.mode=16191;break;case 16189:for(;x<32;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}e.adler=v.check=_(A),A=0,x=0,v.mode=16190;case 16190:if(0===v.havedict)return e.next_out=k,e.avail_out=M,e.next_in=D,e.avail_in=T,v.hold=A,v.bits=x,d;e.adler=v.check=1,v.mode=16191;case 16191:if(t===s||t===c)break e;case 16192:if(v.last){A>>>=7&x,x-=7&x,v.mode=16206;break}for(;x<3;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}switch(v.last=1&A,x-=1,3&(A>>>=1)){case 0:v.mode=16193;break;case 1:if(O(v),v.mode=16199,t===c){A>>>=2,x-=2;break e}break;case 2:v.mode=16196;break;case 3:e.msg="invalid block type",v.mode=m}A>>>=2,x-=2;break;case 16193:for(A>>>=7&x,x-=7&x;x<32;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if((65535&A)!=(A>>>16^65535)){e.msg="invalid stored block lengths",v.mode=m;break}if(v.length=65535&A,A=0,x=0,v.mode=16194,t===c)break e;case 16194:v.mode=16195;case 16195:if(P=v.length){if(P>T&&(P=T),P>M&&(P=M),0===P)break e;w.set(I.subarray(D,D+P),k),T-=P,D+=P,M-=P,k+=P,v.length-=P;break}v.mode=16191;break;case 16196:for(;x<14;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(v.nlen=257+(31&A),A>>>=5,x-=5,v.ndist=1+(31&A),A>>>=5,x-=5,v.ncode=4+(15&A),A>>>=4,x-=4,v.nlen>286||v.ndist>30){e.msg="too many length or distance symbols",v.mode=m;break}v.have=0,v.mode=16197;case 16197:for(;v.have<v.ncode;){for(;x<3;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.lens[K[v.have++]]=7&A,A>>>=3,x-=3}for(;v.have<19;)v.lens[K[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,Y={bits:v.lenbits},H=r(0,v.lens,0,19,v.lencode,0,v.work,Y),v.lenbits=Y.bits,H){e.msg="invalid code lengths set",v.mode=m;break}v.have=0,v.mode=16198;case 16198:for(;v.have<v.nlen+v.ndist;){for(;U=(z=v.lencode[A&(1<<v.lenbits)-1])>>>16&255,N=65535&z,!((j=z>>>24)<=x);){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(N<16)A>>>=j,x-=j,v.lens[v.have++]=N;else{if(16===N){for(q=j+2;x<q;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(A>>>=j,x-=j,0===v.have){e.msg="invalid bit length repeat",v.mode=m;break}V=v.lens[v.have-1],P=3+(3&A),A>>>=2,x-=2}else if(17===N){for(q=j+3;x<q;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}x-=j,V=0,P=3+(7&(A>>>=j)),A>>>=3,x-=3}else{for(q=j+7;x<q;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}x-=j,V=0,P=11+(127&(A>>>=j)),A>>>=7,x-=7}if(v.have+P>v.nlen+v.ndist){e.msg="invalid bit length repeat",v.mode=m;break}for(;P--;)v.lens[v.have++]=V}}if(v.mode===m)break;if(0===v.lens[256]){e.msg="invalid code -- missing end-of-block",v.mode=m;break}if(v.lenbits=9,Y={bits:v.lenbits},H=r(1,v.lens,0,v.nlen,v.lencode,0,v.work,Y),v.lenbits=Y.bits,H){e.msg="invalid literal/lengths set",v.mode=m;break}if(v.distbits=6,v.distcode=v.distdyn,Y={bits:v.distbits},H=r(2,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,Y),v.distbits=Y.bits,H){e.msg="invalid distances set",v.mode=m;break}if(v.mode=16199,t===c)break e;case 16199:v.mode=16200;case 16200:if(T>=6&&M>=258){e.next_out=k,e.avail_out=M,e.next_in=D,e.avail_in=T,v.hold=A,v.bits=x,i(e,C),k=e.next_out,w=e.output,M=e.avail_out,D=e.next_in,I=e.input,T=e.avail_in,A=v.hold,x=v.bits,16191===v.mode&&(v.back=-1);break}for(v.back=0;U=(z=v.lencode[A&(1<<v.lenbits)-1])>>>16&255,N=65535&z,!((j=z>>>24)<=x);){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(U&&0==(240&U)){for(L=j,F=U,G=N;U=(z=v.lencode[G+((A&(1<<L+F)-1)>>L)])>>>16&255,N=65535&z,!(L+(j=z>>>24)<=x);){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}A>>>=L,x-=L,v.back+=L}if(A>>>=j,x-=j,v.back+=j,v.length=N,0===U){v.mode=16205;break}if(32&U){v.back=-1,v.mode=16191;break}if(64&U){e.msg="invalid literal/length code",v.mode=m;break}v.extra=15&U,v.mode=16201;case 16201:if(v.extra){for(q=v.extra;x<q;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.length+=A&(1<<v.extra)-1,A>>>=v.extra,x-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=16202;case 16202:for(;U=(z=v.distcode[A&(1<<v.distbits)-1])>>>16&255,N=65535&z,!((j=z>>>24)<=x);){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(0==(240&U)){for(L=j,F=U,G=N;U=(z=v.distcode[G+((A&(1<<L+F)-1)>>L)])>>>16&255,N=65535&z,!(L+(j=z>>>24)<=x);){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}A>>>=L,x-=L,v.back+=L}if(A>>>=j,x-=j,v.back+=j,64&U){e.msg="invalid distance code",v.mode=m;break}v.offset=N,v.extra=15&U,v.mode=16203;case 16203:if(v.extra){for(q=v.extra;x<q;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}v.offset+=A&(1<<v.extra)-1,A>>>=v.extra,x-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){e.msg="invalid distance too far back",v.mode=m;break}v.mode=16204;case 16204:if(0===M)break e;if(P=C-M,v.offset>P){if((P=v.offset-P)>v.whave&&v.sane){e.msg="invalid distance too far back",v.mode=m;break}P>v.wnext?(P-=v.wnext,B=v.wsize-P):B=v.wnext-P,P>v.length&&(P=v.length),E=v.window}else E=w,B=k-v.offset,P=v.length;P>M&&(P=M),M-=P,v.length-=P;do{w[k++]=E[B++]}while(--P);0===v.length&&(v.mode=16200);break;case 16205:if(0===M)break e;w[k++]=v.length,M--,v.mode=16200;break;case 16206:if(v.wrap){for(;x<32;){if(0===T)break e;T--,A|=I[D++]<<x,x+=8}if(C-=M,e.total_out+=C,v.total+=C,4&v.wrap&&C&&(e.adler=v.check=v.flags?a(v.check,w,C,k-C):n(v.check,w,C,k-C)),C=M,4&v.wrap&&(v.flags?A:_(A))!==v.check){e.msg="incorrect data check",v.mode=m;break}A=0,x=0}v.mode=16207;case 16207:if(v.wrap&&v.flags){for(;x<32;){if(0===T)break e;T--,A+=I[D++]<<x,x+=8}if(4&v.wrap&&A!==(4294967295&v.total)){e.msg="incorrect length check",v.mode=m;break}A=0,x=0}v.mode=16208;case 16208:H=u;break e;case m:H=p;break e;case 16210:return h;case 16211:default:return f}return e.next_out=k,e.avail_out=M,e.next_in=D,e.avail_in=T,v.hold=A,v.bits=x,(v.wsize||C!==e.avail_out&&v.mode<m&&(v.mode<16206||t!==o))&&S(e,e.output,e.next_out,C-e.avail_out)?(v.mode=16210,h):(R-=e.avail_in,C-=e.avail_out,e.total_in+=R,e.total_out+=C,v.total+=C,4&v.wrap&&C&&(e.adler=v.check=v.flags?a(v.check,w,C,e.next_out-C):n(v.check,w,C,e.next_out-C)),e.data_type=v.bits+(v.last?64:0)+(16191===v.mode?128:0)+(16199===v.mode||16194===v.mode?256:0),(0===R&&0===C||t===o)&&H===l&&(H=g),H)},t.exports.inflateEnd=e=>{if(b(e))return f;let t=e.state;return t.window&&(t.window=null),e.state=null,l},t.exports.inflateGetHeader=(e,t)=>{if(b(e))return f;const n=e.state;return 0==(2&n.wrap)?f:(n.head=t,t.done=!1,l)},t.exports.inflateSetDictionary=(e,t)=>{const a=t.length;let i,r,o;return b(e)?f:0!==(i=e.state).wrap&&16190!==i.mode?f:16190===i.mode&&(r=n(r=1,t,a,0))!==i.check?p:(o=S(e,t,a,a))?(i.mode=16210,h):(i.havedict=1,l)},t.exports.inflateInfo="pako inflate (from Nodeca project)"},{"./adler32":70,"./constants":71,"./crc32":72,"./inffast":75,"./inftrees":77}],77:[function(e,t){"use strict";const n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),r=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(e,t,o,s,c,l,u,d)=>{const f=d.bits;let p,h,g,y,m,_,v=0,b=0,I=0,w=0,D=0,k=0,T=0,M=0,A=0,O=0,S=null;const x=new Uint16Array(16),R=new Uint16Array(16);let C,P,B,E=null;for(v=0;v<=15;v++)x[v]=0;for(b=0;b<s;b++)x[t[o+b]]++;for(D=f,w=15;w>=1&&0===x[w];w--);if(D>w&&(D=w),0===w)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(I=1;I<w&&0===x[I];I++);for(D<I&&(D=I),M=1,v=1;v<=15;v++)if(M<<=1,(M-=x[v])<0)return-1;if(M>0&&(0===e||1!==w))return-1;for(R[1]=0,v=1;v<15;v++)R[v+1]=R[v]+x[v];for(b=0;b<s;b++)0!==t[o+b]&&(u[R[t[o+b]]++]=b);if(0===e?(S=E=u,_=20):1===e?(S=n,E=a,_=257):(S=i,E=r,_=0),O=0,b=0,v=I,m=l,k=D,T=0,g=-1,y=(A=1<<D)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){C=v-T,u[b]+1<_?(P=0,B=u[b]):u[b]>=_?(P=E[u[b]-_],B=S[u[b]-_]):(P=96,B=0),p=1<<v-T,I=h=1<<k;do{c[m+(O>>T)+(h-=p)]=C<<24|P<<16|B|0}while(0!==h);for(p=1<<v-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,b++,0==--x[v]){if(v===w)break;v=t[o+u[b]]}if(v>D&&(O&y)!==g){for(0===T&&(T=D),m+=I,M=1<<(k=v-T);k+T<w&&!((M-=x[k+T])<=0);)k++,M<<=1;if(A+=1<<k,1===e&&A>852||2===e&&A>592)return 1;c[g=O&y]=D<<24|k<<16|m-l|0}}return 0!==O&&(c[m+O]=v-T<<24|64<<16|0),d.bits=D,0}},{}],78:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],79:[function(e,t){"use strict";function n(e){let t=e.length;for(;--t>=0;)e[t]=0}const a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);n(s);const c=new Array(60);n(c);const l=new Array(512);n(l);const u=new Array(256);n(u);const d=new Array(29);n(d);const f=new Array(30);function p(e,t,n,a,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=a,this.max_length=i,this.has_stree=e&&e.length}let h,g,y;function m(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}n(f);const _=e=>e<256?l[e]:l[256+(e>>>7)],v=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},b=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,v(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},I=(e,t,n)=>{b(e,n[2*t],n[2*t+1])},w=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},D=e=>{16===e.bi_valid?(v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},k=(e,t)=>{const n=t.dyn_tree,a=t.max_code,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,d,f,p,h,g=0;for(f=0;f<=15;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)(f=n[2*n[2*(u=e.heap[l])+1]+1]+1)>c&&(f=c,g++),n[2*u+1]=f,u>a||(e.bl_count[f]++,p=0,u>=s&&(p=o[u-s]),h=n[2*u],e.opt_len+=h*(f+p),r&&(e.static_len+=h*(i[2*u+1]+p)));if(0!==g){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(f=c;0!==f;f--)for(u=e.bl_count[f];0!==u;)(d=e.heap[--l])>a||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),u--)}},T=(e,t,n)=>{const a=new Array(16);let i,r,o=0;for(i=1;i<=15;i++)o=o+n[i-1]<<1,a[i]=o;for(r=0;r<=t;r++){let t=e[2*r+1];0!==t&&(e[2*r]=w(a[t]++,t))}},M=()=>{let e,t,n,o,m;const _=new Array(16);for(n=0,o=0;o<28;o++)for(d[o]=n,e=0;e<1<<a[o];e++)u[n++]=o;for(u[n-1]=o,m=0,o=0;o<16;o++)for(f[o]=m,e=0;e<1<<i[o];e++)l[m++]=o;for(m>>=7;o<30;o++)for(f[o]=m<<7,e=0;e<1<<i[o]-7;e++)l[256+m++]=o;for(t=0;t<=15;t++)_[t]=0;for(e=0;e<=143;)s[2*e+1]=8,e++,_[8]++;for(;e<=255;)s[2*e+1]=9,e++,_[9]++;for(;e<=279;)s[2*e+1]=7,e++,_[7]++;for(;e<=287;)s[2*e+1]=8,e++,_[8]++;for(T(s,287,_),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=w(e,5);h=new p(s,a,257,286,15),g=new p(c,i,0,30,15),y=new p(new Array(0),r,0,19,7)},A=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},O=e=>{e.bi_valid>8?v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},S=(e,t,n,a)=>{const i=2*t,r=2*n;return e[i]<e[r]||e[i]===e[r]&&a[t]<=a[n]},x=(e,t,n)=>{const a=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&S(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!S(t,a,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=a},R=(e,t,n)=>{let r,o,s,c,l=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+l++],r+=(255&e.pending_buf[e.sym_buf+l++])<<8,o=e.pending_buf[e.sym_buf+l++],0===r?I(e,o,t):(s=u[o],I(e,s+256+1,t),0!==(c=a[s])&&(o-=d[s],b(e,o,c)),s=_(--r),I(e,s,n),0!==(c=i[s])&&(r-=f[s],b(e,r,c)))}while(l<e.sym_next);I(e,256,t)},C=(e,t)=>{const n=t.dyn_tree,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,r=t.stat_desc.elems;let o,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<r;o++)0!==n[2*o]?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)n[2*(c=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=a[2*c+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)x(e,n,o);c=r;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],x(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*c]=n[2*o]+n[2*s],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=c,e.heap[1]=c++,x(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],k(e,t),T(n,l,e.bl_count)},P=(e,t,n)=>{let a,i,r=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(n+1)+1]=65535,a=0;a<=n;a++)i=o,o=t[2*(a+1)+1],++s<c&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==r&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,r=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4))},B=(e,t,n)=>{let a,i,r=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),a=0;a<=n;a++)if(i=o,o=t[2*(a+1)+1],!(++s<c&&i===o)){if(s<l)do{I(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==r&&(I(e,i,e.bl_tree),s--),I(e,16,e.bl_tree),b(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),b(e,s-3,3)):(I(e,18,e.bl_tree),b(e,s-11,7));s=0,r=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4)}},E=e=>{let t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),C(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*o[t]+1];t--);return e.opt_len+=14+3*(t+1),t},j=(e,t,n,a)=>{let i;for(b(e,t-257,5),b(e,n-1,5),b(e,a-4,4),i=0;i<a;i++)b(e,e.bl_tree[2*o[i]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)},U=e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0};let N=!1;const L=(e,t,n,a)=>{b(e,0+(a?1:0),3),O(e),v(e,n),v(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};t.exports._tr_init=e=>{N||(M(),N=!0),e.l_desc=new m(e.dyn_ltree,h),e.d_desc=new m(e.dyn_dtree,g),e.bl_desc=new m(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,A(e)},t.exports._tr_stored_block=L,t.exports._tr_flush_block=(e,t,n,a)=>{let i,r,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=U(e)),C(e,e.l_desc),C(e,e.d_desc),o=E(e),i=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=i&&(i=r)):i=r=n+5,n+4<=i&&-1!==t?L(e,t,n,a):4===e.strategy||r===i?(b(e,2+(a?1:0),3),R(e,s,c)):(b(e,4+(a?1:0),3),j(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),R(e,e.dyn_ltree,e.dyn_dtree)),A(e),a&&O(e)},t.exports._tr_tally=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(u[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.sym_next===e.sym_end),t.exports._tr_align=e=>{b(e,2,3),I(e,256,s),D(e)}},{}],80:[function(e,t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],81:[function(e,t){"use strict";var n=e("call-bind/callBound"),a=e("get-intrinsic"),i=e("is-regex"),r=n("RegExp.prototype.exec"),o=a("%TypeError%");t.exports=function(e){if(!i(e))throw new o("`regex` must be a RegExp");return function(t){return null!==r(e,t)}}},{"call-bind/callBound":8,"get-intrinsic":44,"is-regex":53}],82:[function(e,t){"use strict";var n=e("es-abstract/2022/RequireObjectCoercible"),a=e("es-abstract/2022/ToString"),i=e("call-bind/callBound")("String.prototype.replace"),r=/^\s$/.test("\u180e"),o=r?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=r?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e=a(n(this));return i(i(e,o,""),s,"")}},{"call-bind/callBound":8,"es-abstract/2022/RequireObjectCoercible":20,"es-abstract/2022/ToString":27}],83:[function(e,t){"use strict";var n=e("call-bind"),a=e("define-properties"),i=e("es-abstract/2022/RequireObjectCoercible"),r=e("./implementation"),o=e("./polyfill"),s=e("./shim"),c=n(o()),l=function(e){return i(e),c(e)};a(l,{getPolyfill:o,implementation:r,shim:s}),t.exports=l},{"./implementation":82,"./polyfill":84,"./shim":85,"call-bind":9,"define-properties":12,"es-abstract/2022/RequireObjectCoercible":20}],84:[function(e,t){"use strict";var n=e("./implementation");t.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:n}},{"./implementation":82}],85:[function(e,t){"use strict";var n=e("define-properties"),a=e("./polyfill");t.exports=function(){var e=a();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},{"./polyfill":84,"define-properties":12}],86:[function(e,t){(function(e){"use strict";var n=function(){};if("production"!==e.env.NODE_ENV){var a=function(e,t){var n=arguments.length;t=new Array(n>1?n-1:0);for(var a=1;a<n;a++)t[a-1]=arguments[a];var i=0,r="Warning: "+e.replace(/%s/g,function(){return t[i++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(o){}};n=function(e,t,n){var i=arguments.length;n=new Array(i>2?i-2:0);for(var r=2;r<i;r++)n[r-2]=arguments[r];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||a.apply(null,[t].concat(n))}}t.exports=n}).call(this,e("_process"))},{_process:2}],EnergyBottleModel:[function(e,t,n){"use strict";cc._RF.push(t,"bfb3d5kqjpLCaJ+wqWoKuUk","EnergyBottleModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscData"),s=e("../MstData"),c=function(e){function t(t){var n=e.call(this)||this;return n.fields=["energy","endTime","payNum","createdTime"],n._energy=0,n._endTime=0,n._payNum=0,n._createdTime=0,n._taskData=[],n._config=null,n._maxEnergy=0,n.mapDataToObject(t),n._config=s.default.getInstance().mstActivity.energyBottle.config,n._maxEnergy=n._config.energyRate*n._config.maxEnergy,n._createdTime=0==n._createdTime?window.serverTime:n._createdTime,n._createdTime<o.default.getInstance().activityData.energyBottle[0]&&n.resetData(),0!=n._endTime&&n._endTime<=window.serverTime&&n.resetData(),n._energy<n._maxEnergy?n._endTime=0:0==n._endTime&&(n._endTime=n.realEndTime),n}return i(t,e),Object.defineProperty(t.prototype,"energy",{get:function(){return this._energy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payNum",{get:function(){return this._payNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdTime",{get:function(){return this._createdTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realEndTime",{get:function(){var e=window.serverTime+this._config.limitTime,t=o.default.getInstance().activityData.energyBottle[1];return e>t?t:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullBottle",{get:function(){return this._energy>=this._maxEnergy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottleEnery",{get:function(){var e=Math.floor(this._energy/this._config.energyRate);return e>this._config.maxEnergy?this._config.maxEnergy:e},enumerable:!1,configurable:!0}),t.prototype.buyEnery=function(e){return this._payNum+=e,this._payNum>=this._config.costNum},t.prototype.resetData=function(){this._energy=0,this._endTime=0,this._payNum=0,this._createdTime=window.serverTime},t.prototype.addToBottle=function(e){this._createdTime<o.default.getInstance().activityData.energyBottle[0]&&this.resetData(),this._energy+=e,0==this._endTime&&this._energy>=this._maxEnergy&&(this._endTime=this.realEndTime)},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MiscData":"MiscData","../MstData":"MstData"}],EventName:[function(e,t,n){"use strict";cc._RF.push(t,"7e847HyX9tB4IC6g4W5bx35","EventName"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.LEVELUP="levelup",e.UPDATE_TOPINFO="updateTopInfo",e.UPDATE_MERGEAREA="updateMergeArea",e.UPDATE_LIMIT_MERGEAREA="updateMergeArea",e.UPDATE_REWARD="updateReward",e.UPDATE_LIMIT_REWARD="updateReward",e.UPDATE_ITEM_INFO="updateItemInfo",e.UPDATE_LIMITITEM_INFO="updateLimitItemInfo",e.UPDATE_BY_SECOND="updateBySecond",e.UPDATE_ACTIVITY="updateActivity",e.UPDATE_TASK="updateTask",e.RECEIVE_AWARD="receiveAward",e.TIP_GUIDE_START="tipGuideStart",e.TIP_GUIDE_STOP="tipGuideStop",e.NO_ENERGY="noEnergy",e.ITEM_FLY="itemFly",e.UNLIMIT_ENERGY="unLimitEnergy",e.GUIDANCE_CONTINUE="guidanceContinue",e.LEVEL_UP_GUIDE="levelUpGuide",e.OPEN_SCENE="openScene",e.CLOSE_SCENE="closeScene",e.TASK_COMPLETE="taskComplete",e.USE_PROP="useProp",e.PERFORMTASK="performTask",e.UNLOCKBUILD="unlockBuild",e.UNLOCKAREA="unlockArea",e.CHANGBUILDINGSKIN="changeBuildingSkin",e.RESET_ACTIVITY="resetActivity",e.UPDATE_FIRECRACKERS="updateFirecrackers",e.NEW_DAY="newDay",e.OPEN_LIMIT_ACT_MERGE="openLimitActMerge",e.LIMIT_ACT_CLOSE="limitActClose",e.LIMIT_ACT_GUIDE="limitActGuide",e.CHANGROLESKIN="changeRoleSkin",e.UPDATE_WATERPARK_LV="updateWaterParkLv",e.UPDATE_CHILDRENDAY_LV="updateChildrenDayLv",e.UPDATE_CHILDRENDAY_RED="updateChildrenDayRed",e}();n.default=a,cc._RF.pop()},{}],FoodFestivalModel:[function(e,t,n){"use strict";cc._RF.push(t,"92db4oYEcdHD4nl3N+U/8st","FoodFestivalModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscConfig"),s=e("../MstData"),c=e("../UserData"),l=e("../userModel/UserItemModel"),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.fields=["endTime","itemData","rewards","lv","exp","helpGift","guideStep"],n._endTime=0,n._itemData=[],n._rewards=[],n._lv=1,n._exp=0,n._helpGift={},n._guideStep="",n._helpGiftConfig=null,n._allLevelUpArawd=[],n.mapDataToObject(t),n._helpGiftConfig=s.default.getInstance().mstActivity.foodFestival.config.foodGift;for(var a=[],i=0;i<n.itemData.length;i++){var r=n.itemData[i],o=new l.default(r);a.push(o)}n._itemData=a;var c=[];for(i=0;i<n.rewards.length;i++){r=n.rewards[i];var u=new l.default(r);c.push(u)}return n._rewards=c,n}return i(t,e),Object.defineProperty(t.prototype,"itemData",{get:function(){return this._itemData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewards",{get:function(){return this._rewards},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actState",{get:function(){return this._endTime>0?this._endTime>window.serverTime?1:2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lv",{get:function(){return this._lv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this._exp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helpGift",{get:function(){return this._helpGift},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helpGiftConfig",{get:function(){return this._helpGiftConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"guideStep",{get:function(){return this._guideStep},set:function(e){this._guideStep=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allLevelUpArawd",{get:function(){return this._allLevelUpArawd},set:function(e){this._allLevelUpArawd=e},enumerable:!1,configurable:!0}),t.prototype.startActive=function(){this._lv=1,this._exp=0,this._rewards=[],this._endTime=Math.floor(window.serverTime)+s.default.getInstance().mstActivity.foodFestival.config.limitTime;for(var e=[],t=[0,0],n=[o.default.GAME_WIDTH,o.default.GAME_HEIGHT],a=s.default.getInstance().mstActivity.foodFestival.config.areaItem,i=s.default.getInstance().mstActivity.foodFestival.config.normalItemIndex,r=0;r<n[1];r++)for(var u=0;u<n[0];u++){var d;d=t[0]<7?(t[1]+r)*o.default.GAME_WIDTH+t[0]+u:(t[1]+r)*o.default.GAME_WIDTH+(t[0]-7)+u+63,this.itemData[d]=new l.default({id:a[r*n[0]+u],state:o.default.ITEM_STATE_lOCK}),this.itemData[d].state=o.default.ITEM_STATE_UNKNOWN,i.includes(r*n[0]+u)&&(this.itemData[d].state=o.default.ITEM_STATE_NORMAL,c.default.getInstance().updateItemsTypeMaxLevel(this.itemData[d].id)),e.push(d)}for(r=0;r<e.length;r++)this.updateSelfItemState(e[r]);this.updateFoodGift(!0),c.default.getInstance().storeData.updateFoodBuildingSkin(!0),this._guideStep="43",c.default.getInstance().saveUserData()},t.prototype.updateSelfItemState=function(e){for(var t=c.default.getInstance().getItemAroundIndex(e),n=0;n<t.length;n++)this.itemData[t[n]].state==o.default.ITEM_STATE_NORMAL&&this.itemData[e].state==o.default.ITEM_STATE_UNKNOWN&&(this.itemData[e].state=o.default.ITEM_STATE_COBWEB)},t.prototype.addReward=function(e){for(var t=0;t<e.length;t++)"number"==typeof e[t]?this._rewards.push(new l.default({id:e[t]})):this._rewards.push(new l.default(e[t]))},t.prototype.addRewardByKV=function(e){for(var t in e){var n=s.default.getInstance().mstItem[t],a=Number(e[t]);if(n&&!isNaN(a))if(n.type.includes("Show"))c.default.getInstance().addRewardRes([t,a]);else for(var i=0;i<a;i++)this.addReward([Number(t)])}},t.prototype.addExp=function(e){var t=this,n=s.default.getInstance().mstActivity.foodFestival.config.lvData;this._exp+=e;var a=function(){var e;n[t.lv].exp>0?t._exp>=n[t.lv].exp&&(t._exp-=n[t.lv].exp,t._lv+=1,(e=t._allLevelUpArawd).push.apply(e,n[t.lv].reward),c.default.getInstance().addReward(n[t.lv].reward),a()):t._exp=0};a()},t.prototype.updateFoodGift=function(e){void 0===e&&(e=!1);var t=this._helpGiftConfig,n={};for(var a in t)this._helpGift[a]&&!e?n[a]=this._helpGift[a]:n[a]={buyTimes:0,costNum:0};this._helpGift=n},t.prototype.buyHelpGift=function(e,t){var n=this._helpGift[e].costNum+t;return this._helpGift[e].costNum=n,n>=this._helpGiftConfig[e].costNum&&(this._helpGift[e].costNum=0,this._helpGift[e].buyTimes++,this.addReward(this._helpGiftConfig[e].reward),c.default.getInstance().addRewardRes(this._helpGiftConfig[e].rewardRes),!0)},t.prototype.activitySettlement=function(){if(2==this.actState){this._endTime=0;for(var e=0,t=0;t<this.itemData.length;t++)this.itemData[t].id>=0&&this.itemData[t].mstData.deleteAble&&(e+=this.itemData[t].mstData.sellCoins);for(t=0;t<this.rewards.length;t++)this.rewards[t].id>=0&&this.rewards[t].mstData.deleteAble&&(e+=this.rewards[t].mstData.sellCoins);return c.default.getInstance().addCoins(e),c.default.getInstance().saveUserData(),[{id:30093,num:e}]}return[]},t}(r.default);n.default=u,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MiscConfig":"MiscConfig","../MstData":"MstData","../UserData":"UserData","../userModel/UserItemModel":"UserItemModel"}],GlobalController:[function(e,t,n){"use strict";cc._RF.push(t,"bf643BbGMVBDY2LZ4UJ509q","GlobalController");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../data/UserData"),s=e("../manager/SDKManager"),c=e("../utils/ChannelHelper"),l=e("../manager/AudioManager"),u=e("../utils/AppConfig"),d=e("../utils/EventName"),f=e("../utils/Api"),p=e("../data/MiscConfig"),h=e("../manager/UIManager"),g=e("../prefabs/CommonPopup"),y=e("../data/MiscData"),m=e("../utils/GlobalFun"),_=e("../manager/AdManager"),v=cc._decorator,b=v.ccclass,I=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hideTime=null,t}return i(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.schedule(this.updateBySecond,1);var e=c.default.getChannel();"android"==e?(this.registerAndroidSystemEvent(),this.schedule(this.saveUserData,600)):"wx"==e?(this.schedule(this.saveUserData,300),this.registerWXEvent()):"debug"==e?(this.schedule(this.saveUserData,10),this.registerAndroidSystemEvent()):e==c.HMCHANNEL.WY&&(this.schedule(this.saveUserData,300),this.registerAndroidSystemEvent()),u.default.IS_OFFLINE&&(window.serverTime=(new Date).getTime()/1e3)},t.prototype.update=function(e){if(window.serverTime&&(window.serverTime+=e,o.default.getInstance().token)){var t=o.default.getInstance().onlineTime+e;o.default.getInstance().setOnlineTime(t)}},t.prototype.updateBySecond=function(){_.default.getInstance().rewardAdCd>0&&_.default.getInstance().rewardAdCd--,_.default.getInstance().interstitialCd>0&&_.default.getInstance().interstitialCd--,cc.director.getScene().emit(d.default.UPDATE_BY_SECOND)},t.prototype.registerAndroidSystemEvent=function(){var e=this;cc.game.on(cc.game.EVENT_SHOW,function(){console.log("**********game show************"),u.default.IS_OFFLINE?window.serverTime=(new Date).getTime()/1e3:f.default.getMiscData.send({},function(t){if(t&&(console.log("****miscData="+JSON.stringify(t.misc_data)),y.default.getInstance().mapDataToObject(t),cc.director.getScene().emit(d.default.UPDATE_ACTIVITY)),window.serverTime-e.hideTime>900){o.default.getInstance().clearToken();var n={model:p.default.COMMON_POPUP_MODEL_1,contentText:"\u4f60\u5df2\u957f\u65f6\u95f4\u79bb\u7ebf\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",okCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};h.default.getInstance().openUI(g.default,{data:n})}},function(e){console.error("getMiscData err,code="+e)}),o.default.getInstance().token&&(o.default.getInstance().guidance.isCanShowActicPopup()||cc.director.getScene().emit(d.default.GUIDANCE_CONTINUE,o.default.getInstance().guidance.progress),o.default.getInstance().guidance.isGuideBubble||(o.default.getInstance().updateTaskAndItem(),cc.director.getScene().emit(d.default.UPDATE_MERGEAREA)))}),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("**********game hide************"),e.hideTime=window.serverTime,e.saveUserData()})},t.prototype.registerWXEvent=function(){var e=this;cc.game.on(cc.game.EVENT_SHOW,function(t){console.log("**********game show************"),u.default.IS_OFFLINE?window.serverTime=(new Date).getTime()/1e3:f.default.getMiscData.send({},function(t){if(t&&(console.log("****miscData="+JSON.stringify(t.misc_data)),y.default.getInstance().mapDataToObject(t),cc.director.getScene().emit(d.default.UPDATE_ACTIVITY)),window.serverTime-e.hideTime>900){o.default.getInstance().clearToken();var n={model:p.default.COMMON_POPUP_MODEL_1,contentText:"\u4f60\u5df2\u957f\u65f6\u95f4\u79bb\u7ebf\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",okCallback:function(){cc.game.restart()},closeCallback:function(){cc.game.restart()}};h.default.getInstance().openUI(g.default,{data:n})}},function(e){console.error("getMiscData err,code="+e)}),o.default.getInstance().token&&(o.default.getInstance().guidance.isCanShowActicPopup()||cc.director.getScene().emit(d.default.GUIDANCE_CONTINUE,o.default.getInstance().guidance.progress),o.default.getInstance().guidance.isGuideBubble||(o.default.getInstance().updateTaskAndItem(),cc.director.getScene().emit(d.default.UPDATE_MERGEAREA))),m.default.onClickShareLink(t),l.default.getInstance().playBgm("bgm"),s.default.getInstance().shareSuccessCallback=null,s.default.getInstance().shareFailCallbak=null}),cc.game.on(cc.game.EVENT_HIDE,function(){l.default.getInstance().stopBgm(),console.log("**********game hide************"),e.hideTime=window.serverTime,e.saveUserData()})},t.prototype.saveUserData=function(){o.default.getInstance().saveUserData()},r([b],t)}(cc.Component));n.default=I,cc._RF.pop()},{"../data/MiscConfig":"MiscConfig","../data/MiscData":"MiscData","../data/UserData":"UserData","../manager/AdManager":"AdManager","../manager/AudioManager":"AudioManager","../manager/SDKManager":"SDKManager","../manager/UIManager":"UIManager","../prefabs/CommonPopup":"CommonPopup","../utils/Api":"Api","../utils/AppConfig":"AppConfig","../utils/ChannelHelper":"ChannelHelper","../utils/EventName":"EventName","../utils/GlobalFun":"GlobalFun"}],GlobalFun:[function(e,t,n){"use strict";cc._RF.push(t,"8b85eIQdy5N27Y/djtXpGhH","GlobalFun");var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,i++)a[i]=r[o];return a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../data/MstData"),r=e("../data/UserData"),o=e("../manager/UIManager"),s=e("../prefabs/Toast"),c=e("./Api"),l=e("../data/MiscData"),u=e("../prefabs/Loading"),d=e("../data/activityModel/EnergyBottleModel"),f=e("./EventName"),p=e("./ChannelHelper"),h=e("../../scripts/extension/LanguageData"),g=function(){function e(){}return e.createUUID=function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},e.radomBetween=function(e,t){return Math.floor(Math.random()*(t+1-e)+e)},e.radomIndex=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];if(Math.abs(1-t)>Number.EPSILON)return console.warn("\u51e0\u7387\u914d\u7f6e\u9519\u8bef\uff0c\u603b\u548c!=1\uff0crate="+JSON.stringify(e)),0;var a=Math.random();t=0;for(var i=0;i<e.length;i++)if(a<(t+=e[i]))return i},e.getDateByYMD=function(e,t){void 0===e&&(e=window.serverTime),void 0===t&&(t=!1);var n=new Date(1e3*e),a=n.getFullYear(),i=n.getMonth()+1,r=n.getDate();return t?a+"/"+(i=i<10?"0"+i:i)+"/"+(r=r<10?"0"+r:r):a+"/"+i+"/"+r},e.formatDateTimeHourEx=function(e){if((e=Math.ceil(e))<=0)return"";var t=e/3600>>0,n=e%3600/60>>0,a=n<10?"0"+n:n,i=(e%=60)<10?"0"+e:e;return t>0?(t<10?"0"+t:t)+":"+a+":"+i:a+":"+i},e.formatDateTimeHour=function(e){var t="00:00:00";if((e=Math.ceil(e))<=0)return"0s";var n=e/3600>>0,a=e%3600/60>>0;e%=60;var i=a<10?"0"+a:a;return n>0?t=(n<10?"0"+n:n)+"h"+i+"m":a>0?t=i+"m"+(e<10?"0"+e:e)+"s":e>0&&(t=e+"s"),t},e.formatDateTimeDays=function(e){if((e>>=0)<=0)return 0;var t={},n=e/86400>>0;return n>0?(t.isDay=!0,t.daystr=n+"\u5929"):(t.isDay=!1,t.daystr=this.formatDateTimeHourEx(e)),t},e.formatDateTimeDaysPre=function(e){if((e>>=0)<=0)return"0";var t="00:00:00",n=e/86400>>0,a=e%86400/3600>>0,i=e%3600/60>>0;return e%=60,n>0?t=n+"d:"+a+"h":a>0?t=a+"h"+i+"m":i>0?t=i+"m"+e+"s":e>0&&(t=e+"s"),t},e.timeFormat=function(e){if(e<=0)return"00:00:00";var t=Math.floor(e/86400),n=Math.floor(e/3600%24),a=Math.floor(e/60%60),i=Math.floor(e%60);return t>0?t+"d : "+n+"h":(n>=10?n+"":"0"+n)+":"+(a>=10?a+"":"0"+a)+":"+(i>=10?i+"":"0"+i)},e.objToKeyValue=function(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t.substring(0,t.length-1)},e.rewardResToObj=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n+1],n++;return t},e.getItemIconPathById=function(e){var t=i.default.getInstance().mstItem[e];return t?"textures/itemIcon/"+t.icon:null},e.getNeedDiamondByTime=function(e){e<0&&(e=0);var t=Math.ceil(e/60);return Math.ceil(t*i.default.getInstance().mstMisc.timeToDiamonds.config)},e.getTimeByPosAndSpeed=function(e,t,n){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))/n},e.getDisByPos=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.loadSpriteFrame=function(e,t,n,a){var i=this;void 0===n&&(n=null),void 0===a&&(a=0),a++;var r=null,o=null;e instanceof cc.Node?(o=e,r=e.getComponent(cc.Sprite)):(o=e.node,r=e),o.HemaSpriteFrameName=t.split("/").pop(),cc.resources.load(t,cc.SpriteFrame,function(s,c){s?a<2?i.loadSpriteFrame(e,t,n,a):console.warn("loadSpriteFrame err="+s):cc.isValid(o)&&(o.HemaSpriteFrameName==c.name&&(r.spriteFrame=c),n&&n())})},e.setGrayMaterial=function(e){e.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},e.setNormalMaterial=function(e){e.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},e.setBtnIsGrey=function(t,n){void 0===n&&(n=null);var a=function(t){var i=t.children;i.length>0&&i.forEach(function(t){var i=t.getComponent(cc.LabelOutline);i&&(i.color=n||new cc.Color(116,116,116));var r=t.getComponent(cc.Sprite);r&&(n?e.setNormalMaterial(r):e.setGrayMaterial(r)),t.children.length>0&&a(t)})};a(t.node)},e.noSkinTicketPopup=function(e){void 0===e&&(e=function(){});var t=function(){var e=i.default.getInstance().mstStore.dailyGift.openLevel;r.default.getInstance().level>=e&&(o.default.getInstance().getUI("ShopPopup")?o.default.getInstance().getUI("ShopPopup").checkTab("resource"):o.default.getInstance().openUI("ShopPopup",{data:{key:"resource",type:1}})),o.default.getInstance().openUI(s.default,{data:{str:h.default.t("noSkinTicket")}})};(function(){var e=i.default.getInstance().mstActivity.weeklyGift.openLevel;if(r.default.getInstance().level>=e&&!r.default.getInstance().weeklyGiftModel.isReceived("skinTicket")&&l.default.getInstance().isIOSPayOpen){var n=r.default.getInstance().skinTicket;o.default.getInstance().openUI("WeeklyGiftPopup",{},null,function(){n==r.default.getInstance().skinTicket&&t()})}else t()})()},e.noDiamondsCommonPopup=function(e){void 0===e&&(e=function(){});var t,n=function(){var e=i.default.getInstance().mstActivity.weeklyGift.openLevel;if(r.default.getInstance().level>=e&&!r.default.getInstance().weeklyGiftModel.isReceived("diamonds")&&l.default.getInstance().isIOSPayOpen){var t=r.default.getInstance().diamonds;o.default.getInstance().openUI("WeeklyGiftPopup",{},null,function(){t==r.default.getInstance().diamonds&&a()})}else a()},a=function(){var e=i.default.getInstance().mstStore.dailyGift.openLevel;r.default.getInstance().level>=e&&(o.default.getInstance().getUI("ShopPopup")?o.default.getInstance().getUI("ShopPopup").checkTab("resource"):o.default.getInstance().openUI("ShopPopup",{data:{key:"resource",type:1}})),o.default.getInstance().openUI(s.default,{data:{str:h.default.t("noDiamonds")}})};t=i.default.getInstance().mstActivity.newUserGift,r.default.getInstance().level>=t.openLevel&&0==r.default.getInstance().newUserGiftTimes?o.default.getInstance().openUI("NewUserGiftPopup",{},null,function(){0==r.default.getInstance().newUserGiftTimes&&a()}):function(){var e=i.default.getInstance().mstActivity.vipCrad;if(r.default.getInstance().level>=e.openLevel){var t=r.default.getInstance().diamonds;r.default.getInstance().isVipCard&&r.default.getInstance().isSuperVipCard?n():l.default.getInstance().isIOSPayOpen?o.default.getInstance().openUI("SuperVipPopup",{},null,function(){t==r.default.getInstance().diamonds&&a()}):n()}else n()}()},e.noEnergyCommonPopup=function(e){void 0===e&&(e=function(){});var t,n,a=function(){var e=i.default.getInstance().mstActivity.weeklyGift.openLevel;if(r.default.getInstance().level>=e&&!r.default.getInstance().weeklyGiftModel.isReceived("energy")&&l.default.getInstance().isIOSPayOpen){var t=r.default.getInstance().energy;o.default.getInstance().openUI("WeeklyGiftPopup",{},null,function(){t==r.default.getInstance().energy&&o.default.getInstance().openUI("EnergyPopup")})}else o.default.getInstance().openUI("EnergyPopup")},s=function(){var e=i.default.getInstance().mstActivity.vipCrad;if(r.default.getInstance().level>=e.openLevel){var t=r.default.getInstance().diamonds;r.default.getInstance().isVipCard&&r.default.getInstance().isSuperVipCard?a():l.default.getInstance().isIOSPayOpen?o.default.getInstance().openUI("SuperVipPopup",{},null,function(){t==r.default.getInstance().diamonds&&o.default.getInstance().openUI("EnergyPopup")}):a()}else a()};t=i.default.getInstance().mstActivity.newUserGift,r.default.getInstance().level>=t.openLevel&&0==r.default.getInstance().newUserGiftTimes&&l.default.getInstance().isIOSPayOpen?o.default.getInstance().openUI("NewUserGiftPopup",{},null,function(){0==r.default.getInstance().newUserGiftTimes&&o.default.getInstance().openUI("EnergyPopup")}):(n=i.default.getInstance().mstActivity.energyCard,r.default.getInstance().level>=n.openLevel&&l.default.getInstance().isIOSPayOpen&&0==r.default.getInstance().energyCardModel.addMaxEnergy?o.default.getInstance().openUI("EnergyCardPopup",{},null,function(){0==r.default.getInstance().energyCardModel.addMaxEnergy&&o.default.getInstance().openUI("EnergyPopup")}):s())},e.onStartGamePopup=function(){var e={1:20,2:15,3:15,4:10,5:5,6:5,7:5,8:10,9:15},t=function(e){switch(e){case 1:var t=i.default.getInstance().mstActivity.newUserGift;if(r.default.getInstance().level>=t.openLevel&&0==r.default.getInstance().newUserGiftTimes&&l.default.getInstance().isIOSPayOpen)return!0;break;case 2:var n=i.default.getInstance().mstActivity.vipCrad;if(r.default.getInstance().level>=n.openLevel&&(!r.default.getInstance().isVipCard||!r.default.getInstance().isSuperVipCard)&&l.default.getInstance().isIOSPayOpen)return!0;break;case 3:var a=i.default.getInstance().mstActivity.weeklyGift.openLevel;if(r.default.getInstance().level>=a&&l.default.getInstance().isIOSPayOpen&&!r.default.getInstance().weeklyGiftModel.isAllReceived())return!0;break;case 4:if(r.default.getInstance().level>=i.default.getInstance().mstActivity.greatValueGift.openLevel&&l.default.getInstance().isIOSPayOpen)return!0;break;case 5:if(r.default.getInstance().levelupAwardData().length>0)return!0;break;case 6:if(r.default.getInstance().level>=i.default.getInstance().mstActivity.kanyidao.openLevel&&r.default.getInstance().superBenefitsRewardTimes<=0)return!0;break;case 7:if(r.default.getInstance().level>=i.default.getInstance().mstActivity.gashapon.openLevel&&r.default.getInstance().gashaponData.gashaponTimes<5)return!0;break;case 8:var o=i.default.getInstance().mstActivity.growthFund.openLevel;if(r.default.getInstance().level>=o&&l.default.getInstance().isIOSPayOpen){var s=r.default.getInstance().growthFundData.curAwardLv;if(r.default.getInstance().level>s)return!0}break;case 9:if(a=i.default.getInstance().mstActivity.energyCard.openLevel,r.default.getInstance().level>=a&&l.default.getInstance().isIOSPayOpen&&0==r.default.getInstance().energyCardModel.addMaxEnergy)return!0}return!1},n=0;for(var a in e)t(Number(a))?n+=e[a]:delete e[a];var s=Math.random()*n,d=0,f=0;for(var a in e)if(s<(f+=e[a])){d=Number(a);break}switch(d){case 1:o.default.getInstance().openUI("NewUserGiftPopup");break;case 2:o.default.getInstance().openUI("SuperVipPopup");break;case 3:o.default.getInstance().openUI("WeeklyGiftPopup");break;case 4:o.default.getInstance().openUI("GreatValueGiftPopup");break;case 5:o.default.getInstance().openUI("LevelAwardPopup");break;case 6:o.default.getInstance().openUI(u.default,{},function(){c.default.getActivityData.send({type:"friendsHelp"},function(e){var t;t=e.data?JSON.parse(e.data):[],o.default.getInstance().openUI("SuperBenefitsPopup",{data:t}),o.default.getInstance().closeUI(u.default)},function(){o.default.getInstance().closeUI(u.default)})});break;case 7:o.default.getInstance().openUI("GashaponPopup");break;case 8:o.default.getInstance().openUI("GrowthFundPopup");break;case 9:o.default.getInstance().openUI("EnergyCardPopup")}},e.onClickShareLink=function(e){if(Object.keys(e.query).length>0)if("friendsHelp"==e.query.type){if(e.query.uid!==r.default.getInstance().id&&r.default.getInstance().isNewUser){var t={shareUserId:e.query.uid};c.default.activity.send({type:"friendsHelp",para:JSON.stringify(t)},function(){},function(){}),r.default.getInstance().clearNewUserFlag()}}else if("blindBox"==e.query.type){var n=p.default.getChannel();if("android"==n)return;if(n==p.HMCHANNEL.WY)return;if(r.default.getInstance().level<i.default.getInstance().mstActivity.blindBox.openLevel)return;var a=this.getDateByYMD(Math.floor(Number(e.query.shareTime)));if(Number(e.query.uid)!==r.default.getInstance().id){var l=this.getDateByYMD();a!=l?o.default.getInstance().openUI(s.default,{data:{str:h.default.t("hemaPrefab_4")}}):(t={date:a,shareUserId:Number(e.query.uid),receivedId:Number(e.query.receivedID)},c.default.activity.send({type:"blindBox",para:JSON.stringify(t)},function(t){if(t.data){var n=JSON.parse(t.data);o.default.getInstance().openUI("OtherBlindBoxPopup",{data:{list:JSON.parse(e.query.boxData),open:n.receivedIds,userid:e.query.uid,shareTime:a}})}else o.default.getInstance().openUI(s.default,{data:{str:h.default.t("hemaPrefab_4")}})},function(){}))}else t={date:a,shareUserId:e.query.uid,receivedId:e.query.receivedID},c.default.activity.send({type:"blindBox",para:JSON.stringify(t)},function(e){if(e.data){var t=JSON.parse(e.data);o.default.getInstance().openUI("SelfBlindBoxPopup",{data:t.receivedIds})}},function(){})}},e.getRichText=function(e){for(var t="",n="",a=new Array,i=0;i<e.length;i++)if("\u3010"===e[i]||a.length>0&&"\u3011"!==e[i])a.push(e[i]);else if("\u3011"!==e[i])0===a.length&&(t+=e[i]);else{for(var r=0;r<a.length;r++)"\u3010"!==(o=a[r])&&(n+=o);t+="<color=#c52618>"+n+"</c>",a.length=0,n=""}if(a.length>0){for(i=1;i<a.length;i++){var o;n+=o=a[i]}return t+"<color=#c52618>"+n+"</c>"}return t},e.saveForBrowser=function(e,t){if(cc.sys.isBrowser){var n=new Blob([e],{type:"application/json"}),a=document.createElement("a");a.download=t,a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(n):(a.href=window.URL.createObjectURL(n),a.style.display="none",document.body.appendChild(a)),a.click()}},e.clone=function(e){if(null===e||"object"!=typeof e)return e;var t={};for(var n in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},e.getPlatform=function(){return cc.sys.os==cc.sys.OS_ANDROID?1:cc.sys.os==cc.sys.OS_IOS?2:1},e.isCanShowBanner=function(){return cc.winSize.height/cc.winSize.width>=2.04},e.findCoinOnRewardRes=function(e){for(var t=0,n=0;n<e.length;n++)"30093"==e[n]+""&&(t+=Number(e[n+1])),n++;return t},e.getTodayLastTime=function(){var t=e.getDateByYMD();return(new Date(t).getTime()+864e5)/1e3},e.saveUserInfo=function(e,t,n){void 0===n&&(n=null),c.default.updateUserInfo.send({userName:e,photo:t},function(e){r.default.getInstance().updateUserData(e),n&&n()},function(){n&&n()})},e.addToBottle=function(e){var t=r.default.getInstance().activityData.energyBottle;t instanceof d.default&&t.addToBottle(e)},e.getAllReward=function(e,t){var n=[];if(e)for(var a=0;a<e.length;a++)n.push({id:e[a],num:1});if(t)for(a=0;a<t.length;a++)n.push({id:t[a],num:t[a+1]}),a++;return n},e.sortObjectByValue=function(e,t,n){void 0===t&&(t="index"),void 0===n&&(n=!0);var a=[],i=[];for(var r in e){var o=e[r][t];a[o]=e[r],i[o]=r}return[a=a.filter(function(e){return e}),i=i.filter(function(e){return e})]},e.isVipTypeMoreBig=function(e,t,n){void 0===n&&(n=!1);var a=+e.replace("v",""),i=+t.replace("v","");return n?a>=i:a>i},e.shuffle=function(e){return a(e).sort(function(){return Math.random()>.5?-1:1})},e.openLimitActivityByName=function(e){var t=r.default.getInstance().limitActModel.activityOpenState();if(0==r.default.getInstance().limitActModel.getAllCanOpenActivity().length){var n=h.default.t("globalFun_2",{data1:i.default.getInstance().mstActivity[e].openLevel});o.default.getInstance().openUI(s.default,{data:{str:n}})}else 2==t?o.default.getInstance().openUI("FoodFestivalResultPopup",{},null,function(){o.default.getInstance().openUI("LimitActListPopup")}):0==t?o.default.getInstance().openUI("LimitActListPopup"):1==t&&(r.default.getInstance().limitActModel.getOpenActName()==e?cc.director.getScene().emit(f.default.OPEN_LIMIT_ACT_MERGE):o.default.getInstance().openUI(s.default,{data:{str:h.default.t("globalFun_3",{data1:i.default.getInstance().mstActivity[e].name})}}))},e.getSkinNode=function(t,n,a,r,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),30098==t){var c=i.default.getInstance().mstBuildingSkin[n],l=c.nodeName;l&&cc.resources.load("building/"+l,cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t);n.getComponent("BuildItem").initUnlockShow(300,300),o&&o(n,c)}})}else if(4e4!=t||s){if(4e4==t&&s){var u=i.default.getInstance().mstRoleSkin[n];cc.resources.load("entitys/Customer",cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t);n.setPosition(cc.v2(0,0)),n.getComponent("Customer").initUnlockShow(u.icon);var i=a>r?a:r,s=n.width>n.height?n.width:n.height;n.scale=i/s,o&&o(n,u)}})}}else{var d=i.default.getInstance().mstRoleSkin[n],f=new cc.Node;f.addComponent(cc.Sprite),e.loadSpriteFrame(f,"textures/role/icon/icon_"+d.icon,function(){var e=a>r?a:r,t=f.width>f.height?f.width:f.height;f.scale=e/t,o&&o(f,d)})}},e}();n.default=g,cc._RF.pop()},{"../../scripts/extension/LanguageData":"LanguageData","../data/MiscData":"MiscData","../data/MstData":"MstData","../data/UserData":"UserData","../data/activityModel/EnergyBottleModel":"EnergyBottleModel","../manager/UIManager":"UIManager","../prefabs/Loading":"Loading","../prefabs/Toast":"Toast","./Api":"Api","./ChannelHelper":"ChannelHelper","./EventName":"EventName"}],H4399Api:[function(e,t,n){"use strict";cc._RF.push(t,"ac2c8yKRAFMJro4aLCT5M+o","H4399Api"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../data/UserData"),i=e("../manager/UIManager"),r=e("../prefabs/Toast"),o=e("../../scripts/extension/LanguageData"),s=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.canPlayAd=function(e){window.h5api.canPlayAd(e)},e.prototype.showRewardAd=function(e,t,n){this.canPlayAd(function(t){t.canPlayAd?window.h5api.playAd(function(t){1e4===t.code||(10001===t.code?(e&&e(),a.default.getInstance().addVideoTimes()):n&&n())}):i.default.getInstance().openUI(r.default,{data:{str:o.default.t("h4399Api_1")}})})},e.instance=null,e}();n.default=s,cc._RF.pop()},{"../../scripts/extension/LanguageData":"LanguageData","../data/UserData":"UserData","../manager/UIManager":"UIManager","../prefabs/Toast":"Toast"}],HappyBingoModel:[function(e,t,n){"use strict";cc._RF.push(t,"3be14bZynFGVaG+rVdje4Zt","HappyBingoModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscData"),s=e("../MstData"),c=e("../UserData"),l=e("../userModel/UserTaskModel"),u=function(e){function t(t){var n=e.call(this)||this;n.fields=["lv","completeRewardIndex","created","taskData"],n._lv=1,n._completeRewardIndex=[],n._created=0,n._taskData=[],n._receiveIndex=[],n._config=null,n._completeReward=null,n._isStartHappyBingo=!1,n.mapDataToObject(t);var a=s.default.getInstance().mstActivity.happyBingo.config.bingoData;n._config=a,n._completeReward=s.default.getInstance().mstActivity.happyBingo.config.completeReward;var i=o.default.getInstance().activityData;if(i){var r=i.happyBingo;if(r)if(n._created<r[0])n.resetData();else{for(var c=[],u=0;u<n.taskData.length;u++){var d=n._taskData[u],f=new l.default(d);c.push(f),f.isReceived&&n._receiveIndex.push(u)}n._taskData=c}}return n._isStartHappyBingo=1==n.lv&&0!=n._receiveIndex.length||n.lv>1,n}return i(t,e),t.prototype.resetData=function(){this._lv=1,this._receiveIndex=[],this._completeRewardIndex=[],this._taskData=[],this._created=window.serverTime},Object.defineProperty(t.prototype,"lv",{get:function(){return this._lv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){if(0!=this._taskData.length||this.isCompleted)this.isCompleted&&(this._taskData=[]);else for(var e=this._config[this._lv].taskIds,t=0;t<e.length;t++){var n=e[t],a=c.default.getInstance().getRequireItemsByTaskId(n),i=new l.default({id:n,requireItems:a});this._taskData.push(i)}return this._taskData},enumerable:!1,configurable:!0}),t.prototype.getTaskId=function(e){var t=new Date(1e3*window.serverTime),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return e=1==e.length?"0"+e:e,+(n+a+i+this.lv+e+"")},t.prototype.getTaskIndex=function(e){return+e.substring(e.length-2)},Object.defineProperty(t.prototype,"receiveIndex",{get:function(){return this._receiveIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"created",{get:function(){return this._created},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeReward",{get:function(){return this._completeReward},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeRewardIndex",{get:function(){return this._completeRewardIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleted",{get:function(){return!this._config[this._lv]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStartHappyBingo",{get:function(){return this._isStartHappyBingo},enumerable:!1,configurable:!0}),t.prototype.submit=function(e){var t=this._taskData[e].requireItems,n=c.default.getInstance().getNormalItemIndexByIds(t);return n.includes(-1)?n:(this._receiveIndex.push(+e),this._isStartHappyBingo=!0,n)},t.prototype.nextLv=function(){this.isCompleted||this._receiveIndex.length!=this._taskData.length||(this._lv++,this._receiveIndex=[],this._taskData=[],this._completeRewardIndex.push(this.lv-1))},t.prototype.getAward=function(e){for(var t=this.getWireIndexAarr(e),n=0;n<t.length;n++){var a=this.config[this.lv].reward,i=this.config[this.lv].rewardRes;c.default.getInstance().addReward(a),c.default.getInstance().addRewardRes(i)}t.length>0&&c.default.getInstance().saveUserData()},t.prototype.isCanSubmit=function(){for(var e=this._taskData,t=0;t<e.length;t++)if(!this._receiveIndex.includes(t)&&!c.default.getInstance().getNormalItemIndexByIds(e[t].requireItems).includes(-1))return!0;return!1},t.prototype.getRceivedRewardIndexArr=function(){for(var e=[],t=0;t<this._receiveIndex.length;t++)for(var n=this.getWireIndexAarr(this._receiveIndex[t]),a=0;a<n.length;a++){var i=this.getRewardIndexByWireArr(n[a]);-1==i||e.includes(i)||e.push(i)}return e},t.prototype.getRewardIndexByWireArr=function(e){var t=e[0],n=e[4];return Math.floor(t/5)==Math.floor(n/5)?Math.floor(t/5):Math.floor(t%5)==Math.floor(n%5)?Math.floor(t%5)+6:e[4]%6==0?11:e[4]%4==0?5:-1},t.prototype.getWireIndexAarr=function(e){var t=[],n=5*Math.floor(e/5);this.judgmentWire([n,n+1,n+2,n+3,n+4],t);var a=Math.floor(e%5);return this.judgmentWire([a,a+5,a+10,a+15,a+20],t),-1!=[0,6,12,18,24].indexOf(e)&&this.judgmentWire([0,6,12,18,24],t),-1!=[4,8,12,16,20].indexOf(e)&&this.judgmentWire([4,8,12,16,20],t),t},t.prototype.judgmentWire=function(e,t){for(var n=this.receiveIndex,a=0;a<e.length;a++)if(-1==n.indexOf(e[a]))return null;t.push(e)},t.prototype.getLineReward=function(){var e,t;if(this.isCompleted)return{};var n=this._config[this._lv];return{id:null!==(e=n.rewardRes[0])&&void 0!==e?e:n.reward[0],num:null!==(t=n.rewardRes[1])&&void 0!==t?t:1}},t.prototype.getCompletedReward=function(e){if(this._completeRewardIndex.includes(e)){this._completeRewardIndex.splice(this._completeRewardIndex.indexOf(e),1);var t=this.completeReward[e].reward,n=this.completeReward[e].rewardRes;return c.default.getInstance().addReward(t),c.default.getInstance().addRewardRes(n),c.default.getInstance().saveUserData(),!0}return!1},t.prototype.addItem=function(){for(var e=0;e<this._taskData.length;e++)this.receiveIndex.includes(e)||c.default.getInstance().addItem(this._taskData[e].requireItems[0],1)},t}(r.default);n.default=u,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MiscData":"MiscData","../MstData":"MstData","../UserData":"UserData","../userModel/UserTaskModel":"UserTaskModel"}],ImportUserData:[function(e,t,n){"use strict";cc._RF.push(t,"a145aiktkpN/45t1Yr97byY","ImportUserData"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./UserData"),i=e("./MstData"),r=e("pako"),o=e("base64-js"),s=function(){function e(){}return e.importAllData=function(e,t){var n=this;this.loadMstData(function(){n.loadUserData(e,function(e,n){a.default.getInstance().init(e,t,n)})})},e.loadMstData=function(e){i.default.getInstance().init(e)},e.loadUserData=function(e,t){var n=this,r=null,o=function(){var e=cc.sys.localStorage.getItem("userData");if(e&&""!=e){var a=n.decompressData(e);e=JSON.parse(a),t(e)}else{var r=i.default.getInstance().mstMisc.newUser.config;t(r,!0)}};if(!e)return e={user:{user_name:""},user_auth:{user_display_id:88888888},user_token:"offlineUser"},a.default.getInstance().updateUserData(e),void o();if(a.default.getInstance().updateUserData(e),r=e.user.user_data){var s=this.decompressData(r);try{r=JSON.parse(s);var c=cc.sys.localStorage.getItem("userData");if(c&&""!=c){var l=this.decompressData(c);(c=JSON.parse(l)).lastOnlineTime>r.lastOnlineTime?t(c):t(r)}else t(r)}catch(d){console.error("\u670d\u52a1\u5668\u6570\u636e\u89e3\u6790\u9519\u8bef!\u4ee5\u672c\u5730\u6570\u636e\u4e3a\u51c6"),o()}}else{var u=i.default.getInstance().mstMisc.newUser.config;t(u,!0)}},e.compressData=function(e){var t=r.deflate(e);return(t=o.fromByteArray(t)).length>=20480&&console.warn("\u73a9\u5bb6\u6570\u636e\u8d85\u8fc7\u6700\u5927\u4e0a\u9650\uff0c\u8bf7\u8054\u7cfb\u5b98\u65b9\u5ba2\u670d\u5904\u7406"),t},e.decompressData=function(e){var t=o.toByteArray(e);return r.inflate(t,{to:"string"})},e}();n.default=s,cc._RF.pop()},{"./MstData":"MstData","./UserData":"UserData","base64-js":7,pako:65}],LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"cd889nQRhxJMJ2K/TC+tRX5","LanguageData"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("node-polyglot"),i=function(){function e(){}return e.init=function(e){if(void 0===e&&(e="zh"),window.i18n||(window.i18n={languages:{},curLang:"zh"}),e!==window.i18n.curLang){var t=this.loadLanguageData(e)||{};window.i18n.curLang=e,this.initPolyglot(t)}},e.loadLanguageData=function(e){return window.i18n.languages[e]},e.initPolyglot=function(e){e&&(this.polyInst?this.polyInst.replace(e):this.polyInst=new a({phrases:e,allowMissing:!0}))},e.t=function(e,t){if(void 0===t&&(t=null),this.polyInst)return this.polyInst.t(e,t)},e.updateSceneRenderers=function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var a=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,a)}for(n=0;n<t.length;++n){var i=t[n];i.node.active&&i.updateLabel()}var r=[];for(n=0;n<e.length;++n){var o=e[n].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,o)}for(n=0;n<r.length;++n){var s=r[n];s.node.active&&s.updateSprite(window.i18n.curLang)}},e.polyInst=null,e}();n.default=i,cc._RF.pop()},{"node-polyglot":56}],LoadingScene:[function(e,t,n){"use strict";cc._RF.push(t,"a056aIx+89Ayq42SBq/3RwK","LoadingScene");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../utils/Api"),s=e("../utils/ChannelHelper"),c=e("../utils/GlobalFun"),l=e("../data/ImportUserData"),u=e("../manager/AudioManager"),d=e("../manager/UIManager"),f=e("../utils/StatisticsManager"),p=e("../manager/AdManager"),h=e("../manager/SDKManager"),g=e("../prefabs/Toast"),y=e("../data/UserData"),m=e("../utils/AppConfig"),_=e("../prefabs/StoryPopup"),v=e("../data/MiscData"),b=e("../extension/LanguageData"),I=cc._decorator,w=I.ccclass,D=I.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t.loginNode=null,t.privacyPolicyNode=null,t.privacyPolicyToggle=null,t.loadingNode=null,t.lbProgress=null,t.version=null,t.userId=null,t._isDataComplete=!1,t._isSceneComplete=!1,t._tempProgress=0,t._userId=null,t}return i(t,e),t.prototype.onLoad=function(){var e=s.default.getChannel();u.default.getInstance().init(),p.default.getInstance().init(),b.default.init(m.default.APP_LANGUAGE),this.version.string="ver:"+m.default.APP_VERSION,this._userId=cc.sys.localStorage.getItem("userId"),this._userId&&(this.userId.string="ID:"+this._userId),this.loadingNode.active=!1,this.progressBar.node.active=!1,this.lbProgress.node.active=!1,"wx"==e?(this.loginNode.active=!1,this.privacyPolicyNode.active=!1,this.onLoginClick()):"android"==e?cc.sys.localStorage.getItem("isAgree")&&(this.privacyPolicyToggle.isChecked=!0):"debug"==e?cc.sys.localStorage.getItem("isAgree")&&(this.privacyPolicyToggle.isChecked=!0):"4399"==e?(this.loginNode.active=!1,this.privacyPolicyNode.active=!1,this.onLoginClick()):e==s.HMCHANNEL.WY&&(this.loginNode.active=!1,this.privacyPolicyNode.active=!1,this.onLoginClick()),this.getMiscData(),f.default.trackEvent("common_loadingScene")},t.prototype.start=function(){var e=this,t=function(){e._tempProgress=0,e.progressBar.progress=0,e.lbProgress.string="0%";var t=(new Date).getTime()/1e3;f.default.trackEventOnStart("common_loadingTime","\u4e3b\u573a\u666f\u52a0\u8f7d\u8017\u65f6"),cc.director.preloadScene("MainScene",function(t,n){var a=Math.floor(t/n*100);(a=a>99?99:a)>e._tempProgress&&(e._tempProgress=a,e.lbProgress.string=a+"%",e.progressBar.progress=t/n)},function(n){n||(e.progressBar.node.active=!1,e.lbProgress.node.active=!1,e._isSceneComplete=!0,f.default.trackEvent("common_loadingTime",{time:Math.floor((new Date).getTime()/1e3-t)+""}),f.default.trackEventOnEnd("common_loadingTime","\u4e3b\u573a\u666f\u52a0\u8f7d\u8017\u65f6"))})};cc.assetManager.loadBundle("scriptsBundle",function(n){if(!n)if(cc.sys.localStorage.getItem("isShowStory"))t();else{e.progressBar.node.active=!0,e.lbProgress.node.active=!0;var a=cc.director.getScene().getChildByName("GlobalController");d.default.getInstance().openUI(_.default,{uiRoot:a},function(){},function(){cc.sys.localStorage.setItem("isShowStory","1")}),cc.resources.preload("prefabs/StoryPopup",cc.Prefab,function(t,n){var a=Math.floor(t/n*100);(a=a>99?99:a)>e._tempProgress&&(e._tempProgress=a,e.lbProgress.string=a+"%",e.progressBar.progress=t/n)},function(){t()})}})},t.prototype.getMiscData=function(){m.default.IS_OFFLINE||o.default.getMiscData.send({},function(e){console.log("****miscData="+JSON.stringify(e.misc_data)),v.default.getInstance().mapDataToObject(e)},function(e){console.error("getMiscData err,code="+e)})},t.prototype.onLoginClick=function(){var e=s.default.getChannel();console.log("****channel="+e),"wx"==e?(this.loadingNode.active=!0,this.login()):"android"==e?this.privacyPolicyToggle.isChecked?(cc.sys.localStorage.setItem("isAgree","true"),this.loadingNode.active=!0,this.login()):d.default.getInstance().openUI(g.default,{uiRoot:cc.director.getScene(),data:{str:b.default.t("loadingScene_1")}}):"debug"==e?this.privacyPolicyToggle.isChecked?(cc.sys.localStorage.setItem("isAgree","true"),this.loadingNode.active=!0,this.login()):d.default.getInstance().openUI(g.default,{uiRoot:cc.director.getScene(),data:{str:b.default.t("loadingScene_1")}}):"4399"==e?(this.loadingNode.active=!0,this.login()):e==s.HMCHANNEL.WY&&(this.loadingNode.active=!0,this.login()),f.default.trackEvent("common_loginClick")},t.prototype.login=function(){var e=this,t=s.default.getChannel();this.progressBar.node.active=!0,this.lbProgress.node.active=!0;var n=(new Date).getTime()/1e3,a=function(a){m.default.IS_OFFLINE?(cc.sys.localStorage.setItem("uuid",a),e.initData(null)):o.default.start.send({uuid:a,type:t},function(t){f.default.trackEvent("common_userLogin_success",{time:Math.floor((new Date).getTime()/1e3-n)+""}),cc.sys.localStorage.setItem("uuid",a),e.userId.string="ID:"+t.user_auth.user_display_id,cc.sys.localStorage.setItem("userId",t.user_auth.user_display_id+""),e.initData(t)},function(e){console.error("login err,code="+e),o.default.getUpdateInfo.send({},function(e){""!=e&&d.default.getInstance().showToast(e)},function(e){console.error("getServerUpdateInfo err,code="+e)})})};if("wx"==t)(r=cc.sys.localStorage.getItem("uuid"))?f.default.trackEvent("common_oldUserLogin"):f.default.trackEvent("common_newUserLogin"),h.default.getInstance().login(function(e){a(e)},function(){var e={str:b.default.t("loadingScene_2")};d.default.getInstance().openUI(g.default,{data:e})});else if("android"==t)y.default.getInstance().initAndroidSdk(),(r=cc.sys.localStorage.getItem("uuid"))?(a(r),f.default.trackEvent("common_oldUserLogin")):(r=c.default.createUUID(),a(r),f.default.trackEvent("common_newUserLogin"));else if("debug"==t)(r=cc.sys.localStorage.getItem("uuid"))?(a(r),f.default.trackEvent("common_oldUserLogin")):(r=c.default.createUUID(),a(r),f.default.trackEvent("common_newUserLogin"));else if("4399"==t)if(r=cc.sys.localStorage.getItem("uuid"))a(r),f.default.trackEvent("common_oldUserLogin");else{var i=c.default.createUUID();a(i),f.default.trackEvent("common_newUserLogin")}else if(t==s.HMCHANNEL.WY){var r;(r=cc.sys.localStorage.getItem("uuid"))?a(r):(r=c.default.createUUID(),a(r))}},t.prototype.initData=function(e){var t=this;l.default.importAllData(e,function(){t._isDataComplete=!0})},t.prototype.jumpPrivacyPolicy=function(){cc.sys.openURL("https://www.umeng.com/page/policy")},t.prototype.update=function(){this._isDataComplete&&this._isSceneComplete&&(d.default.getInstance().openScene("MainScene"),this._isDataComplete=!1,this._isSceneComplete=!1)},r([D(cc.ProgressBar)],t.prototype,"progressBar",void 0),r([D(cc.Node)],t.prototype,"loginNode",void 0),r([D(cc.Node)],t.prototype,"privacyPolicyNode",void 0),r([D(cc.Toggle)],t.prototype,"privacyPolicyToggle",void 0),r([D(cc.Node)],t.prototype,"loadingNode",void 0),r([D(cc.Label)],t.prototype,"lbProgress",void 0),r([D(cc.Label)],t.prototype,"version",void 0),r([D(cc.Label)],t.prototype,"userId",void 0),r([w],t)}(cc.Component);n.default=k,cc._RF.pop()},{"../data/ImportUserData":"ImportUserData","../data/MiscData":"MiscData","../data/UserData":"UserData","../extension/LanguageData":"LanguageData","../manager/AdManager":"AdManager","../manager/AudioManager":"AudioManager","../manager/SDKManager":"SDKManager","../manager/UIManager":"UIManager","../prefabs/StoryPopup":"StoryPopup","../prefabs/Toast":"Toast","../utils/Api":"Api","../utils/AppConfig":"AppConfig","../utils/ChannelHelper":"ChannelHelper","../utils/GlobalFun":"GlobalFun","../utils/StatisticsManager":"StatisticsManager"}],Loading:[function(e,t,n){"use strict";cc._RF.push(t,"bed761MMOdAw6CraSOeJfq1","Loading");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),s=e("../extension/LanguageData"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playNode1=null,t.playNode2=null,t.playNode3=null,t.loadingText=null,t._showBlack=!0,t}return i(t,e),t.prototype.init=function(e){void 0===e&&(e={showTime:-1,showBlack:!0,loadingText:s.default.t("loading_1")}),this._showBlack=e.showBlack,e.showTime>0&&this.scheduleOnce(this.onClose,e.showTime),e.showBlack?(this.stopAnim(),this.showAnim()):(this.node.opacity=0,this.stopAnim()),e.loadingText=e.loadingText?e.loadingText:s.default.t("loading_1"),this.loadingText.string=e.loadingText},t.prototype.onEnable=function(){this._showBlack&&(this.stopAnim(),this.showAnim())},t.prototype.showAnim=function(){var e=this;cc.tween(this.node).call(function(){e.node.opacity=0}).delay(.2).call(function(){e.node.opacity=255,e.node.getComponent(cc.Animation).play()}).start()},t.prototype.stopAnim=function(){this.node.stopAllActions()},t.uiName="Loading",r([u(cc.Node)],t.prototype,"playNode1",void 0),r([u(cc.Node)],t.prototype,"playNode2",void 0),r([u(cc.Node)],t.prototype,"playNode3",void 0),r([u(cc.Label)],t.prototype,"loadingText",void 0),r([l],t)}(o.default);n.default=d,cc._RF.pop()},{"../base/BaseUI":"BaseUI","../extension/LanguageData":"LanguageData"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"3b6270kCr5JHZY2CoT4Mb8c","LocalizedLabel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../extension/LanguageData"),s=e("../utils/AppConfig"),c=cc._decorator,l=c.ccclass,u=c.property,d=c.menu,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.key="",t.label=null,t}return i(t,e),Object.defineProperty(t.prototype,"dataID",{get:function(){return this.key},set:function(e){this.key!==e&&(this.key=e,this.updateLabel())},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){o.default.polyInst||o.default.init(s.default.APP_LANGUAGE),this.fetchRender()},t.prototype.fetchRender=function(){var e,t=null!==(e=this.getComponent(cc.Label))&&void 0!==e?e:this.getComponent(cc.RichText);if(t)return this.label=t,void this.updateLabel()},t.prototype.updateLabel=function(){this.label?o.default.t(this.dataID)&&(this.label.string=o.default.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")},r([u(cc.String)],t.prototype,"key",void 0),r([l,d("i18n/LocalizedLabel")],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../extension/LanguageData":"LanguageData","../utils/AppConfig":"AppConfig"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"4277aFOhtJKAq53U6mEEr/7","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MiscConfig:[function(e,t,n){"use strict";cc._RF.push(t,"520cch6xdVNIZWMDCltMLxT","MiscConfig"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.GAME_WIDTH=7,e.GAME_HEIGHT=9,e.MAX_LEVEL=70,e.ITEM_STATE_NORMAL="normal",e.ITEM_STATE_COBWEB="cobweb",e.ITEM_STATE_BUBBLE="bubble",e.ITEM_STATE_UNKNOWN="unknown",e.ITEM_STATE_lOCK="lock",e.ITEM_STATE_TELEPORT="teleport",e.ITEM_SIZE_WIDTH=145,e.ITEM_SIZE_HEIGHT=138,e.COMMON_POPUP_MODEL_0=0,e.COMMON_POPUP_MODEL_1=1,e.COMMON_POPUP_MODEL_2=2,e.MAX_CUSTOMER_COUNT=10,e}();n.default=a,cc._RF.pop()},{}],MiscData:[function(e,t,n){"use strict";cc._RF.push(t,"57f73e5woxJSY+GolFlclDz","MiscData");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=["misc_data"],t._misc_data=null,t}return i(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},Object.defineProperty(t.prototype,"wxIOSPayVer",{get:function(){return this._misc_data&&this._misc_data.wxIOSPayVer?this._misc_data.wxIOSPayVer:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIOSPayOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activityData",{get:function(){return this._misc_data?this._misc_data.activity:null},enumerable:!1,configurable:!0}),t.instance=null,t}(e("../base/BaseData").default);n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData"}],MstActivityModel:[function(e,t,n){"use strict";cc._RF.push(t,"d9546fNCQxFx4u2Bg9rjxTS","MstActivityModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["name","openLevel","config"],a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openLevel",{get:function(){return this._openLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstAreaModel:[function(e,t,n){"use strict";cc._RF.push(t,"e30a6fwDV9D9Y6NoJ3j8sD1","MstAreaModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","unlockLevel","startPos","areaSize","items","normalItemIndex","teleportIndex"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockLevel",{get:function(){return this._unlockLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startPos",{get:function(){return this._startPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areaSize",{get:function(){return this._areaSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalItemIndex",{get:function(){return this._normalItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"teleportIndex",{get:function(){return this._teleportIndex},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstBuildingModel:[function(e,t,n){"use strict";cc._RF.push(t,"c68e2W0zp1MLKjV4ZYuIR2a","MstBuildingModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","type","atlasIndex","actionType","isUnlock","isUnlockShow","skinIds"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atlasIndex",{get:function(){return this._atlasIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionType",{get:function(){return this._actionType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlock",{get:function(){return this._isUnlock},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlockShow",{get:function(){return this._isUnlockShow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinIds",{get:function(){return this._skinIds},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstBuildingSkinModel:[function(e,t,n){"use strict";cc._RF.push(t,"be1173zpeVOepjJeiZC0bMs","MstBuildingSkinModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","name","buildingId","nodeName","buildingPos","zIndex","costType","costNum","skinTicket","skinValue","activityKey","skinDesc"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingId",{get:function(){return this._buildingId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return this._nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingPos",{get:function(){return this._buildingPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"costType",{get:function(){return this._costType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"costNum",{get:function(){return this._costNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinTicket",{get:function(){return this._skinTicket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinValue",{get:function(){return this._skinValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activityKey",{get:function(){return this._activityKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinDesc",{get:function(){return this._skinDesc},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstBuildingTaskModel:[function(e,t,n){"use strict";cc._RF.push(t,"ac9a0AKu3JOMIGchkcHUI6p","MstBuildingTaskModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","desc","nextId","buildingId","costCoins","unlockSceneAreaId","exp","energy","diamonds","reward"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextId",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingId",{get:function(){return this._buildingId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"costCoins",{get:function(){return this._costCoins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockSceneAreaId",{get:function(){return this._unlockSceneAreaId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this._exp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energy",{get:function(){return this._energy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diamonds",{get:function(){return this._diamonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reward",{get:function(){return this._reward},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstData:[function(e,t,n){"use strict";cc._RF.push(t,"42892yGrstDwYWe7I5RV7sn","MstData");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/BaseData"),o=e("./mstModel/MstLevelupModel"),s=e("./mstModel/MstAreaModel"),c=e("./mstModel/MstItemModel"),l=e("./mstModel/MstTaskModel"),u=e("./mstModel/MstMiscModel"),d=e("../utils/GlobalFun"),f=e("./mstModel/MstActivityModel"),p=e("./mstModel/MstStoreModel"),h=e("./mstModel/MstBuildingModel"),g=e("./mstModel/MstBuildingSkinModel"),y=e("./mstModel/MstBuildingTaskModel"),m=e("./mstModel/MstRouteModel"),_=e("./mstModel/MstSceneAreaModel"),v=e("crypto-js/md5"),b=e("../utils/AppConfig"),I=e("../utils/ChannelHelper"),w=e("./mstModel/MstHelpModel"),D=e("./mstModel/MstRoleModel"),k=e("./mstModel/MstRoleSkinModel"),T={mst_levelup:o.default,mst_area:s.default,mst_item:c.default,mst_task:l.default,mst_misc:u.default,mst_activity:f.default,mst_store:p.default,mst_building:h.default,mst_buildingSkin:g.default,mst_buildingTask:y.default,mst_role:D.default,mst_roleSkin:k.default,mst_route:m.default,mst_sceneArea:_.default,mst_help:w.default},M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=["mst_levelup","mst_area","mst_item","mst_task","mst_misc","mst_activity","mst_store","mst_building","mst_buildingSkin","mst_buildingTask","mst_role","mst_roleSkin","mst_route","mst_sceneArea","mst_help"],t._mst_levelup={},t._mst_area={},t._mst_item={},t._mst_task={},t._mst_misc={},t._mst_activity={},t._mst_store={},t._mst_building={},t._mst_buildingSkin={},t._mst_buildingTask={},t._mst_role={},t._mst_roleSkin={},t._mst_route={},t._mst_sceneArea={},t._mst_help={},t}return i(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},Object.defineProperty(t.prototype,"mstLevelup",{get:function(){return this._mst_levelup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstArea",{get:function(){return this._mst_area},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstItem",{get:function(){return this._mst_item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstTask",{get:function(){return this._mst_task},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstMisc",{get:function(){return this._mst_misc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstActivity",{get:function(){return this._mst_activity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstStore",{get:function(){return this._mst_store},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstBuilding",{get:function(){return this._mst_building},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstBuildingSkin",{get:function(){return this._mst_buildingSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstBuildingTask",{get:function(){return this._mst_buildingTask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstRole",{get:function(){return this._mst_role},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstRoleSkin",{get:function(){return this._mst_roleSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstRoute",{get:function(){return this._mst_route},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstSceneArea",{get:function(){return this._mst_sceneArea},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstHelp",{get:function(){return this._mst_help},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var t=this,n=I.default.getChannel(),a=this.fields.length,i=0,r=function(n,r){var o=T[n];for(var s in r){var c=new o(s,r[s]);t["_"+n][s]=c}++i==a&&e()};this.fields.forEach(function(e){cc.resources.load("config/"+e,function(a,i){if(a)console.error("MstData init err configName ="+e);else{var o=v(JSON.stringify(i.json)).toString(),s=cc.sys.localStorage.getItem(e+"_hash");"debug"==n||o==s||n==I.HMCHANNEL.WY?r(e,i.json):t.loadRemoteConfig(e,i.json,function(t){r(e,t)})}})})},t.prototype.loadRemoteConfig=function(e,t,n){void 0===n&&(n=null),console.warn("loadRemote,fileName="+e);var a=b.default.RES_SERVER_PATH+b.default.APP_VERSION+"/config/"+e+".json?t="+(new Date).getTime();cc.assetManager.loadRemote(a,function(t,a){if(t)console.error("MstData loadRemote err configName ="+e);else{var i=v(JSON.stringify(a.json)).toString();cc.sys.localStorage.setItem(e+"_hash",i),n&&n(a.json)}})},t.prototype.getAllAreaCount=function(){var e=0;for(var t in this.mstArea){var n=this.mstArea[t].areaSize;e+=n[0]*n[1]}return e},t.prototype.getRandTaskIdByKey1=function(e){var t=[];for(var n in this.mstTask)this.mstTask[n].key1==e&&t.push(n);return t[d.default.radomBetween(0,t.length-1)]},t.prototype.getUpLvIdById=function(e){var t=this.mstItem[e],n=t.type,a=t.level;for(var i in this.mstItem)if(this.mstItem[i].type==n&&this.mstItem[i].level==a-1)return parseInt(i);return e},t.prototype.getNextLvIdById=function(e){var t=this.mstItem[e],n=t.type,a=t.level;for(var i in this.mstItem)if(this.mstItem[i].type==n&&this.mstItem[i].level==a+1)return parseInt(i);return e},t.prototype.getRandomDegenerationItemIdById=function(e){for(var t=this.mstItem[e],n=t.degenerationItem,a=t.degenerationRate,i=Math.random(),r=0,o=0;o<a.length;o++)if(i<(r+=a[o]))return n[o]},t.prototype.getItemMaxLevelById=function(e){if(e>0){var t=this.getItemChainById(e),n=1;if(t){for(var a in t)t[a].level>=n&&(n=t[a].level);return n}}return null},t.prototype.getItemChainById=function(e){if(e>0){var t=this.mstItem[e];if(t){var n={};n[e]=this.mstItem[e];for(var a=0;a<15;a++){var i=e-1;if(!this.mstItem[i]||this.mstItem[i].type!=t.type)break;n[i]=this.mstItem[i]}for(a=0;a<15;a++){var r=e+1;if(!this.mstItem[r]||this.mstItem[r].type!=t.type)break;n[r]=this.mstItem[r]}return n}}return null},t.prototype.getItemChainIdById=function(e){var t=this.mstItem[e],n=[];for(var a in this.mstItem)this.mstItem[a].type==t.type&&this.mstItem[a].atlasIndex>=0&&n.push(parseInt(a));return n},t.prototype.getItemChainIdByLv=function(e,t){for(var n in e){var a=e[n];if(this.mstItem[a].level==t)return a}return e[0]},t.prototype.getItemsIdByLevelAndDifficulty=function(e,t){var n=[];for(var a in this.mstItem)-1!=this.mstItem[a].minNeedLevel&&this.mstItem[a].minNeedLevel<=e&&this.mstItem[a].difficulty==t&&n.push(parseInt(a));return n},t.prototype.getItemsIdByTypeAndDifficulty=function(e,t){var n=-1;for(var a in this.mstItem)if(this.mstItem[a].type==e&&this.mstItem[a].difficulty==t){n=+a;break}return n},t.prototype.getItemAllCreatesById=function(e){var t=this.mstItem[e];return t?t.spawnItem.reduce(function(e,t){return e.includes(t)?e:e.concat(t)},[]):[]},t.prototype.getSpawnerIdById=function(e){var t=[];if(this.mstItem[e]){for(var n in this.mstItem)if(this.mstItem[n].isSpawner)for(var a=this.mstItem[n].spawnItem,i=0;i<a.length;i++)a[i]==e&&t.push(parseInt(n));t.reduce(function(e,t){return e.includes(t)?e:e.concat(t)},[])}return t},t.prototype.getItemIdsByType=function(e,t){void 0===t&&(t=-1);var n=[];for(var a in this.mstItem)t>=0?this.mstItem[a].type==e&&this.mstItem[a].level<=t&&n.push(parseInt(a)):this.mstItem[a].type==e&&n.push(parseInt(a));return n},t.prototype.getSpawnerListByItemId=function(e){var t=-1,n=this.mstItem[e].type;for(var a in this.mstItem)if(this.mstItem[a].type==n&&1==this.mstItem[a].level){t=parseInt(a);break}var i=[];for(var a in this.mstItem){var r=this.mstItem[a];r.isCheckSpawn&&r.isProducer&&r.spawnItem.includes(t)&&i.push(a)}return i},t.prototype.getAtlasData=function(){var e={};for(var t in this.mstItem){var n=this.mstItem[t].atlasIndex;n>0&&(e[n]||(e[n]=[]),e[n].push(t))}var a=[];for(var i in e)a.push(e[i]);return a},t.prototype.isNormalItem=function(e){return!(e>0&&this.mstItem[e].isSpecialItem)},t.prototype.getRefreshItems=function(e){var t=[];for(var n in this.mstItem)-1!=this.mstItem[n].minNeedLevel&&this.mstItem[n].minNeedLevel<=e&&this.mstItem[n].isStoreSell&&t.push(n);return t},t.prototype.getExpId=function(){var e=-1;for(var t in this.mstItem)"exp"==this.mstItem[t].type&&1==this.mstItem[t].level&&(e=parseInt(t));return e},t.prototype.getEnergyId=function(){var e=-1;for(var t in this.mstItem)"energy"==this.mstItem[t].type&&1==this.mstItem[t].level&&(e=parseInt(t));return e},t.prototype.getCoinId=function(){var e=-1;for(var t in this.mstItem)"coin"==this.mstItem[t].type&&1==this.mstItem[t].level&&(e=parseInt(t));return e},t.prototype.getDiamondId=function(){var e=-1;for(var t in this.mstItem)"diamond"==this.mstItem[t].type&&1==this.mstItem[t].level&&(e=parseInt(t));return e},t.instance=null,t}(r.default);n.default=M,cc._RF.pop()},{"../base/BaseData":"BaseData","../utils/AppConfig":"AppConfig","../utils/ChannelHelper":"ChannelHelper","../utils/GlobalFun":"GlobalFun","./mstModel/MstActivityModel":"MstActivityModel","./mstModel/MstAreaModel":"MstAreaModel","./mstModel/MstBuildingModel":"MstBuildingModel","./mstModel/MstBuildingSkinModel":"MstBuildingSkinModel","./mstModel/MstBuildingTaskModel":"MstBuildingTaskModel","./mstModel/MstHelpModel":"MstHelpModel","./mstModel/MstItemModel":"MstItemModel","./mstModel/MstLevelupModel":"MstLevelupModel","./mstModel/MstMiscModel":"MstMiscModel","./mstModel/MstRoleModel":"MstRoleModel","./mstModel/MstRoleSkinModel":"MstRoleSkinModel","./mstModel/MstRouteModel":"MstRouteModel","./mstModel/MstSceneAreaModel":"MstSceneAreaModel","./mstModel/MstStoreModel":"MstStoreModel","./mstModel/MstTaskModel":"MstTaskModel","crypto-js/md5":11}],MstHelpModel:[function(e,t,n){"use strict";cc._RF.push(t,"20b57cjCKFN57C7yUAu0SOs","MstHelpModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","question","answer"],a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question",{get:function(){return this._question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"answer",{get:function(){return this._answer},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstItemModel:[function(e,t,n){"use strict";cc._RF.push(t,"cf592Qmu9JNdJUnBPfTA/Pv","MstItemModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","name","desc","type","typeName","atlasIndex","level","minNeedLevel","difficulty","isProducer","isCheckSpawn","isBoxAdaptLevel","spawnItem","spawnItemRate","isDegeneration","degenerationItem","degenerationRate","degenerationCount","rechargeSingleTime","rechargeTime","itemCount","openingTime","clearTimeDiamonds","collectable","autoSpawner","spawnWebbed","isSpecialItem","energyCost","overrideMerge","decayAttribute","deleteAble","isUnlockShow","taskCoins","sellCoins","diamondsPrice","isStoreSell","icon","fusionAttribute","rechargeAttribute","propAttribute"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeName",{get:function(){return this._typeName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"atlasIndex",{get:function(){return this._atlasIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minNeedLevel",{get:function(){return this._minNeedLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"difficulty",{get:function(){return this._difficulty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProducer",{get:function(){return this._isProducer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSpawner",{get:function(){return this._isProducer&&this.rechargeSingleTime>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBox",{get:function(){return this._isProducer&&0==this.rechargeSingleTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCheckSpawn",{get:function(){return this._isCheckSpawn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBoxAdaptLevel",{get:function(){return this._isBoxAdaptLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spawnItem",{get:function(){return this._spawnItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spawnItemReDup",{get:function(){var e=[],t=this._spawnItem;for(var n in t){var a=t[n];e.includes(a)||e.push(a)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spawnItemRate",{get:function(){return this._spawnItemRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDegeneration",{get:function(){return this._isDegeneration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degenerationItem",{get:function(){return this._degenerationItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degenerationRate",{get:function(){return this._degenerationRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degenerationCount",{get:function(){return this._degenerationCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rechargeSingleTime",{get:function(){return this._rechargeSingleTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rechargeTime",{get:function(){return this._rechargeTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openingTime",{get:function(){return this._openingTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearTimeDiamonds",{get:function(){return this._clearTimeDiamonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectable",{get:function(){return this._collectable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoSpawner",{get:function(){return this._autoSpawner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spawnWebbed",{get:function(){return this._spawnWebbed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSpecialItem",{get:function(){return this._isSpecialItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energyCost",{get:function(){return this._energyCost},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overrideMerge",{get:function(){return this._overrideMerge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decayAttribute",{get:function(){return this._decayAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fusionAttribute",{get:function(){return this._fusionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rechargeAttribute",{get:function(){return this._rechargeAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteAble",{get:function(){return this._deleteAble},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlockShow",{get:function(){return this._isUnlockShow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskCoins",{get:function(){return this._taskCoins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sellCoins",{get:function(){return this._sellCoins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diamondsPrice",{get:function(){return this._diamondsPrice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStoreSell",{get:function(){return this._isStoreSell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propAttribute",{get:function(){return this._propAttribute},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstLevelupModel:[function(e,t,n){"use strict";cc._RF.push(t,"ad4b5iFlApBJ5b1VZfzxbbq","MstLevelupModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["level","exp","taskIds","taskNum","customerIntervalRatio","difficultyRange","difficultyRate","reward","growthFundReward","growthFundRewardRes","growthFundVideoTimes"],a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this._exp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskIds",{get:function(){return this._taskIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskNum",{get:function(){return this._taskNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customerIntervalRatio",{get:function(){return this._customerIntervalRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"difficultyRange",{get:function(){return this._difficultyRange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"difficultyRate",{get:function(){return this._difficultyRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reward",{get:function(){return this._reward},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"growthFundReward",{get:function(){return this._growthFundReward},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"growthFundRewardRes",{get:function(){return this._growthFundRewardRes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"growthFundVideoTimes",{get:function(){return this._growthFundVideoTimes},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstMiscModel:[function(e,t,n){"use strict";cc._RF.push(t,"88657YkMQtFeq2ga7mzv0uv","MstMiscModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["config"],a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstRoleModel:[function(e,t,n){"use strict";cc._RF.push(t,"25a9732Ra1DO7RMASuJCiT8","MstRoleModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","type","index","unlockBuildingId","unlockItemId","isUnlockShow","routeIds","skinIds"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockBuildingId",{get:function(){return this._unlockBuildingId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockItemId",{get:function(){return this._unlockItemId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlockShow",{get:function(){return this._isUnlockShow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"routeIds",{get:function(){return this._routeIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinIds",{get:function(){return this._skinIds},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstRoleSkinModel:[function(e,t,n){"use strict";cc._RF.push(t,"b80d5vjHc9HvruBA8cL/s7P","MstRoleSkinModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","name","roleId","desc","dialogue","costType","costNum","skinTicket","skinValue","activityKey","skinDesc","icon"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roleId",{get:function(){return this._roleId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dialogue",{get:function(){return this._dialogue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"costType",{get:function(){return this._costType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"costNum",{get:function(){return this._costNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinTicket",{get:function(){return this._skinTicket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinValue",{get:function(){return this._skinValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activityKey",{get:function(){return this._activityKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinDesc",{get:function(){return this._skinDesc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstRouteModel:[function(e,t,n){"use strict";cc._RF.push(t,"ab81bhvUuVIq5nIBUJKGmTL","MstRouteModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","routes"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"routes",{get:function(){return this._routes},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstSceneAreaModel:[function(e,t,n){"use strict";cc._RF.push(t,"3ef61tQajFM7515nD2jZuQx","MstSceneAreaModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","name","unlockLevel","buildingTaskId","buildingIds"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockLevel",{get:function(){return this._unlockLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingTaskId",{get:function(){return this._buildingTaskId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingIds",{get:function(){return this._buildingIds},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstStoreModel:[function(e,t,n){"use strict";cc._RF.push(t,"4af75A18elIgbIDv1WM3ziW","MstStoreModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["name","storeId","index","openLevel","config"],a._key=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeId",{get:function(){return this._storeId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openLevel",{get:function(){return this._openLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],MstTaskModel:[function(e,t,n){"use strict";cc._RF.push(t,"e8ab0IBbPpBPJXev+WK5yvy","MstTaskModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this)||this;return a.fields=["id","type","key1","nextId","requireItems","requireItemdifs","requireItemsCountRange","times","isRefresh","refreshDiamonds","reward","rewardRes"],a._id=t,a.mapDataToObject(n),a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key1",{get:function(){return this._key1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextId",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireItems",{get:function(){return this._requireItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireItemdifs",{get:function(){return this._requireItemdifs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireItemsCountRange",{get:function(){return this._requireItemsCountRange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"times",{get:function(){return this._times},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefresh",{get:function(){return this._isRefresh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshDiamonds",{get:function(){return this._refreshDiamonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reward",{get:function(){return this._reward},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewardRes",{get:function(){return this._rewardRes},enumerable:!1,configurable:!0}),t}(e("../../base/BaseModel").default);n.default=r,cc._RF.pop()},{"../../base/BaseModel":"BaseModel"}],NetworkHelper:[function(e,t,n){"use strict";cc._RF.push(t,"4a64dayUU1MH71GaWbd4r3F","NetworkHelper"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.getData=function(e,t,n,a){void 0===n&&(n=null),void 0===a&&(a=null);var i=new XMLHttpRequest;i.timeout=1e4;var r="";for(var o in t)r+=o+"="+t[o]+"&";i.open("POST",e),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(r),i.onerror=function(){console.error("xhr onerror,url ="+e.slice(e.lastIndexOf("/"))),a(404,null)},i.ontimeout=function(){console.error("xhr ontimeout,url ="+e.slice(e.lastIndexOf("/"))),a(405,null)},i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){if(!(void 0!==i.responseText&&i.responseText.length>0))return;n(JSON.parse(i.responseText))}else console.error("xhr err,readyState="+i.readyState+" status="+i.status+" responseText="+i.responseText),a&&(i.responseText.length>0?a(i.status,JSON.parse(i.responseText)):a(i.status,null))}},e}();n.default=a,cc._RF.pop()},{}],NewYearModel:[function(e,t,n){"use strict";cc._RF.push(t,"afeb6PPh/hBPbhfyKkKfeMY","NewYearModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscData"),s=e("../MstData"),c=e("../UserData"),l=e("../userModel/UserTaskModel"),u=e("../../extension/weapp-jwt"),d=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;if(n.fields=["firecrackers","taskData","exchangeShop","payShop","created"],n._firecrackers="0",n._taskData=null,n._exchangeShop={},n._payShop={},n._created=0,n.mapDataToObject(t),t){var a=o.default.getInstance().activityData;if(a){var i=a.newYear;if(i)if(t.created<i[0])n.resetData();else{n._firecrackers=u.weBtoa(n._firecrackers+"");for(var r=[],s=0;s<n.taskData.length;s++){var c=new l.default(n.taskData[s]);r.push(c)}n._taskData=r}}}else n.resetData();return n}return i(t,e),Object.defineProperty(t.prototype,"firecrackers",{get:function(){return parseInt(u.weAtob(this._firecrackers+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exchangeShop",{get:function(){return this._exchangeShop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payShop",{get:function(){return this._payShop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"created",{get:function(){return this._created},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstData",{get:function(){return s.default.getInstance().mstActivity.newYear},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){if(s.default.getInstance().mstActivity.newYear){this._firecrackers=u.weBtoa("0"),this._taskData=[];var e=s.default.getInstance().mstActivity.newYear.config,t=c.default.getInstance().getRequireItemsByTaskId(e.taskId),n=new l.default({id:e.taskId,requireItems:t});this.taskData.push(n),this._created=window.serverTime}},t.prototype.addFirecrackers=function(e){return this.firecrackers+e<0?-1:(this._firecrackers=u.weBtoa(this.firecrackers+e+""),c.default.getInstance().saveUserData(),this.firecrackers)},t.prototype.resetShop=function(){this._payShop={}},t.prototype.exchangeReward=function(e){var t=this.mstData.config.exchangeShop;if(t[e]){var n=t[e].limitNum,a=t[e].costNum;if(this.exchangeShop[e]){if(this.exchangeShop[e]<n&&this.addFirecrackers(-a)>=0)return this.exchangeShop[e]+=1,c.default.getInstance().addReward(t[e].reward),c.default.getInstance().addRewardRes(t[e].rewardRes),c.default.getInstance().addBuildindSkin(t[e].rewardSkin),c.default.getInstance().saveUserData(),!0}else if(this.addFirecrackers(-a)>=0)return this.exchangeShop[e]=1,c.default.getInstance().addReward(t[e].reward),c.default.getInstance().addRewardRes(t[e].rewardRes),c.default.getInstance().addBuildindSkin(t[e].rewardSkin),c.default.getInstance().saveUserData(),!0}return!1},t.prototype.buyItem=function(e){var t=this.mstData.config.payShop;if(t[e]){var n=t[e].limitNum;if(!this.payShop[e])return this.payShop[e]=1,c.default.getInstance().addReward(t[e].reward),c.default.getInstance().addRewardRes(t[e].rewardRes),c.default.getInstance().saveUserData(),!0;if(this.payShop[e]<n)return this.payShop[e]+=1,c.default.getInstance().addReward(t[e].reward),c.default.getInstance().addRewardRes(t[e].rewardRes),c.default.getInstance().saveUserData(),!0}return!1},t.prototype.zipData=function(){var t=e.prototype.zipData.call(this);return t.firecrackers=this.firecrackers,t},t}(r.default);n.default=d,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../extension/weapp-jwt":"weapp-jwt","../MiscData":"MiscData","../MstData":"MstData","../UserData":"UserData","../userModel/UserTaskModel":"UserTaskModel"}],SDKManager:[function(e,t,n){"use strict";cc._RF.push(t,"96028V1pgJD6JpUAUVNfuqb","SDKManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../prefabs/Toast"),i=e("../sdk/XGApi"),r=e("../utils/ChannelHelper"),o=e("./UIManager"),s=e("../../scripts/extension/LanguageData"),c=function(){function e(){this.channel=r.default.getChannel(),this.shareSuccessCallback=null,this.shareFailCallbak=null}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.login=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),"wx"==this.channel?i.default.getInstance().login(e,t):(this.channel,r.HMCHANNEL.WY)},e.prototype.shareAppMessage=function(e,t,n,r,c){void 0===n&&(n=null),void 0===r&&(r=null),void 0===c&&(c=null),"debug"==this.channel?r&&r():"wx"==this.channel?(this.shareSuccessCallback=r,this.shareFailCallbak=c,i.default.getInstance().shareAppMessage(e,t,n)):"android"==this.channel&&o.default.getInstance().openUI(a.default,{data:{str:s.default.t("sdkManager_1")}})},e.prototype.setClipboardData=function(e){"debug"==this.channel?o.default.getInstance().openUI(a.default,{data:{str:s.default.t("sdkManager_2")}}):"wx"==this.channel?i.default.getInstance().setClipboardData(e):"android"==this.channel&&o.default.getInstance().openUI(a.default,{data:{str:s.default.t("sdkManager_3")}})},e.prototype.openKefu=function(e){"wx"==this.channel&&i.default.getInstance().openKefu(e)},e.prototype.openSubscribe=function(){"wx"==this.channel&&i.default.getInstance().openSubscribe()},e.prototype.getSubscribeState=function(){this.channel},e.prototype.getNetworkType=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),"wx"==this.channel&&i.default.getInstance().getNetworkType(e,t)},e.prototype.hideGameClub=function(){"wx"==this.channel&&i.default.getInstance().hideGameClub()},e.prototype.showGameClub=function(e){"wx"==this.channel&&i.default.getInstance().showGameClub(e)},e.prototype.setUserCloudStorage=function(e){"wx"==this.channel&&i.default.getInstance().setUserCloudStorage(e)},e.prototype.postMessage=function(e){"wx"==this.channel&&i.default.getInstance().postMessage(e)},e.prototype.getUserInfoOnRank=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),"wx"==this.channel&&i.default.getInstance().getUserInfoOnRank(e,t)},e.prototype.createUserInfoButton=function(e,t){"wx"==this.channel&&i.default.getInstance().createUserInfoButton(e,t)},e.prototype.createImage=function(e,t){"wx"==this.channel&&i.default.getInstance().createImage(e,t)},e.prototype.getUserInfo=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),"wx"==this.channel&&i.default.getInstance().getUserInfo(e,t)},e.instance=null,e}();n.default=c,cc._RF.pop()},{"../../scripts/extension/LanguageData":"LanguageData","../prefabs/Toast":"Toast","../sdk/XGApi":"XGApi","../utils/ChannelHelper":"ChannelHelper","./UIManager":"UIManager"}],SkipAdPopup:[function(e,t,n){"use strict";cc._RF.push(t,"82872eqBURJFq9LbzYiwr4r","SkipAdPopup");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),s=e("../data/UserData"),c=e("../manager/AdManager"),l=cc._decorator,u=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemNum=null,t}return i(t,e),t.prototype.init=function(e){this._okCallback="function"==typeof e.okCallback?e.okCallback:function(){},this._cancelCallback="function"==typeof e.cancelCallback?e.cancelCallback:function(){},this._closeCallback="function"==typeof e.closeCallback?e.closeCallback:function(){},this.itemNum.string="x"+s.default.getInstance().skipAd,c.default.getInstance().showBanner()},t.prototype.onOkBtnClick=function(){e.prototype.onClose.call(this),this._okCallback()},t.prototype.onCancelBtnClick=function(){this._cancelCallback(),e.prototype.onClose.call(this)},t.prototype.onClose=function(){this._closeCallback(),e.prototype.onClose.call(this)},t.prototype.onDestroy=function(){c.default.getInstance().hideBanner()},t.uiName="SkipAdPopup",r([d(cc.Label)],t.prototype,"itemNum",void 0),r([u],t)}(o.default);n.default=f,cc._RF.pop()},{"../base/BaseUI":"BaseUI","../data/UserData":"UserData","../manager/AdManager":"AdManager"}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"4dbd6vPC+JDQrumAjoWTv7Y","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],StatisticsManager:[function(e,t,n){"use strict";cc._RF.push(t,"52a9e8xgjRCuLdbKj7Fom0d","StatisticsManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../sdk/WYApi"),i=e("./ChannelHelper"),r=function(){function e(){}return e.trackEvent=function(e,t){void 0===t&&(t=null);var n=i.default.getChannel();"wx"==n?wx&&wx.uma&&wx.uma.trackEvent(e,t):"android"==n?t?jsb.reflection.callStaticMethod("utils/NativeHelper","onEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t)):jsb.reflection.callStaticMethod("utils/NativeHelper","onEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,"null"):"wy"==n&&a.default.getInstance().onEventMsg(e,JSON.stringify(t)),console.log("****trackEvent eventName="+e+" eventPram="+JSON.stringify(t))},e.onInitLevel=function(e,t){"wx"==i.default.getChannel()&&wx.uma.level.onInitLevel({levelId:e,levelName:t})},e.onSetLevel=function(e,t){"wx"==i.default.getChannel()&&wx.uma.level.onSetLevel({levelId:e,levelName:t})},e.trackEventOnStart=function(e,t){"wx"==i.default.getChannel()&&wx.uma.stage.onStart({stageId:e,stageName:t})},e.trackEventOnEnd=function(e,t){"wx"==i.default.getChannel()&&wx.uma.stage.onEnd({stageId:e,stageName:t,event:"complete"})},e.trackEventOnXG=function(e,t,n,a){void 0===t&&(t=""),void 0===n&&(n=0),void 0===a&&(a=0),"wx"==i.default.getChannel()&&("video"==e?wx.dot.videoFilter(n,t,a):"pay"==e?wx.dot.payFilter(n,t,a):"newUser"==e?wx.dot.newUserFilter(n,t):"auth"==e?wx.dot.auth():"deepAuth"==e?wx.dot.deepAuth():"common"==e&&wx.dot.send(t))},e}();n.default=r,cc._RF.pop()},{"../sdk/WYApi":"WYApi","./ChannelHelper":"ChannelHelper"}],StoryPopup:[function(e,t,n){"use strict";cc._RF.push(t,"dfb42wHEb9Fcb2B/neo8CMU","StoryPopup");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),s=e("../utils/ActionFunc"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeNode=null,t.story1Node=null,t.story2Node=null,t.nextBtn=null,t.nextNode=null,t._step=1,t}return i(t,e),t.prototype.init=function(){},t.prototype.onLoad=function(){this.closeNode.active=!1,this.nextBtn.enabled=!1,this.nextNode.active=!1,this.story1Ani(),s.default.zoomAnim2(this.nextNode)},t.prototype.story1Ani=function(){var e=this;this.nextBtn.enabled=!1;var t=this.story1Node.children[0];t.active=!0,t.x=-800,cc.tween(t).to(.5,{position:cc.v3(-253,333,0)}).call(function(){e._step++,e.nextBtn.enabled=!0,e.nextNode.active=!0,e.closeNode.active=!0,e.closeNode.opacity=0,cc.tween(e.closeNode).to(.5,{opacity:255}).call(function(){}).start()}).start()},t.prototype.story2Ani=function(){var e=this;this.nextBtn.enabled=!1;var t=this.story1Node.children[1];t.active=!0,t.x=880,cc.tween(t).to(.4,{position:cc.v3(216,320,0)}).call(function(){e._step++,e.nextBtn.enabled=!0}).start()},t.prototype.story3Ani=function(){var e=this;this.nextBtn.enabled=!1;var t=this.story1Node.children[2];t.active=!0,t.y=-1600,cc.tween(t).to(.5,{position:cc.v3(0,-128,0)}).call(function(){e._step++,e.nextBtn.enabled=!0}).start()},t.prototype.story4Ani=function(){var e=this;this.story1Node.active=!1,this.nextBtn.enabled=!1;var t=this.story2Node.children[0];t.active=!0,t.x=-800,cc.tween(t).to(.5,{position:cc.v3(-263,333,0)}).call(function(){e._step++,e.nextBtn.enabled=!0}).start()},t.prototype.story5Ani=function(){var e=this;this.nextBtn.enabled=!1;var t=this.story2Node.children[1];t.active=!0,t.x=880,cc.tween(t).to(.5,{position:cc.v3(223,317,0)}).call(function(){e._step++,e.nextBtn.enabled=!0}).start()},t.prototype.story6Ani=function(){var e=this;this.nextBtn.enabled=!1;var t=this.story2Node.children[2];t.active=!0,t.y=-1600,cc.tween(t).to(.5,{position:cc.v3(0,-82,0)}).call(function(){e._step++,e.nextBtn.enabled=!0}).start()},t.prototype.onClickClose=function(){this.node.active=!1,"function"==typeof this.closeCallback&&this.closeCallback(),this.node.destroy()},t.prototype.onClickNext=function(){2==this._step?this.story2Ani():3==this._step?this.story3Ani():4==this._step?this.story4Ani():5==this._step?this.story5Ani():6==this._step?this.story6Ani():this._step>=7&&this.onClickClose()},t.uiName="StoryPopup",r([u(cc.Node)],t.prototype,"closeNode",void 0),r([u(cc.Node)],t.prototype,"story1Node",void 0),r([u(cc.Node)],t.prototype,"story2Node",void 0),r([u(cc.Button)],t.prototype,"nextBtn",void 0),r([u(cc.Node)],t.prototype,"nextNode",void 0),r([l],t)}(o.default);n.default=d,cc._RF.pop()},{"../base/BaseUI":"BaseUI","../utils/ActionFunc":"ActionFunc"}],TTApi:[function(e,t,n){"use strict";cc._RF.push(t,"3b9c25HiTRAcrSs7POY3cpp","TTApi"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this._rewardAdSuc=null,this._rewardAdFail=null,this._banner=null,this._rewardAd=null,this._interstitialAd=null,this._videoPath=null,this._phoneSystem=null,this._recorder=null,this.AppId="",this.adUnitBannerId="",this.adUnitVideoId="",this.adUnitInterId="",this.RrcorderTime=60,this.BannerTitle="\u5206\u4eab\u6807\u9898",this.BannerImage="\u5206\u4eab\u56fe\u7247\u5730\u5740",this.RecorderTitle="\u5f55\u5c4f\u5206\u4eab\u6807\u9898",this.RecorderDY_Title="\u5f55\u5c4f\u6296\u97f3\u5206\u4eab\u6807\u9898"}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this._phoneSystem=tt.getSystemInfoSync(),this.createBanner(),this.createRewardAd(),this.createInterAd())},e.prototype.createBanner=function(){if(this._banner&&(this._banner.destroy(),this._banner=null),!this._banner&&this.adUnitBannerId){var e=this._phoneSystem.windowWidth,t=this._phoneSystem.windowHeight;this._banner=tt.createBannerAd({adUnitId:this.adUnitBannerId,adIntervals:40,style:{left:(e-300)/2,top:t-100,width:300}}),this._banner.onError(function(){})}},e.prototype.createRewardAd=function(){var e=this;!this._rewardAd&&this.adUnitVideoId&&(this._rewardAd=tt.createRewardedVideoAd({adUnitId:this.adUnitVideoId}),this._rewardAd.onLoad(function(){}),this._rewardAd.onError(function(){}),this._rewardAd.onClose(function(t){null==t||t&&t.isEnded?e._rewardAdSuc&&e._rewardAdSuc():e._rewardAdFail&&e._rewardAdFail()}))},e.prototype.createInterAd=function(){!this._interstitialAd&&this.adUnitInterId&&(this._interstitialAd=tt.createInterstitialAd({adUnitId:this.adUnitInterId}),this._interstitialAd.onError(function(){}))},e.prototype.showBanner=function(){this._banner&&this._banner.show()},e.prototype.hideBanner=function(){this._banner&&this._banner.hide()},e.prototype.showRewardAd=function(e,t,n){var a=this;this._rewardAd?(this._rewardAdSuc=e,this._rewardAdFail=t,this._rewardAd.show().catch(function(){a._rewardAd.load().then(function(){a._rewardAd.show().catch(function(){n&&n()})})})):n&&n()},e.prototype.showInterstitial=function(){this._interstitialAd&&this._interstitialAd.show()},e.prototype.hideInterstitial=function(){this._interstitialAd&&this._interstitialAd.hide()},e.prototype.shareGame=function(){tt.shareAppMessage({title:this.BannerTitle,imageUrl:this.BannerImage,query:{data:"\u6d4b\u8bd5\u5206\u4eab"}})},e.prototype.beginRecorder=function(){this._recorder=tt.getGameRecorderManager(),this._recorder.onStart(function(){}),this._recorder.start({duration:this.RrcorderTime})},e.prototype.stopRecorder=function(e){var t=this;this._recorder.onStop(function(n){t._videoPath=n.videoPath,e&&e()}),this._recorder.stop()},e.prototype.shareRecorder=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._videoPath&&tt.shareAppMessage({channel:"video",title:this.RecorderTitle,desc:"xxxxxxxxx",extra:{videoPath:this._videoPath,videoTopics:[this.RecorderDY_Title]},success:function(){e&&e()},fail:function(){t&&t()}})},e.prototype.ttLogin=function(e,t){void 0===t&&(t=null),tt.login({success:function(){e&&e()},fail:function(){t&&t()},complete:function(){}})},e.prototype.navigateToGame=function(e){tt.navigateToMiniProgram({appId:e,success:function(){},fail:function(){}})},e.instance=null,e}();n.default=a,cc._RF.pop()},{}],TaskGiftModel:[function(e,t,n){"use strict";cc._RF.push(t,"9e02fmEhRRG5rAw2oCwGRJ7","TaskGiftModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../utils/GlobalFun"),s=e("../MstData"),c=e("../UserData"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["endTime","rewardId","payNum"],n._endTime=0,n._rewardId=0,n._payNum=0,n._taskData=[],n._taskGiftConfig=null,n._rewardData=null,n.mapDataToObject(t),n._taskGiftConfig=s.default.getInstance().mstActivity.taskGift,n}return i(t,e),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewardId",{get:function(){return this._rewardId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewardData",{get:function(){if(!this._rewardData){var e=s.default.getInstance().mstItem[this.rewardId];this._rewardData=this._taskGiftConfig.config.itemDifficulty[e.difficulty]}return this._rewardData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payNum",{get:function(){return this._payNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){if(c.default.getInstance().activityData.isActivityOpen("taskGift")&&c.default.getInstance().level>=this._taskGiftConfig.openLevel&&o.default.isVipTypeMoreBig(c.default.getInstance().userType,this._taskGiftConfig.config.minUserType,!0)&&this.endTime<window.serverTime)for(var e=this._taskGiftConfig.config,t=this._taskGiftConfig.config.minitemDifficulty,n=o.default.shuffle(c.default.getInstance().taskData),a=0;a<n.length;a++)for(var i=n[a].requireItems,r=0;r<i.length;r++){var l=s.default.getInstance().mstItem[i[r]],u=c.default.getInstance().getNormalItemIndexByIds([i[r]]),d=l.difficulty;if(u.includes(-1)&&d>=t){var f=o.default.radomBetween(1,100);if(100*e.rate>=f&&-1!=this.getRewardId(l.type,d))return}}},t.prototype.getRewardId=function(e,t){var n=this._taskGiftConfig.config,a=[],i=[],r=n.itemDifficulty;for(var l in r)+l<t&&(a.push(r[l]),i.push(l));var u=o.default.radomBetween(0,i.length-1),d=i[u],f=s.default.getInstance().getItemsIdByTypeAndDifficulty(e,d);if(-1!=f){var p=c.default.getInstance().activityData.getActivityEndTime("taskGift")[1],h=window.serverTime+n.limitTime;this._endTime=h>p?p:h,this._rewardId=f,this._rewardData=a[u],this._payNum=0}return f},t.prototype.isOpen=function(){return this.endTime>window.serverTime&&this._payNum<this.rewardData.costNum},t.prototype.buyGift=function(e){if(this._payNum+=e,this._payNum>=this._rewardData.costNum){var t=[this.rewardId];return this._rewardData.reward&&t.push.apply(t,this._rewardData.reward),c.default.getInstance().addReward(t),this._rewardData.rewardRes&&c.default.getInstance().addRewardRes(this._rewardData.rewardRes),!0}return!1},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],Toast:[function(e,t,n){"use strict";cc._RF.push(t,"939b2M3o9ZLvoj3VLAhLqGS","Toast");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strLabel=null,t.aniNode=null,t}return i(t,e),t.prototype.init=function(e){this.strLabel.string=e.str},t.prototype.onLoad=function(){var e=this;cc.tween(this.aniNode).by(1,{y:200}).call(function(){e.node.destroy()}).start()},t.uiName="Toast",r([l(cc.Label)],t.prototype,"strLabel",void 0),r([l(cc.Node)],t.prototype,"aniNode",void 0),r([c],t)}(o.default);n.default=u,cc._RF.pop()},{"../base/BaseUI":"BaseUI"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"14ceaXfU29EL7TXeWEpJFTj","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../extension/LanguageData"),i=function(){function e(){this._uiList=[],this._loadingClass=null,this._toastNode=null,this._queueUI=[],this._showNoticeIng=!1}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.openLoading=function(e,t,n){var i=this;void 0===e&&(e=-1),void 0===t&&(t=null),void 0===n&&(n=null);var r={showTime:e,loadingText:a.default.t("uiManager_1")};cc.isValid(this._loadingClass)||cc.resources.load("prefabs/Loading",function(e,a){if(e)console.error(e);else if(!cc.isValid(i._loadingClass)){var o=cc.instantiate(a),s=o.getComponent("Loading");s.tag=s.uiName,i._loadingClass=s,o.x=0,o.y=0;var c=cc.director.getScene().getChildByName("GlobalController");"function"==typeof s.init&&s.init(r),cc.isValid(c)&&(c.addChild(o,999),"function"==typeof t&&t(),s.closeCallback=n)}})},e.prototype.showLoading=function(e){void 0===e&&(e=null),cc.isValid(this._loadingClass)?(this._loadingClass.node.active=!0,"function"==typeof e&&e()):e()},e.prototype.hideLoading=function(e){void 0===e&&(e=null),cc.isValid(this._loadingClass)&&(this._loadingClass.node.active=!1,"function"==typeof e&&e())},e.prototype.showToast=function(e,t){void 0===e&&(e=a.default.t("apiBase_3")),void 0===t&&(t=null),cc.isValid(this._toastNode)||(this._toastNode=cc.director.getScene().getChildByName("GlobalController").getChildByName("toast")),this._toastNode.getChildByName("toastBg").getChildByName("label").getComponent(cc.Label).string=e,this._toastNode.active=!0,"function"==typeof t&&t()},e.prototype.hideToast=function(){cc.isValid(this._toastNode)||(this._toastNode=cc.director.getScene().getChildByName("GlobalController").getChildByName("toast")),this._toastNode.active=!1},e.prototype.openScene=function(e,t){var n=this;void 0===t&&(t=null),this._uiList=[],cc.director.loadScene(e,function(){n.openLoading(-1,function(){n._loadingClass.node.active=!1}),"function"==typeof t&&t()})},e.prototype.openUI=function(e,t,n,a,i){var r=this;void 0===t&&(t={}),void 0===n&&(n=null),void 0===a&&(a=null),void 0===i&&(i=null);var o;o="string"==typeof e?e:i?e.uiName+"_"+i:e.uiName,this.getUI(o)?this.showUI(o):this.showLoading(function(){var i;i="string"==typeof e?"prefabs/"+o:e.getUrl(),cc.resources.load(i,function(i,s){if(i)return console.error(i),void r.hideLoading();if(!r.getUI(o)){var c=cc.instantiate(s),l=c.getComponent(e);l.tag=o,r._uiList.push(l),c.x=t.x?t.x:540,c.y=t.y?t.y:960;var u=t.uiRoot?t.uiRoot:cc.director.getScene().getChildByName("Canvas").getChildByName("mainUI"),d=t.uiIndex?t.uiIndex:1;"function"==typeof l.init&&l.init(t.data),cc.isValid(u)&&(l.closeCallback=a,u.addChild(c,d)),r.hideLoading(),"function"==typeof n&&n()}})})},e.prototype.closeUI=function(e){e="function"==typeof e?e.uiName:e;for(var t=0;t<this._uiList.length;t++){var n=this._uiList[t];if(n.tag===e)return this._uiList.splice(t,1),"function"==typeof n.closeCallback&&n.closeCallback(),void(cc.isValid(n.node)&&n.node.destroy())}},e.prototype.closeAllUI=function(){for(var e=0;e<this._uiList.length;e++)this.closeUI(this._uiList[e].tag),e--},e.prototype.showUI=function(e,t){void 0===t&&(t=null);var n=this.getUI(e);n&&(n.node.active=!0,"function"==typeof t&&t())},e.prototype.hideUI=function(e,t){void 0===t&&(t=null);var n=this.getUI(e);n&&(n.node.active=!1,"function"==typeof t&&t())},e.prototype.getUI=function(e){e="function"==typeof e?e.uiName:e;for(var t=0;t<this._uiList.length;t++)if(this._uiList[t].tag===e)return this._uiList[t];return null},e.prototype.openNotice=function(e,t,n,a,i){var r=this;void 0===t&&(t={}),void 0===n&&(n=null),void 0===a&&(a=null),void 0===i&&(i=null),this._showNoticeIng?this._queueUI.push(function(){r.openNotice(e,t,n,a,i)}):(this._showNoticeIng=!0,this.openUI(e,t,n,a,i))},e.prototype.closeNotice=function(e){this.closeUI(e),this._showNoticeIng=!1,this._queueUI.length>0&&this._queueUI.shift()()},e.instance=null,e}();n.default=i,cc._RF.pop()},{"../extension/LanguageData":"LanguageData"}],UserActivityModel:[function(e,t,n){"use strict";cc._RF.push(t,"731bb4I6h1PiaTzlNmt2kNi","UserActivityModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../activityModel/ChristmasModel"),s=e("../activityModel/NewYearModel"),c=e("../MiscData"),l=e("../MstData"),u=e("../UserData"),d=e("../activityModel/HappyBingoModel"),f=e("../../utils/GlobalFun"),p=e("../activityModel/EnergyBottleModel"),h=e("../activityModel/TaskGiftModel"),g=e("../activityModel/WaterParkModel"),y=e("../activityModel/ChildrenDayModel"),m=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["christmas","newYear","happyBingo","energyBottle","taskGift","waterPark","childrenDay"],n._christmas=null,n._newYear=null,n._happyBingo=null,n._energyBottle=null,n._taskGift=null,n._waterPark=null,n._childrenDay=null,n._isChristmasShow=!1,n._isNewYearShow=!1,n._isHappyBingoShow=!1,n._isWaterParkShow=!1,n._isChildrenDayShow=!1,n.mapDataToObject(t),n.updateActivity(),n}return i(t,e),Object.defineProperty(t.prototype,"christmas",{get:function(){return this._christmas&&this._christmas instanceof o.default||this.updateChristmas(),this._christmas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newYear",{get:function(){return this._newYear&&this._newYear instanceof s.default||this.updateNewYear(),this._newYear},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"happyBingo",{get:function(){return this._happyBingo&&this._happyBingo instanceof d.default||this.updateHappyBingo(),this._happyBingo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energyBottle",{get:function(){return this._energyBottle&&this._energyBottle instanceof p.default||this.updateEnergyBottle(),this._energyBottle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskGift",{get:function(){return this._taskGift&&this._taskGift instanceof h.default||this.updateTaskGift(),this._taskGift},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waterPark",{get:function(){return this._waterPark&&this._waterPark instanceof g.default||this.updateWaterPark(),this._waterPark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenDay",{get:function(){return this._childrenDay&&this._childrenDay instanceof y.default||this.updateChildrenDay(),this._childrenDay},enumerable:!1,configurable:!0}),t.prototype.isOneActivityShow=function(e){return"christmas"==e?this._isChristmasShow:"newYear"==e?this._isNewYearShow:"happyBingo"==e?this._isHappyBingoShow:"waterPark"==e?this._isWaterParkShow:"childrenDay"==e?this._isChildrenDayShow:void 0},t.prototype.setShowOneActivity=function(e){"christmas"==e?this._isChristmasShow=!0:"newYear"==e?this._isNewYearShow=!0:"happyBingo"==e?this._isHappyBingoShow=!0:"waterPark"==e?this._isWaterParkShow=!0:"childrenDay"==e&&(this._isChildrenDayShow=!0)},t.prototype.isFirstLoadActivitu=function(e){return this.isOneActivityGuideOpen(e)&&!this.isOneActivityShow(e)},t.prototype.updateActivity=function(){this.updateChristmas(),this.updateNewYear(),this.updateHappyBingo(),this.updateEnergyBottle(),this.updateWaterPark(),this.updateChildrenDay()},t.prototype.updateChristmas=function(){this.isActivityOpen("christmas")&&(this._christmas=new o.default(this._christmas))},t.prototype.updateNewYear=function(){this.isActivityOpen("newYear")&&(this._newYear=new s.default(this._newYear))},t.prototype.updateHappyBingo=function(){this.isActivityOpen("happyBingo")&&(this._happyBingo=new d.default(this._happyBingo))},t.prototype.updateEnergyBottle=function(){this.isActivityOpen("energyBottle")&&(this._energyBottle=new p.default(this._energyBottle))},t.prototype.updateTaskGift=function(){this.isActivityOpen("taskGift")&&(this._taskGift=new h.default(this._taskGift))},t.prototype.updateWaterPark=function(){this.isActivityOpen("waterPark")&&(this._waterPark=new g.default(this._waterPark))},t.prototype.updateChildrenDay=function(){this.isActivityOpen("childrenDay")&&(this._childrenDay=new y.default(this._childrenDay))},t.prototype.isActivityOpen=function(e){var t=c.default.getInstance().activityData;if(t){var n=t[e],a=l.default.getInstance().mstActivity[e],i=u.default.getInstance().level;if(a&&n&&i>=a.openLevel&&window.serverTime>=n[0]&&window.serverTime<n[1])return!0}return!1},t.prototype.isActivityGuideOpen=function(){for(var e=0;e<this.fields.length;e++)if(this.isOneActivityGuideOpen(this.fields[e]))return!0;return!1},t.prototype.isOneActivityGuideOpen=function(e){if(this.isActivityOpen(e)){if("energyBottle"==e||"taskGift"==e)return!1;var t=cc.sys.localStorage.getItem(e),n=this.getActivityEndTime(e);if(!t||""==t||n.length>0&&t!==f.default.getDateByYMD(n[0]))return!0}return!1},t.prototype.getActivityEndTime=function(e){var t=c.default.getInstance().activityData;if(t){var n=t[e],a=l.default.getInstance().mstActivity[e],i=u.default.getInstance().level;if(a&&n&&i>=a.openLevel&&window.serverTime>=n[0]&&window.serverTime<n[1])return n}return[]},t.prototype.taskGiftResetData=function(){this.isActivityOpen("taskGift")&&this.taskGift.resetData()},t}(r.default);n.default=m,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MiscData":"MiscData","../MstData":"MstData","../UserData":"UserData","../activityModel/ChildrenDayModel":"ChildrenDayModel","../activityModel/ChristmasModel":"ChristmasModel","../activityModel/EnergyBottleModel":"EnergyBottleModel","../activityModel/HappyBingoModel":"HappyBingoModel","../activityModel/NewYearModel":"NewYearModel","../activityModel/TaskGiftModel":"TaskGiftModel","../activityModel/WaterParkModel":"WaterParkModel"}],UserBagModel:[function(e,t,n){"use strict";cc._RF.push(t,"09008ycY39LTIwq1fxtAtOC","UserBagModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=e("./UserItemModel"),l=function(e){function t(t){var n=e.call(this)||this;if(n.fields=["buyCount","videoCount","itemData"],n._buyCount=0,n._videoCount=0,n._videoTimes=0,n._itemData=[],n._config=null,n.mapDataToObject(t),n._config=o.default.getInstance().mstMisc.bagConfig.config,t)if(t.buyCount)for(a=0;a<t.itemData.length;a++)n._itemData[a]=new c.default(t.itemData[a]);else{n._buyCount=t.length;for(var a=0;a<t.length;a++)n._itemData[a]=new c.default(t[a])}else n.initBagData();for(a=0;a<n.itemData.length;a++)n.itemData[a].updateInfo();return n}return i(t,e),Object.defineProperty(t.prototype,"buyCount",{get:function(){return this._buyCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoCount",{get:function(){return this._videoCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoTimes",{get:function(){return this._videoTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemData",{get:function(){return this._itemData.sort(function(e,t){return e.id<0?1:t.id<0?-1:e.id-t.id})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t.prototype.initBagData=function(){for(var e=0;e<this.config.unlockDiamonds.length;e++)0==this.config.unlockDiamonds[e]&&(this._buyCount++,this.itemData[e]=new c.default)},t.prototype.buyBagCell=function(){var e=this.buyCount;if(e<this.config.unlockDiamonds.length){var t=this.config.unlockDiamonds[e];return s.default.getInstance().addDiamonds(-t)>=0?(this._buyCount++,this.itemData.push(new c.default),s.default.getInstance().saveUserData(),1):-2}return-1},t.prototype.buyCellByVideo=function(){var e=this.videoCount;if(!(e<this.config.unlockVideo.length))return-1;this._videoTimes++;var t=this.config.unlockVideo[e];return this.videoTimes>=t?(this._videoTimes=0,this._videoCount++,this.itemData.push(new c.default),s.default.getInstance().saveUserData(),1):void 0},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData","./UserItemModel":"UserItemModel"}],UserBuildingModel:[function(e,t,n){"use strict";cc._RF.push(t,"6637aUrNy1IHJ3RdECta6YS","UserBuildingModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=function(e){function t(t,n){void 0===n&&(n={});var a=e.call(this)||this;return a.fields=["isUnlock","isReceived","skinIdIndex","unlockSkinIndex","skinVideoCount","tipsSkinIndex"],a.id=-1,a.isUnlock=!1,a.isReceived=!1,a.skinIdIndex=0,a.unlockSkinIndex=[],a.skinVideoCount={},a.tipsSkinIndex=[],a._skinTicket={},a.id=t,a.dataToObject(n),a.unlockSkinIndex.length<=0&&a.unlockSkinIndex.push(0),a}return i(t,e),Object.defineProperty(t.prototype,"mstData",{get:function(){return o.default.getInstance().mstBuilding[this.id]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstSkinData",{get:function(){this.unlockSkinIndex.includes(this.skinIdIndex)||(this.skinIdIndex=0);var e=this.mstData.skinIds[this.skinIdIndex];return o.default.getInstance().mstBuildingSkin[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHaveTips",{get:function(){return this.tipsSkinIndex.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinValue",{get:function(){if(this.isUnlock){for(var e=0,t=0;t<this.unlockSkinIndex.length;t++)e+=this.oneSkineValue(this.unlockSkinIndex[t]);return e}return 0},enumerable:!1,configurable:!0}),t.prototype.oneSkineValue=function(e){var t=0,n=this.mstData.skinIds[e];return n&&(t+=o.default.getInstance().mstBuildingSkin[n].skinValue),t},t.prototype.skinVideoCountById=function(e){return this.skinVideoCount[e]?this.skinVideoCount[e]:0},t.prototype.isSkinUnlock=function(e){return this.unlockSkinIndex.includes(e)},t.prototype.isSkinUnlockBySkinId=function(e){var t=this.mstData.skinIds.indexOf(e);return this.unlockSkinIndex.includes(t)},t.prototype.unLock=function(){if(!this.isUnlock){this.isUnlock=!0,s.default.getInstance().addSkinScore(this.skinValue);var e=o.default.getInstance().mstRole;for(var t in e){var n=e[t].unlockItemId;if(e[t].unlockBuildingId==this.id&&!s.default.getInstance().roleData[t].isUnlock&&(n<0||s.default.getInstance().isItemUnlock(e[t].unlockItemId)))return s.default.getInstance().roleData[t].unLock(),t}}return-1},t.prototype.receivedUnlockAward=function(){this.isReceived=!0},t.prototype.unLockSkin=function(e,t){if(void 0===t&&(t=!1),!this.unlockSkinIndex.includes(e)){var n=this.mstData.skinIds[e],a=o.default.getInstance().mstBuildingSkin[n];if("coins"==a.costType){if(a.costNum<=s.default.getInstance().coins)return s.default.getInstance().addCoins(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else if("diamonds"==a.costType){if(a.costNum<=s.default.getInstance().diamonds)return s.default.getInstance().addDiamonds(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else if("skinTicket"==a.costType){if(a.costNum<=s.default.getInstance().skinTicket)return s.default.getInstance().addSkinTicket(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else{if("activity"==a.costType)return this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0;if("video"==a.costType)return this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}}return!1},t.prototype.addSkinBySkinId=function(e){var t=this.mstData.skinIds.indexOf(e),n=o.default.getInstance().mstBuildingSkin[e];if(!this.unlockSkinIndex.includes(t))return this.unlockSkinIndex.push(t),this.tipsSkinIndex.push(t),s.default.getInstance().addSkinScore(n.skinValue),0;var a=n.skinTicket;s.default.getInstance().addRewardRes([30097,a]),this._skinTicket[e]=a},t.prototype.getTransitionSkinTicket=function(e){return this._skinTicket[e]},t.prototype.selectSkin=function(e){return!!this.unlockSkinIndex.includes(e)&&(this.skinIdIndex=e,!0)},t.prototype.addSkinVideoCount=function(e,t){var n=o.default.getInstance().mstBuildingSkin[e];return this.skinVideoCount[e]?this.skinVideoCount[e]+=1:this.skinVideoCount[e]=1,"video"==n.costType&&this.skinVideoCount[e]>=n.costNum&&this.unLockSkin(t)},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData"}],UserBuildingTaskModel:[function(e,t,n){"use strict";cc._RF.push(t,"d7f49Bi1GVJQIQhdKT1WJGN","UserBuildingTaskModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../UserData"),s=e("../MstData"),c=e("../../utils/StatisticsManager"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["id"],n.id=-1,n.dataToObject(t),n}return i(t,e),Object.defineProperty(t.prototype,"mstData",{get:function(){return s.default.getInstance().mstBuildingTask[this.id]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this.mstData.costCoins>0&&o.default.getInstance().coins>=this.mstData.costCoins},enumerable:!1,configurable:!0}),t.prototype.completeTask=function(){var e=this.mstData.costCoins,t=this.mstData.buildingId;if(o.default.getInstance().buildingData[t].isUnlock)return o.default.getInstance().deleteBuildingTaskById(this.id),!1;if(e>=0){if(o.default.getInstance().addCoins(-e)>=0){c.default.trackEvent("building_complete",{buildingId:this.id+""});var n={},a=this.mstData.buildingId;return n.customer=o.default.getInstance().buildingData[a].unLock(),parseInt(this.mstData.unlockSceneAreaId)>0&&o.default.getInstance().unlockSceneAreaIds.push(this.mstData.unlockSceneAreaId+""),o.default.getInstance().deleteBuildingTaskById(this.id),n.newTaskData=o.default.getInstance().acceptBuildingTask(this.mstData.nextId),o.default.getInstance().addExp(this.mstData.exp),o.default.getInstance().changeEnergy(this.mstData.energy),o.default.getInstance().addDiamonds(this.mstData.diamonds),o.default.getInstance().addReward(this.mstData.reward),o.default.getInstance().saveUserData(),n}return!1}return!1},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/StatisticsManager":"StatisticsManager","../MstData":"MstData","../UserData":"UserData"}],UserData:[function(e,t,n){"use strict";cc._RF.push(t,"4ed819nBV5GNYuBPgSTbcsr","UserData");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseData"),s=e("../utils/Api"),c=e("../utils/GlobalFun"),l=e("../utils/EventName"),u=e("../utils/StatisticsManager"),d=e("./ImportUserData"),f=e("./MiscConfig"),p=e("./MstData"),h=e("./userModel/UserItemModel"),g=e("./userModel/UserTaskModel"),y=e("./userModel/UserStoreModel"),m=e("../utils/AppConfig"),_=e("./userModel/UserGuidanceModel"),v=e("./userModel/UserBuildingTaskModel"),b=e("./userModel/UserBuildingModel"),I=e("../manager/UIManager"),w=e("../prefabs/Toast"),D=e("./userModel/UserActivityModel"),k=e("../extension/weapp-jwt"),T=e("./MiscData"),M=e("./userModel/UserGrowthFundModel"),A=e("./userModel/UserBagModel"),O=e("./userModel/UserPassModel"),S=e("./userModel/UserSkinGiftModel"),x=e("./userModel/UserWeeklyGiftModel"),R=e("./userModel/UserGreatValueGiftModel"),C=e("./userModel/UserLimitActivityModel"),P=e("./userModel/UserRankModel"),B=e("./userModel/UserEnergyCardModel"),E=e("./userModel/UserRoleModel"),j=e("../../scripts/extension/LanguageData"),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=["user","user_auth","user_token"],t._user=null,t._user_auth=null,t._user_token=null,t._userData=null,t._isNewUser=!1,t._saveUserDataFailTime=0,t._curMergeArea=0,t._skinScore=null,t._rankModel=null,t._randomNum=0,t._randomLevel=0,t._randomExp=0,t._randomEnergy=0,t._randomCoins=0,t._randomdDiamonds=0,t._randomdSkipAd=0,t._randomdSkinTicket=0,t._reason=null,t._fishLevel=0,t._fishExp=0,t._fishEnergy=0,t._fishCoins=0,t._fishDiamonds=0,t._fishSkipAd=0,t._fishSkinTicket=0,t}return i(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},Object.defineProperty(t.prototype,"id",{get:function(){return this._user_auth.user_display_id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewUser",{get:function(){return this._isNewUser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._user_token},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userType",{get:function(){return"v0"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._user.user_name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"photo",{get:function(){return this._user.user_photo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mail",{get:function(){if(this._user.user_mails){if("string"==typeof this._user.user_mails)try{this._user.user_mails=JSON.parse(this._user.user_mails)}catch(e){this._user.user_mails={}}}else this._user.user_mails={};return this._user.user_mails},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._fishLevel=parseInt(k.weAtob(this._userData.level)),this._fishLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this._fishExp=parseInt(k.weAtob(this._userData.exp)),this._fishExp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energy",{get:function(){return this._fishEnergy=parseInt(k.weAtob(this._userData.energy)),this._fishEnergy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastRecoverEnergy",{get:function(){return this._userData.lastRecoverEnergy?this._userData.lastRecoverEnergy:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextEnergyRecoverTime",{get:function(){var e=this.maxEnergy,t=p.default.getInstance().mstMisc.energyInterval.config;return this.energy<e?this.lastRecoverEnergy+t-window.serverTime:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coins",{get:function(){return this._fishCoins=parseInt(k.weAtob(this._userData.coins)),this._fishCoins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diamonds",{get:function(){return this._fishDiamonds=parseInt(k.weAtob(this._userData.diamonds)),this._fishDiamonds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipAd",{get:function(){return this._fishSkipAd=parseInt(k.weAtob(this._userData.skipAd)),this._fishSkipAd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinTicket",{get:function(){return this._fishSkinTicket=parseInt(k.weAtob(this._userData.skinTicket)),this._fishSkinTicket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinScore",{get:function(){if(this._skinScore)return parseInt(k.weAtob(this._skinScore));var e=0,n=t.getInstance().buildingData;for(var a in n)e+=n[a].skinValue;var i=t.getInstance().roleData;for(var a in i)e+=i[a].skinValue;return this._skinScore=k.weBtoa(e+""),parseInt(k.weAtob(this._skinScore))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saleScore",{get:function(){return parseInt(k.weAtob(this._userData.saleScore))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCheat",{get:function(){return this._fishLevel+this._randomNum!=this._randomLevel?"lv_"+(this._randomLevel-this._randomNum)+"_"+this._fishLevel:this._fishExp+this._randomNum!=this._randomExp?"lv_"+(this._randomLevel-this._randomNum)+"_exp_"+(this._randomExp-this._randomNum)+"_"+this._fishExp:this._fishEnergy+this._randomNum!=this._randomEnergy?"energy_"+(this._randomEnergy-this._randomNum)+"_"+this._fishEnergy:this._fishCoins+this._randomNum!=this._randomCoins?"coins_"+(this._randomCoins-this._randomNum)+"_"+this._fishCoins:this._fishDiamonds+this._randomNum!=this._randomdDiamonds?"diamonds_"+(this._randomdDiamonds-this._randomNum)+"_"+this._fishDiamonds:this._fishSkipAd+this._randomNum!=this._randomdSkipAd?"skipAd_"+(this._randomdSkipAd-this._randomNum)+"_"+this._fishSkipAd:this._fishSkinTicket+this._randomNum!=this._randomdSkinTicket?"skinTicket_"+(this._randomdSkinTicket-this._randomNum)+"_"+this._fishSkinTicket:"no"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeArea",{get:function(){return this._curMergeArea},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockMergeAreaIds",{get:function(){return this._userData.unlockMergeAreaIds?this._userData.unlockMergeAreaIds:this._userData.unlockMergeAreaIds=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockSceneAreaIds",{get:function(){return this._userData.unlockSceneAreaIds?this._userData.unlockSceneAreaIds:this._userData.unlockSceneAreaIds=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemData",{get:function(){return this._userData.itemData?this._userData.itemData:this._userData.itemData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openingBoxNum",{get:function(){for(var e=0,t=0;t<this.itemData.length;t++)this.itemData[t].id>0&&this.itemData[t].mstData.isBox&&this.itemData[t].isCool&&e++;var n=this.bagData.itemData;for(t=0;t<n.length;t++)n[t].id>0&&n[t].mstData.isBox&&n[t].isCool&&e++;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewards",{get:function(){return this._userData.rewards?this._userData.rewards:this._userData.rewards=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsTypeMaxLevel",{get:function(){return this._userData.itemsTypeMaxLevel?this._userData.itemsTypeMaxLevel:this._userData.itemsTypeMaxLevel={}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlimitedEnergyEndTime",{get:function(){return this._userData.unlimitedEnergyEndTime?this._userData.unlimitedEnergyEndTime:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnlimitedEnergy",{get:function(){return window.serverTime<=this.unlimitedEnergyEndTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._userData.taskData?this._userData.taskData:this._userData.taskData=[],this._userData.taskData.sort(function(e,t){return t.progress-e.progress})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingTaskData",{get:function(){return this._userData.buildingTaskData?this._userData.buildingTaskData:this._userData.buildingTaskData=[],this._userData.buildingTaskData.sort(function(e,t){return t.id-e.id})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buildingData",{get:function(){return this._userData.buildingData?this._userData.buildingData:this._userData.buildingData={},this._userData.buildingData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeData",{get:function(){return this._userData.storeData?this._userData.storeData:this._userData.storeData=new y.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bagData",{get:function(){return this._userData.bagData?this._userData.bagData:this._userData.bagData=new A.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roleData",{get:function(){return this._userData.roleData?this._userData.roleData:this._userData.roleData={},this._userData.roleData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTaskNum",{get:function(){return p.default.getInstance().mstLevelup[this.level].taskNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemUnlockItemRewardData",{get:function(){return this._userData.itemUnlockItemRewardData?this._userData.itemUnlockItemRewardData:this._userData.itemUnlockItemRewardData={},this._userData.itemUnlockItemRewardData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearVideoTimes",{get:function(){return this._userData.clearVideoTimes?this._userData.clearVideoTimes:this._userData.clearVideoTimes=0,this._userData.clearVideoTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bubbleVideoTimes",{get:function(){return this._userData.bubbleVideoTimes?this._userData.bubbleVideoTimes:this._userData.bubbleVideoTimes=0,this._userData.bubbleVideoTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"guidance",{get:function(){return this._userData.guidance||(this._userData.guidance=new _.default),this._userData.guidance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastLoginDay",{get:function(){return this._userData.lastLoginDay?this._userData.lastLoginDay:this._userData.lastLoginDay=""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastOnlineTime",{get:function(){return this._userData.lastOnlineTime?Math.floor(this._userData.lastOnlineTime):this._userData.lastOnlineTime=-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onlineTime",{get:function(){return this._userData.onlineTime||(this._userData.onlineTime=0),this._userData.onlineTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activityData",{get:function(){return this._userData.activityData?this._userData.activityData:this._userData.activityData=new D.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"growthFundData",{get:function(){return this._userData.growthFundData?this._userData.growthFundData:this._userData.growthFundData=new M.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gashaponData",{get:function(){if(this._userData.gashaponData){for(var e=0,t=p.default.getInstance().mstActivity.gashapon.config.items,n=0;n<t.length;n++)this._userData.gashaponData.gashaponRewardId.indexOf(t[n].id)>=0&&e++;this._userData.gashaponData.gashaponTimes!=e&&(this._userData.gashaponData.gashaponTimes=e)}return this._userData.gashaponData?this._userData.gashaponData:this.initGashaponData()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blindBox",{get:function(){return this._userData.blindBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myOpenOtherBlindBox",{get:function(){return this._userData.myOpenOtherBlindBox?this._userData.myOpenOtherBlindBox:this._userData.myOpenOtherBlindBox=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myOpenSelfBlindBox",{get:function(){return this._userData.myOpenSelfBlindBox?this._userData.myOpenSelfBlindBox:this._userData.myOpenSelfBlindBox=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineGiftTimes",{get:function(){return this._userData.onLineGiftTimes||(this._userData.onLineGiftTimes=0),this._userData.onLineGiftTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOnLineGiftEnd",{get:function(){return this.onLineGiftTimes>=p.default.getInstance().mstActivity.onlineGift.config.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelupAwardRecord",{get:function(){return this._userData.levelupAwardRecord?this._userData.levelupAwardRecord:this._userData.levelupAwardRecord={}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newUserGiftTimes",{get:function(){return this._userData.newUserGiftTimes||(this._userData.newUserGiftTimes=0),this._userData.newUserGiftTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vipCardTimes",{get:function(){return this._userData.vipCardTimes||(this._userData.vipCardTimes=0),this._userData.vipCardTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vipCardEndTime",{get:function(){return this._userData.vipCardEndTime||(this._userData.vipCardEndTime=0),this._userData.vipCardEndTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVipCard",{get:function(){return this.vipCardEndTime>window.serverTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vipCardDailyRewardTimes",{get:function(){return this._userData.vipCardDailyRewardTimes||(this._userData.vipCardDailyRewardTimes=0),this._userData.vipCardDailyRewardTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"superVipCardTimes",{get:function(){return this._userData.superVipCardTimes||(this._userData.superVipCardTimes=0),this._userData.superVipCardTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"superVipCardEndTime",{get:function(){return this._userData.superVipCardEndTime||(this._userData.superVipCardEndTime=0),this._userData.superVipCardEndTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSuperVipCard",{get:function(){return this.superVipCardEndTime>window.serverTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"superVipCardDailyRewardTimes",{get:function(){return this._userData.superVipCardDailyRewardTimes||(this._userData.superVipCardDailyRewardTimes=0),this._userData.superVipCardDailyRewardTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSuperVipRed",{get:function(){return cc.sys.localStorage.getItem("superViptRedTime")!=c.default.getDateByYMD()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"superBenefitsTimes",{get:function(){return this._userData.superBenefitsTimes||(this._userData.superBenefitsTimes=0),this._userData.superBenefitsTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"superBenefitsRewardTimes",{get:function(){return this._userData.superBenefitsRewardTimes||(this._userData.superBenefitsRewardTimes=0),this._userData.superBenefitsRewardTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"passModel",{get:function(){return this._userData.passModel?this._userData.passModel:this._userData.passModel=new O.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinGiftModel",{get:function(){return this._userData.skinGiftModel?this._userData.skinGiftModel:this._userData.skinGiftModel=new S.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energyCardModel",{get:function(){return this._userData.energyCardModel?this._userData.energyCardModel:this._userData.energyCardModel=new B.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoTimes",{get:function(){return this._userData.videoTimes?this._userData.videoTimes:this._userData.videoTimes=0,this._userData.videoTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sevenVideoTimes",{get:function(){return this._userData.sevenVideoTimes?this._userData.sevenVideoTimes:this._userData.sevenVideoTimes={},this._userData.sevenVideoTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeTimes",{get:function(){return this._userData.mergeTimes?this._userData.mergeTimes:this._userData.mergeTimes=0,this._userData.mergeTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"greatValueGift",{get:function(){return this._userData.greatValueGift?this._userData.greatValueGift:this._userData.greatValueGift=new R.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weeklyGiftModel",{get:function(){return this._userData.weeklyGiftModel?this._userData.weeklyGiftModel:this._userData.weeklyGiftModel=new x.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"limitActModel",{get:function(){return this._userData.limitActModel?this._userData.limitActModel:this._userData.limitActModel=new C.default(null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rankModel",{get:function(){return this._rankModel?this._rankModel:this._rankModel=new P.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxEnergy",{get:function(){return p.default.getInstance().mstMisc.maxEnergy.config+this.energyCardModel.addMaxEnergy},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,n){void 0===n&&(n=!1),this._userData=e;var a=cc.sys.localStorage.getItem("cheatReason");if(a&&a.length>0)this.cheatApi(a);else{this.compressData(),n?(this._isNewUser=!0,this.initNewUserData()):(this.initUserData(),this.updateEnergy()),this.isNewDay();var i=p.default.getInstance().mstStore.goods.config.refreshTime;this.storeData.goodsResfreshTime+i<=window.serverTime&&this.storeData.refreshGoods(),this.updateTaskAndItem(),this.activityData.taskGiftResetData(),this.updateRandomCheat(),t()}},t.prototype.isNewDay=function(){this.lastLoginDay?c.default.getDateByYMD()!=this.lastLoginDay&&(this.refreshDay(),cc.director.getScene().emit(l.default.NEW_DAY),this._userData.lastLoginDay=c.default.getDateByYMD()):this._userData.lastLoginDay=c.default.getDateByYMD()},t.prototype.saveUserData=function(e,t){var n=this;if(void 0===e&&(e=null),void 0===t&&(t=null),this.token&&!this._reason){this._userData.lastOnlineTime=window.serverTime,m.default.SERVER_PATH.indexOf("test")>=0&&(this._userData.lastOnlineTime-=31536e4);var a=r(this._userData,[]);a.level=this.level,a.exp=this.exp,a.energy=this.energy,a.coins=this.coins,a.diamonds=this.diamonds,a.skipAd=this.skipAd,a.skinTicket=this.skinTicket,a.saleScore=this.saleScore,a.skinScore=this.skinScore;for(var i=[],o=0;o<this.itemData.length;o++)i.push(this.itemData[o].zipData());a.itemData=i;var c=[];for(o=0;o<this.rewards.length;o++)c.push(this.rewards[o].zipData());a.rewards=c;var l=[];for(o=0;o<this.taskData.length;o++)l.push(this.taskData[o].zipData());a.taskData=l,a.passModel=this.passModel.zipData();var u=[];for(o=0;o<this.buildingTaskData.length;o++)u.push(this.buildingTaskData[o].zipData());a.buildingTaskData=u;var f={};for(var p in this.buildingData)f[p]=this.buildingData[p].zipData();a.buildingData=f,a.storeData=this.storeData.zipData(),a.guidance=this.guidance.zipData(),a.bagData=this.bagData.zipData();var h={};for(var p in this.roleData)h[p]=this.roleData[p].zipData();a.roleData=h,a.greatValueGift=this.greatValueGift.zipData(),a.activityData=this.activityData.zipData(),a.growthFundData=this.growthFundData.zipData(),a.weeklyGiftModel=this.weeklyGiftModel.zipData(),a.limitActModel=this.limitActModel.zipData(),a.skinGiftModel=this.skinGiftModel.zipData(),a.energyCardModel=this.energyCardModel.zipData(),a.rankModel&&delete a.rankModel;var g=JSON.stringify(a);a=null;var y=d.default.compressData(g);m.default.IS_OFFLINE?(cc.sys.localStorage.setItem("userData",y),e&&e(),console.log("saveUserData success")):(cc.sys.localStorage.setItem("userData",y),s.default.backupUserData.send({userData:encodeURIComponent(y)},function(){n._saveUserDataFailTime=0,e&&e(),console.log("saveUserData success")},function(e){n._saveUserDataFailTime++,n._saveUserDataFailTime>10&&I.default.getInstance().openUI(w.default,{data:{str:j.default.t("userData_1")}}),console.error("saveUserData fail,err="+e),t&&t()}))}},t.prototype.cheatApi=function(e){this._reason=e,cc.sys.localStorage.setItem("cheatReason",e),s.default.backupUserData.send({cheat:e})},t.prototype.updateUserData=function(e){this.mapDataToObject(e)},t.prototype.clearToken=function(){this._user_token=null},t.prototype.clearNewUserFlag=function(){this._isNewUser=!1},t.prototype.initNewUserData=function(){u.default.onInitLevel("level1","\u7b49\u7ea71"),u.default.trackEventOnXG("auth"),this.initBuildingData(),this.iniBuildingTaskData(),this.initRoleData(),this.initTaskData(),this.resfreshBlindBox(),this.initAreaData()},t.prototype.initBuildingData=function(){var e=p.default.getInstance().mstBuilding;for(var t in e){var n=e[t].isUnlock;this.buildingData[t]=new b.default(t,{isUnlock:n,isReceived:n})}},t.prototype.iniBuildingTaskData=function(){var e=p.default.getInstance().mstSceneArea;for(var t in e)this.level>=e[t].unlockLevel&&e[t].unlockLevel>0&&(this.unlockSceneAreaIds.push(t),this.acceptBuildingTask(e[t].buildingTaskId))},t.prototype.initRoleData=function(){var e=p.default.getInstance().mstRole;for(var t in e){var n=!1;-1==e[t].unlockBuildingId&&-1==e[t].unlockItemId&&(n=!0),this.roleData[t]=new E.default(t,{isUnlock:n})}},t.prototype.initAreaData=function(){for(var e=p.default.getInstance().getAllAreaCount(),t=0;t<e;t++)this.itemData.push(new h.default({state:f.default.ITEM_STATE_lOCK}));var n=p.default.getInstance().mstArea;for(var a in n){var i=n[a];this.level>=i.unlockLevel&&i.unlockLevel>=0&&this.unLockArea(a)}},t.prototype.initTaskData=function(){var e=p.default.getInstance().mstLevelup[this.level].taskIds;if(0==e.length);else for(var n=0;n<e.length;n++)t.getInstance().acceptTaskById(e[n])},t.prototype.initGashaponData=function(){return this._userData.gashaponData={gashaponTimes:0,buyCD:0,gashaponRewardId:[]}},t.prototype.initUserData=function(){u.default.trackEventOnXG("common","Init_info"),this._curMergeArea=0;for(var e=[],t=0;t<this.itemData.length;t++)"object"==typeof this.itemData[t].id&&(this.itemData[t].id=-1),e.push(new h.default(this.itemData[t])),e[t].updateInfo();var n=p.default.getInstance().getAllAreaCount();if(e.length<n){var a=n-e.length;for(t=0;t<a;t++)e.push(new h.default({state:f.default.ITEM_STATE_lOCK}))}this._userData.itemData=e;var i=[];for(t=0;t<this.rewards.length;t++)"number"==typeof this.rewards[t]?i.push(new h.default({id:this.rewards[t]})):i.push(new h.default(this.rewards[t])),i[t].updateInfo();this._userData.rewards=i;var r=[];for(t=0;t<this.taskData.length;t++){var o=new g.default(this.taskData[t]);r.push(o)}this._userData.taskData=r,0==r.length&&this.acceptTaskById(1);var s=p.default.getInstance().mstArea;for(var c in s){var l=s[c].unlockLevel;if(l>0&&this.level>=l&&!this.unlockMergeAreaIds.includes(Number(c))){var d=p.default.getInstance().mstLevelup[l].taskIds;for(t=0;t<d.length;t++)this.getTaskDataById(d[t])||this.acceptTaskById(d[t])}}if(this._userData.passModel)this._userData.passModel=new O.default(this._userData.passModel);else{var m={passData:this._userData.passData,passReceiveData:this._userData.passReceiveData};this._userData.passModel=new O.default(m),delete this._userData.passData,delete this._userData.passReceiveData,delete this._userData.passTaskData}var I=[];for(t=0;t<this.buildingTaskData.length;t++){var w=new v.default(this.buildingTaskData[t]);I.push(w)}this._userData.buildingTaskData=I;var k={},T=p.default.getInstance().mstBuilding;for(var c in T)if(this.buildingData[c]){var P=new b.default(c,this.buildingData[c]);k[c]=P}else{var j=T[c].isUnlock;k[c]=new b.default(c,{isUnlock:j,isReceived:j})}this._userData.buildingData=k,this._userData.storeData=new y.default(this.storeData),this._userData.guidance=new _.default(this._userData.guidance),this._userData.bagData=new A.default(this._userData.bagData);var U={},N=p.default.getInstance().mstRole;for(var c in N)if(this.roleData[c]){var L=new E.default(c,this.roleData[c]);U[c]=L}else{j=!1;var F=this.buildingData[N[c].unlockBuildingId];(N[c].unlockBuildingId<0||F&&F.isUnlock)&&(N[c].unlockItemId<0||this.isItemUnlock(N[c].unlockItemId))&&(j=!0),U[c]=new E.default(c,{isUnlock:j})}if(this._userData.roleData=U,this._userData.customerData){var G=this._userData.customerData;for(var V in G){var H=G[V];H&&H.isReceived&&this._userData.roleData[V]&&(this._userData.roleData[V].isReceived=H.isReceived)}this._userData.roleData,this.initGashaponData(),delete this._userData.customerData}var z=p.default.getInstance().mstActivity.levelupGift.config.limitTime;for(var W in this.levelupAwardRecord)window.serverTime-this._userData.levelupAwardRecord[W].startTime>z&&delete this._userData.levelupAwardRecord[W];for(var W in this.levelupAwardRecord){var Y=p.default.getInstance().mstActivity.levelupGift.config.lvData[W];Y&&Y.reward.length<=0&&Y.rewardRes.length<=0&&delete this.levelupAwardRecord[W]}this._userData.gashaponTimes&&(delete this._userData.gashaponTimes,delete this._userData.gashaponRewardId,this.initGashaponData()),this._userData.greatValueGift=new R.default(this._userData.greatValueGift),this._userData.activityData=new D.default(this._userData.activityData),this._userData.growthFundData=new M.default(this._userData.growthFundData),this._userData.skinGiftModel=new S.default(this._userData.skinGiftModel),this._userData.weeklyGiftModel=new x.default(this._userData.weeklyGiftModel),this._userData.limitActModel=new C.default(this._userData.limitActModel),this._userData.energyCardModel=new B.default(this._userData.energyCardModel)},t.prototype.refreshDay=function(){this._userData.onlineTime=0,this._userData.onLineGiftTimes=0,this._userData.vipCardDailyRewardTimes=0,this._userData.superVipCardDailyRewardTimes=0,this._userData.myOpenOtherBlindBox=[],this._userData.myOpenSelfBlindBox=0,this._userData.videoTimes=0,this._userData.mergeTimes=0,this._userData.clearVideoTimes=0,this._userData.bubbleVideoTimes=0,this.initGashaponData(),this.resfreshBlindBox(),this.storeData.resetDaily(),this.greatValueGift.resetData(),this.activityData.newYear&&this.activityData.isActivityOpen("newYear")&&this.activityData.newYear.resetShop(),this.passModel.resetTask(),this.skinGiftModel.resetSkinGiftId(),this._userData.saleScore=k.weBtoa("0")},t.prototype.resfreshBlindBox=function(){var e=p.default.getInstance().mstActivity.blindBox.config;if(this.level<e.openLevel)return null;for(var t=[],n=0,a=0;a<e.propNum;a++)n=c.default.radomBetween(0,e.prop.length-1),t.push({itemId:e.prop[n],itemNum:1});for(a=0;a<e.itemsNum;a++)n=c.default.radomBetween(0,e.items.length-1),t.push({itemId:e.items[n],itemNum:1});for(a=0;a<e.energyNum;a++)n=c.default.radomBetween(0,e.energy.length-1),t.push({itemId:30092,itemNum:e.energy[n]});for(a=0;a<e.diamondsNum;a++)n=c.default.radomBetween(0,e.diamonds.length-1),t.push({itemId:30094,itemNum:e.diamonds[n]});var i=[],r=t.length;for(a=0;a<r;a++)n=c.default.radomBetween(0,t.length-1),i.push(t[n]),t.splice(n,1);var o={boxData:i,receiveOpenBox:[!1,!1,!1]};this._userData.blindBox=o},t.prototype.updateEnergy=function(){var e=this.maxEnergy;if(this.energy<e){var t=window.serverTime-this.lastRecoverEnergy,n=p.default.getInstance().mstMisc.energyInterval.config,a=Math.floor(t/n),i=t%n;this._userData.energy=k.weBtoa(this.energy+a+""),this.energy>=e?(this._userData.energy=k.weBtoa(e+""),this._userData.lastRecoverEnergy=window.serverTime):this._userData.lastRecoverEnergy=window.serverTime-i}else this._userData.lastRecoverEnergy=null},t.prototype.initAndroidSdk=function(){jsb.reflection.callStaticMethod("utils/NativeHelper","initSdk","()V")},t.prototype.addExp=function(e){var t=this,n=this.isCheat;if("no"==n){var a=f.default.MAX_LEVEL;if(this.level<a){this._userData.exp=k.weBtoa(this.exp+e+""),this.exp<0&&(this._userData.exp=k.weBtoa("0"));var i=function(){if(t.level<a){var e=p.default.getInstance().mstLevelup[t.level];if(t.exp>=e.exp){t._userData.level=k.weBtoa(t.level+1+""),t._userData.exp=k.weBtoa(t.exp-e.exp+""),e=p.default.getInstance().mstLevelup[t.level],t.addReward(e.reward),u.default.trackEvent("common_levelup",{level:t.level+""}),u.default.onSetLevel("level"+t.level,"\u7b49\u7ea7"+t.level);for(var n=0;n<e.taskIds.length;n++)t.acceptTaskById(e.taskIds[n]);var r=t.getTaskCountByType("customer");for(n=0;n<e.taskNum-r;n++)t.acceptCustomerTask();p.default.getInstance().mstMisc.tradingConfig.config.includes(t.level)&&t.acceptTradingTask();var o=p.default.getInstance().mstSceneArea;for(var s in o)t.level==o[s].unlockLevel&&o[s].unlockLevel>0&&t.acceptBuildingTask(o[s].buildingTaskId);var c=p.default.getInstance().mstActivity.levelupGift.config.lvData[t.level];c&&(c.reward.length>0||c.rewardRes.length>0)&&(t.levelupAwardRecord[t.level]={startTime:window.serverTime,isReceived:!1,videoCount:0}),t.storeData.updateBox(),i(),t.updateTaskAndItem(),cc.director.getScene().emit(l.default.LEVELUP,t.level),t.level==p.default.getInstance().mstActivity.rank.openLevel?t.rankModel.saveAllScore():t.rankModel.saveLv()}}};i(),this.updateRandomCheat()}}else this.cheatApi(n)},t.prototype.changeEnergy=function(e,t){void 0===t&&(t=!1);var n=this.isCheat;if("no"==n){var a=this.maxEnergy;if(t)if(this.energy<a){var i=p.default.getInstance().mstMisc.energyInterval.config;this.lastRecoverEnergy+i<=window.serverTime&&(this._userData.energy=k.weBtoa(this.energy+1+""),this.energy==a?this._userData.lastRecoverEnergy=null:this._userData.lastRecoverEnergy=window.serverTime)}else this._userData.lastRecoverEnergy=null;else{if(this.energy+e<0)return cc.director.getScene().emit(l.default.NO_ENERGY),-1;e<0&&c.default.addToBottle(-e),this._userData.energy=k.weBtoa(this.energy+e+""),this.energy<a?this._userData.lastRecoverEnergy=this._userData.lastRecoverEnergy?this._userData.lastRecoverEnergy:window.serverTime:this._userData.lastRecoverEnergy=window.serverTime}return this.updateRandomCheat(),this.energy}return this.cheatApi(n),this.energy},t.prototype.addCoins=function(e){var t=this.isCheat;return"no"==t?this.coins+e<0?-1:(this._userData.coins=k.weBtoa(this.coins+e+""),this.updateRandomCheat(),this.coins):(this.cheatApi(t),this.coins)},t.prototype.addDiamonds=function(e){var t=this.isCheat;return"no"==t?this.diamonds+e<0?-1:(this._userData.diamonds=k.weBtoa(this.diamonds+e+""),this.updateRandomCheat(),this.diamonds):(this.cheatApi(t),this.diamonds)},t.prototype.addSkipAd=function(e){var t=this.isCheat;return"no"==t?this.skipAd+e<0?-1:(this._userData.skipAd=k.weBtoa(this.skipAd+e+""),this.updateRandomCheat(),this.skipAd):(this.cheatApi(t),this.skipAd)},t.prototype.addSkinTicket=function(e){var t=this.isCheat;return"no"==t?this.skinTicket+e<0?-1:(this._userData.skinTicket=k.weBtoa(this.skinTicket+e+""),this.updateRandomCheat(),this.skinTicket):(this.cheatApi(t),this.skinTicket)},t.prototype.addReward=function(e){for(var t=0;t<e.length;t++)"number"==typeof e[t]?this.rewards.push(new h.default({id:e[t]})):this.rewards.push(new h.default(e[t]))},t.prototype.addRewardRes=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=Number(e[t+1]),i=p.default.getInstance().mstItem[n];if(i&&!isNaN(a))if("expShow"==i.type)this.addExp(a);else if("energyShow"==i.type)this.changeEnergy(a);else if("coinShow"==i.type)this.addCoins(a);else if("diamondShow"==i.type)this.addDiamonds(a);else if("passShow"==i.type)this.passModel.addExp(a);else if("skipAdShow"==i.type)this.addSkipAd(a);else if("skinTicketShow"==i.type)this.addSkinTicket(a);else if("buildingSkinShow"==i.type)this.addBuildindSkin([a]);else if("roleSkinShow"==i.type)this.addRoleSkin([a]);else if("activityShow"==i.type)if(301==a){var r=p.default.getInstance().mstActivity.vipCrad.config.costNum;this._userData.vipCardTimes=r,this.addVipCardTime()}else 302==a?(r=p.default.getInstance().mstActivity.superVipCard.config.costNum,this._userData.superVipCardTimes=r,this.addSuperVipCardTime()):601==a?this.passModel.buyPass():701==a?(this.getNewUserGift(),cc.director.getScene().emit(l.default.UPDATE_ACTIVITY)):901==a&&this.growthFundData.addPayCount();else"christmasShow"==i.type?this.activityData.isActivityOpen("christmas")&&this.activityData.christmas.addExp(a):"newYearShow"==i.type?this.activityData.isActivityOpen("newYear")&&this.activityData.newYear.addFirecrackers(a):"childrenDayShow"==i.type&&this.activityData.isActivityOpen("childrenDay")&&this.activityData.childrenDay.addExp(a);t++}},t.prototype.addBuildindSkin=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=p.default.getInstance().mstBuildingSkin[n];a?this.buildingData[a.buildingId].addSkinBySkinId(n):console.warn("\u6ca1\u6709id="+n+"\u7684\u76ae\u80a4")}},t.prototype.addRoleSkin=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=p.default.getInstance().mstRoleSkin[n];a?this.roleData[a.roleId].addSkinBySkinId(n):console.warn("\u6ca1\u6709id="+n+"\u7684\u76ae\u80a4")}},t.prototype.addRewardByKV=function(e){for(var t in e){var n=p.default.getInstance().mstItem[t],a=Number(e[t]);if(n&&!isNaN(a))if(n.type.includes("Show"))this.addRewardRes([t,a]);else for(var i=0;i<a;i++)this.addReward([Number(t)])}},t.prototype.addUnlimitedEnergyEndTime=function(e){this.isUnlimitedEnergy?this._userData.unlimitedEnergyEndTime+=e:this._userData.unlimitedEnergyEndTime=window.serverTime+e},t.prototype.updateRandomCheat=function(){this._randomNum=window.serverTime%100,this._randomLevel=this.level+this._randomNum,this._randomExp=this.exp+this._randomNum,this._randomEnergy=this.energy+this._randomNum,this._randomCoins=this.coins+this._randomNum,this._randomdDiamonds=this.diamonds+this._randomNum,this._randomdSkipAd=this.skipAd+this._randomNum,this._randomdSkinTicket=this.skinTicket+this._randomNum},t.prototype.compressData=function(){this._userData.exp?this._userData.exp:this._userData.exp=0,this._userData.skipAd?this._userData.skipAd:this._userData.skipAd=0,this._userData.skinTicket?this._userData.skinTicket:this._userData.skinTicket=0,this._userData.saleScore?this._userData.saleScore:this._userData.saleScore=0,this._userData.level=k.weBtoa(this._userData.level+""),this._userData.exp=k.weBtoa(this._userData.exp+""),this._userData.energy=k.weBtoa(this._userData.energy+""),this._userData.coins=k.weBtoa(this._userData.coins+""),this._userData.diamonds=k.weBtoa(this._userData.diamonds+""),this._userData.skipAd=k.weBtoa(this._userData.skipAd+""),this._userData.skinTicket=k.weBtoa(this._userData.skinTicket+""),this._userData.saleScore=k.weBtoa(this._userData.saleScore+"")},t.prototype.unLockArea=function(e){if(parseInt(e)>0&&!this.unlockMergeAreaIds.includes(parseInt(e))){var t=p.default.getInstance().mstArea[e],n=t.unlockLevel;if(this.level>=n&&n>=0){for(var a=[],i=t.startPos,r=t.areaSize,o=t.items,s=t.normalItemIndex,c=t.teleportIndex,l=0;l<r[1];l++)for(var u=0;u<r[0];u++){var d;d=i[0]<7?(i[1]+l)*f.default.GAME_WIDTH+i[0]+u:(i[1]+l)*f.default.GAME_WIDTH+(i[0]-7)+u+63,this.itemData[d]?this.itemData[d].id=o[l*r[0]+u]:this.itemData[d]=new h.default({id:o[l*r[0]+u],state:f.default.ITEM_STATE_lOCK}),this.itemData[d].state=f.default.ITEM_STATE_UNKNOWN,s.includes(l*r[0]+u)&&(this.itemData[d].state=f.default.ITEM_STATE_NORMAL,this.updateItemsTypeMaxLevel(this.itemData[d].id)),c.includes(l*r[0]+u)&&(this.itemData[d].state=f.default.ITEM_STATE_TELEPORT),a.push(d)}for(l=0;l<a.length;l++)this.updateSelfItemState(a[l]);return this.unlockMergeAreaIds.push(parseInt(e)),this.saveUserData(),a}return-2}return-1},t.prototype.updateSelfItemState=function(e){for(var t=this.getItemAroundIndex(e),n=0;n<t.length;n++)this.itemData[t[n]].state==f.default.ITEM_STATE_NORMAL&&this.itemData[e].state==f.default.ITEM_STATE_UNKNOWN&&(this.itemData[e].state=f.default.ITEM_STATE_COBWEB)},t.prototype.getItemAroundIndex=function(e){for(var t=[],n=0;n<f.default.GAME_HEIGHT;n++){t[n]=[];for(var a=0;a<f.default.GAME_WIDTH;a++)e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?t[n].push(n*f.default.GAME_WIDTH+a):t[n].push(f.default.GAME_WIDTH*f.default.GAME_HEIGHT+n*f.default.GAME_WIDTH+a)}var i;e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT||(e-=f.default.GAME_WIDTH*f.default.GAME_HEIGHT),i=Math.floor(e/f.default.GAME_WIDTH);var r=e%f.default.GAME_WIDTH,o=[];for(n=0;n<f.default.GAME_HEIGHT;n++)for(a=0;a<f.default.GAME_WIDTH;a++)(n!=i-1||a!=r-1&&a!=r&&a!=r+1)&&(n!=i||a!=r-1&&a!=r+1)&&(n!=i+1||a!=r-1&&a!=r&&a!=r+1)||o.push(t[n][a]);return o},t.prototype.getItemData=function(e){return void 0===e&&(e=0),0==e?this.itemData:1==e?this.limitActModel.itemData:void 0},t.prototype.merge=function(e,t,n){void 0===n&&(n=0);var a=this.getItemData(n),i=a[e],r=a[t];if(i.id<=0)return this.mergeData({cells:[e,t]});var o=i.mstData.propAttribute;if("spawnerBoost"==o[0]&&o[1]>0)return r.id>0&&r.mstData.isSpawner&&!r.isCool?(a[e]=new h.default,a[t].recoverAllCount(!0),this.mergeData({cells:[e,t]})):i.id==r.id||r.state!=f.default.ITEM_STATE_NORMAL&&r.state!=f.default.ITEM_STATE_BUBBLE?r.state==f.default.ITEM_STATE_TELEPORT?e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):this.mergeData({cells:[e,t]}):(this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]}));if("duplicator"==o[0]&&o[1]>0){var s=o[1];if(r.id>0&&this.isDuplicatorAble(t,n)&&s>=r.mstData.level){a[e]=new h.default;var c=-1;c=e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?this.getAvailableCell(1,n):this.getAvailableCell(2,n);var l=a[t].zipData();return a[c]=new h.default(l),this.mergeData({result:"spawn",cells:[e,t],move:[c]})}if(i.id!=r.id&&(r.state==f.default.ITEM_STATE_NORMAL||r.state==f.default.ITEM_STATE_BUBBLE))return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]});if(i.id!=r.id)return this.mergeData({cells:[e,t]})}else if("timeSkip"==o[0]&&o[1]>0){if(r.id>0&&r.mstData.isSpawner&&r.isCool)return r.lastCoolingTime-=o[1],r.isCool||a[t].recoverAllCount(),a[e]=new h.default,this.mergeData({cells:[e,t]});if(r.id>0&&r.mstData.decayAttribute.length>0&&r.decayTime>0)return r.createTime-=o[1],r.updateInfo(),a[e]=new h.default,this.mergeData({cells:[e,t]});if(r.id>0&&r.mstData.isBox&&r.isCool)return r.lastCoolingTime-=o[1],a[e]=new h.default,this.mergeData({cells:[e,t]});if(i.id!=r.id&&(r.state==f.default.ITEM_STATE_NORMAL||r.state==f.default.ITEM_STATE_BUBBLE))return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]});if(i.id!=r.id)return this.mergeData({cells:[e,t]})}else if("scissors"==o[0]&&o[1]>0){var u=o[1];if(r.id>0&&this.isScissorsAble(t,n)&&u>=r.mstData.level){a[e]=new h.default,c=-1,c=e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?this.getAvailableCell(1,n):this.getAvailableCell(2,n);var d=p.default.getInstance().getUpLvIdById(r.id);return a[t]=new h.default({id:d}),a[c]=new h.default({id:d}),this.mergeData({result:"spawn",cells:[e,t],move:[c]})}if(i.id!=r.id&&(r.state==f.default.ITEM_STATE_NORMAL||r.state==f.default.ITEM_STATE_BUBBLE))return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]});if(i.id!=r.id)return this.mergeData({cells:[e,t]})}else if(i.mstData.fusionAttribute.length>0){var g=i.mstData.fusionAttribute;if(r.id>0&&r.id==g[0]){if(g[0]==g[1]){if(r.addChargeValue(i.mstData.itemCount)){var y=a[t].chargeValue,m=r.mstData.rechargeAttribute[1];a[t]=new h.default({id:m,chargeValue:y})}return a[e]=new h.default,this.mergeData({result:"charge",cells:[e,t]})}return a[e]=new h.default,a[t]=new h.default({id:g[1]}),this.mergeData({result:"fusion",cells:[e,t]})}if(i.id!=r.id&&(r.state==f.default.ITEM_STATE_NORMAL||r.state==f.default.ITEM_STATE_BUBBLE))return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]});if(i.id!=r.id)return this.mergeData({cells:[e,t]})}if(i.state==f.default.ITEM_STATE_NORMAL){if(!(i.id>0))return this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_COBWEB){if(this.isMergeable(e,t,n)){this.addMergeTimes();var _=this.mergeItem(e,t,n);return this.mergeData(_)}return this.mergeData({cells:[e,t]})}if(r.state==f.default.ITEM_STATE_BUBBLE)return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_NORMAL)return this.isMergeable(e,t,n)?(this.addMergeTimes(),_=this.mergeItem(e,t,n),this.mergeData(_)):(this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]}));if(r.state==f.default.ITEM_STATE_lOCK)return this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_UNKNOWN)return this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]})}else{if(i.state==f.default.ITEM_STATE_COBWEB)return this.mergeData({cells:[e,t]});if(i.state==f.default.ITEM_STATE_BUBBLE){if(r.state==f.default.ITEM_STATE_COBWEB)return this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_BUBBLE)return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_NORMAL)return this.exchangeItem(e,t,n),this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_lOCK)return this.mergeData({cells:[e,t]});if(r.state==f.default.ITEM_STATE_UNKNOWN)return this.mergeData({cells:[e,t]});var v;if(r.state==f.default.ITEM_STATE_TELEPORT)return e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?(v=this.getAvailableCell(2,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]}):(v=this.getAvailableCell(1,n))>-1?(this.exchangeItem(e,v,n),this.mergeData({cells:[e,v]})):this.mergeData({result:"noCells",cells:[e]})}else{if(i.state==f.default.ITEM_STATE_lOCK)return this.mergeData({cells:[e,t]});if(i.state==f.default.ITEM_STATE_UNKNOWN)return this.mergeData({cells:[e,t]})}}},t.prototype.mergeData=function(e){if(e){var t={result:"change",cells:[],move:[],unlockItemIndex:[],collectId:-1,newCustomerId:-1,newItemId:-1};for(var n in t)e[n]&&(t[n]=e[n]);return t}},t.prototype.isMergeable=function(e,t,n){if(void 0===n&&(n=0),-1==e||-1==t)return!1;var a=this.getItemData(n);if(!a[e]||!a[t])return!1;var i=a[e].id,r=a[t].id;if(a[e].state==f.default.ITEM_STATE_UNKNOWN||a[t].state==f.default.ITEM_STATE_UNKNOWN||a[e].state==f.default.ITEM_STATE_BUBBLE||a[t].state==f.default.ITEM_STATE_BUBBLE)return!1;if(i>0&&r>0){var o=a[e].mstData.propAttribute;if("duplicator"==o[0]&&o[1]>0&&this.isDuplicatorAble(t,n)){if(o[1]>=a[t].mstData.level)return!0}else if("timeSkip"==o[0]&&o[1]>0){var s=a[t].mstData.isProducer,c=a[t].mstData.isSpawner,l=a[t].decayAttribute,u=a[t].mstData.isBox;if(s){if(u&&a[t].isCool)return!0;if(c&&a[t].isCool)return!0}else if(l&&l.length>0&&a[t].decayTime>0)return!0}else{if("spawnerBoost"==o[0]&&o[1]>0&&a[t].mstData.isSpawner&&!a[t].isCool)return!0;if("scissors"==o[0]&&o[1]>0&&this.isScissorsAble(t,n)){if(o[1]>=a[t].mstData.level)return!0}else if(a[e].mstData.fusionAttribute.length>0&&r==a[e].mstData.fusionAttribute[0])return!0}var d=a[e].isMaxLevel;if(i==r){if(!d)return!0;if(a[e].mstData.overrideMerge>0)return!0}}return!1},t.prototype.mergeItem=function(e,t,n){void 0===n&&(n=0);var a=this.getItemData(n),i=a[e].nextId;if(i>0){var r=-1,o=-1,s=this.updateItemsTypeMaxLevel(i),c=s.newCustomerId?s.newCustomerId:-1,l=this.updateAroundItemState(t,n),u=p.default.getInstance().mstItem[i];if(a[e]=new h.default,a[t]=new h.default({id:i}),p.default.getInstance().isNormalItem(i)){a[t].mstData.level>=4&&(a[r=e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?this.getAvailableCell(1,n):this.getAvailableCell(2,n)]=new h.default({id:30001}));var d=p.default.getInstance().mstMisc.mergeConfig.config;this.level>=d.playerMinLevel&&u.level>=d.levelRange[0]&&u.level<=d.levelRange[1]&&Math.random()<=d.probability&&(o=e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?this.getAvailableCell(1,n):this.getAvailableCell(2,n))>=0&&(a[o]=new h.default({id:i,state:f.default.ITEM_STATE_BUBBLE,decayAttribute:d.decayAttribute}))}var g=[];return r>=0&&g.push(r),o>=0&&g.push(o),s.newItemId>0&&this.saveUserData(),this.mergeData({result:"merge",cells:[e,t],move:g,unlockItemIndex:l,newCustomerId:c,newItemId:s.newItemId})}},t.prototype.updateItemsTypeMaxLevel=function(e){var n={},a=p.default.getInstance().mstItem[e],i=a.type;if(a.level>this.getItemTypeCurrentMaxLevelByType(i)){this.itemsTypeMaxLevel[i]=a.level,n.newItemId=e;var r=p.default.getInstance().mstRole;for(var o in r){var s=this.buildingData[r[o].unlockBuildingId];if(!this.roleData[o].isUnlock&&(r[o].unlockBuildingId<0||s&&s.isUnlock)&&(r[o].unlockItemId<0||this.isItemUnlock(r[o].unlockItemId)))return t.getInstance().roleData[o].unLock(),n.newCustomerId=o,n}}return n},t.prototype.updateAroundItemState=function(e,t){void 0===t&&(t=0);for(var n=this.getItemData(t),a=this.getItemAroundIndex(e),i=[],r=0;r<a.length;r++)n[a[r]].state==f.default.ITEM_STATE_UNKNOWN&&(n[a[r]].state=f.default.ITEM_STATE_COBWEB,i.push(a[r]));return i},t.prototype.exchangeItem=function(e,t,n){void 0===n&&(n=0);var a=this.getItemData(n),i=new h.default;i=a[e],a[e]=a[t],a[t]=i},t.prototype.clickItem=function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=0);var a=this.getItemData(n),i=a[e].id;if(i>0&&a[e].state==f.default.ITEM_STATE_NORMAL){if(!a[e].isOpened)return a[e].lastCoolingTime?this.mergeData({result:"change",cells:[e]}):this.openingBoxNum<p.default.getInstance().mstMisc.maxOpeningBoxNum.config?(a[e].lastCoolingTime=window.serverTime,this.mergeData({result:"change",cells:[e]})):this.mergeData({result:"maxOpening",cells:[e]});var r=a[e].mstData.autoSpawner;if(a[e].mstData.isProducer){var o=this.createItem(e,r,t,n);return this.mergeData(o)}if(a[e].mstData.collectable)return a[e].collect(),this.mergeData({result:"collect",cells:[e],collectId:i})}},t.prototype.createItem=function(e,t,n,a){var i=this;void 0===t&&(t=!1),void 0===n&&(n=-1),void 0===a&&(a=0);var r=this.getItemData(a),o=r[e].id;if(o>0){var s;if(!((s=t?this.getAvailableSudokuCell(e,a):e<f.default.GAME_WIDTH*f.default.GAME_HEIGHT?this.getAvailableCell(1,a):this.getAvailableCell(2,a))>=0))return this.mergeData({result:"noCells"});if(!r[e].isCool){var l=r[e].mstData.energyCost,u=function(){if(r[e].leftCount>0){var t=r[e].updateLeftCount(-1);if(!t){var a=r[e].getRandomSpawnItemIdById();n>0&&(a=n),r[s]=new h.default({id:a});var l={},u=-1;if(r[e].mstData.spawnWebbed?r[s].state=f.default.ITEM_STATE_COBWEB:u=(l=i.updateItemsTypeMaxLevel(a)).newCustomerId?l.newCustomerId:-1,r[e].mstData.isSpawner&&p.default.getInstance().isNormalItem(a)){var d=p.default.getInstance().mstMisc.spawnerOutputConfig.config,g=Math.random()<=d.probability;if(i.level>=d.playerMinLevel&&g){var y=d.levelRange[0],m=d.levelRange[1],_=c.default.radomBetween(y,m),v=p.default.getInstance().getItemChainIdById(a);_=_>v.length?v.length:_;var b=p.default.getInstance().getItemChainIdByLv(v,_);r[s]=new h.default({id:b,state:f.default.ITEM_STATE_BUBBLE,decayAttribute:d.decayAttribute})}}if(r[e].leftCount<=0)if(r[e].mstData.isSpawner)r[e].leftCount=0,r[e].isSpawnerBoost=!1,r[e].lastCoolingTime=window.serverTime;else if(r[e].mstData.isDegeneration){var I=p.default.getInstance().getRandomDegenerationItemIdById(o),w=r[e].chargeValue;r[e]=new h.default({id:I,chargeValue:w})}else r[e]=new h.default;return i.mergeData({result:"spawn",cells:[e],move:[s],newCustomerId:u,newItemId:l.newItemId})}i.cheatApi(t)}};if(this.isUnlimitedEnergy)return u();if(this.changeEnergy(-l)>=0)return u()}}},t.prototype.getAvailableCell=function(e,t){void 0===e&&(e=1),void 0===t&&(t=0);var n=this.getItemData(t);if(1==e){for(var a=0;a<f.default.GAME_WIDTH*f.default.GAME_HEIGHT;a++)if(-1==n[a].id&&n[a].state==f.default.ITEM_STATE_NORMAL)return a}else if(2==e)for(a=f.default.GAME_WIDTH*f.default.GAME_HEIGHT;a<n.length;a++)if(-1==n[a].id&&n[a].state==f.default.ITEM_STATE_NORMAL)return a;return-1},t.prototype.getMergeTip=function(e){void 0===e&&(e=0);var t=this.getItemData(e),n=this.mergeArea;1==e&&(n=0);var a=f.default.GAME_WIDTH*f.default.GAME_HEIGHT;if(0==n)for(var i=0;i<a;i++){var r=[];if(t[i].id>0&&t[i].state==f.default.ITEM_STATE_NORMAL){r.push(i);for(var o=0;o<a;o++)if(i!=o&&this.isMergeable(i,o,e)&&t[i].mstData.type==t[o].mstData.type&&(t[o].state==f.default.ITEM_STATE_NORMAL||t[o].state==f.default.ITEM_STATE_COBWEB))return r.push(o),r}}else if(1==n)for(i=a;i<t.length;i++)if(r=[],t[i].id>0&&t[i].state==f.default.ITEM_STATE_NORMAL)for(r.push(i),o=a;o<t.length;o++)if(i!=o&&this.isMergeable(i,o,e)&&t[i].mstData.type==t[o].mstData.type&&(t[o].state==f.default.ITEM_STATE_NORMAL||t[o].state==f.default.ITEM_STATE_COBWEB))return r.push(o),r;return[]},t.prototype.getAvailableSudokuCell=function(e,t){void 0===t&&(t=0);var n=this.getItemData(t),a=this.getItemAroundIndex(e);for(var i in a){var r=a[i],o=n[r];if(-1==o.id&&o.state==f.default.ITEM_STATE_NORMAL)return r}return-1},t.prototype.getItemTypeCurrentMaxLevelByType=function(e){return this.itemsTypeMaxLevel[e]?this.itemsTypeMaxLevel[e]:(this._userData.itemsTypeMaxLevel[e]=0,0)},t.prototype.isDuplicatorAble=function(e,t){void 0===t&&(t=0);var n=this.getItemData(t)[e];return!!(n.id>-1&&n.state==f.default.ITEM_STATE_NORMAL&&p.default.getInstance().isNormalItem(n.id))},t.prototype.isScissorsAble=function(e,t){void 0===t&&(t=0);var n=this.getItemData(t)[e];return!!(n.id>-1&&n.mstData.level>1&&n.state==f.default.ITEM_STATE_NORMAL&&p.default.getInstance().isNormalItem(n.id))},t.prototype.receiveReward=function(e,t){void 0===e&&(e=1),void 0===t&&(t=0);var n=this.getItemData(t),a=this.rewards;if(1==t&&(a=this.limitActModel.rewards),a.length>0){var i=this.getAvailableCell(e,t);if(i>=0)return n[i]=a[0],this.updateItemsTypeMaxLevel(a[0].id),a.splice(0,1),i}return-1},t.prototype.getNormalItemIndexByIds=function(e){for(var t=[],n=0;n<e.length;n++){t[n]=-1;for(var a=0;a<this.itemData.length;a++)if(this.itemData[a].state==f.default.ITEM_STATE_NORMAL&&this.itemData[a].id==e[n]&&!t.includes(a)){t[n]=a;break}}return t},t.prototype.getNormalItemTotalNumById=function(e){for(var t=0,n=0;n<this.itemData.length;n++)this.itemData[n].state==f.default.ITEM_STATE_NORMAL&&this.itemData[n].id==e&&t++;return t},t.prototype.putIntoBag=function(e){var t=p.default.getInstance().mstMisc.bagConfig.config;if(this.level>=t.openLevel&&this.itemData[e].state==f.default.ITEM_STATE_NORMAL&&this.itemData[e].id>0){var n=this.getBagAvailableCell();return n>=0?(this.bagData.itemData[n]=this.itemData[e],this.itemData[e]=new h.default,1):-3}return this.level<t.openLevel?-1:this.itemData[e].state==f.default.ITEM_STATE_BUBBLE?-2:void 0},t.prototype.getBagAvailableCell=function(){for(var e=this.bagData.itemData,t=0;t<e.length;t++)if(e[t].state==f.default.ITEM_STATE_NORMAL&&-1==e[t].id)return t;return-1},t.prototype.takeOutBag=function(e,t){void 0===t&&(t=1);var n=this.getAvailableCell(t),a=this.bagData.itemData;return n>=0?(this.itemData[n]=a[e],a[e]=new h.default,n):-1},t.prototype.isItemUnlock=function(e){if(e>0){var n=p.default.getInstance().mstItem[e].type,a=p.default.getInstance().mstItem[e].level;if(t.getInstance().itemsTypeMaxLevel[n]&&t.getInstance().itemsTypeMaxLevel[n]>=a)return!0}return!1},t.prototype.getAvailableSpawnerOrBoxIndex=function(){for(var e=0;e<this.itemData.length;e++)if(this.itemData[e].id>0&&this.itemData[e].state==f.default.ITEM_STATE_NORMAL&&this.itemData[e].mstData.isSpawner&&!this.itemData[e].isCool)return e;for(e=0;e<this.itemData.length;e++)if(this.itemData[e].id>0&&this.itemData[e].state==f.default.ITEM_STATE_NORMAL&&this.itemData[e].mstData.isBox&&this.itemData[e].isOpened)return e;return-1},t.prototype.acceptCustomerTask=function(){var e=null;if(this.getTaskCountByType("customer")<this.maxTaskNum){var t=p.default.getInstance().getRandTaskIdByKey1("customer"),n=this.getRequireItemsByTaskId(t);e=new g.default({id:t,requireItems:n,startTime:null}),this._userData.taskData.push(e)}return e},t.prototype.acceptTradingTask=function(){var e=p.default.getInstance().mstMisc.tradingConfig.config.indexOf(this.level);0==e?this.acceptTaskById(1501):1==e?this.acceptTaskById(1502):2==e&&this.acceptTaskById(1503)},t.prototype.acceptTaskById=function(e,t){void 0===t&&(t=-1);var n=null,a=p.default.getInstance().mstTask[e];if("customer"==a.type){var i=this.getRequireItemsByTaskId(e);return n=new g.default({id:e,requireItems:i}),-1==t?this.taskData.push(n):this.taskData.splice(t,0,n),n}if("trading"==a.type){var r=this.getTaskCountByKey1(a.key1),o=p.default.getInstance().mstMisc.tradingConfig.config;if("trading1"==a.key1&&r<1&&this.level>=o[0])return i=this.getRequireItemsByTaskId(e),n=new g.default({id:e,requireItems:i,startTime:null}),-1==t?this._userData.taskData.push(n):this._userData.taskData.splice(t,0,n),n;if("trading2"==a.key1&&r<1&&this.level>=o[1])return i=this.getRequireItemsByTaskId(e),n=new g.default({id:e,requireItems:i,startTime:null}),-1==t?this._userData.taskData.push(n):this._userData.taskData.splice(t,0,n),n;if("trading3"==a.key1&&r<1&&this.level>=o[2])return i=this.getRequireItemsByTaskId(e),n=new g.default({id:e,requireItems:i,startTime:null}),-1==t?this._userData.taskData.push(n):this._userData.taskData.splice(t,0,n),n}else if("activity"==a.type){var s=a.key1;return i=this.getRequireItemsByTaskId(e),n=new g.default({id:e,requireItems:i}),-1==t?this.activityData[s].taskData.push(n):this.activityData[s].taskData.splice(t,0,n),n}},t.prototype.deleteTask=function(e){var t=e.orderId;if("customer"==e.mstData.type){for(var n=0;n<this.taskData.length;n++)if(this.taskData[n].orderId==t)return this.taskData.splice(n,1),!0}else if("trading"==e.mstData.type){for(n=0;n<this.taskData.length;n++)if(this.taskData[n].orderId==t)return this.taskData.splice(n,1),!0}else if("activity"==e.mstData.type){var a=e.mstData.key1,i=this.activityData[a].taskData;for(n=0;n<i.length;n++)if(i[n].orderId==t)return i.splice(n,1),!0}return!1},t.prototype.getTaskDataByOrderId=function(e){for(var t=0;t<this.taskData.length;t++)if(this.taskData[t].orderId==e)return this.taskData[t];return null},t.prototype.getTaskDataById=function(e){for(var t=0;t<this.taskData.length;t++)if(this.taskData[t].id==e)return this.taskData[t];return null},t.prototype.getTaskCountByType=function(e){for(var t=0,n=0;n<this.taskData.length;n++)this.taskData[n].mstData.type==e&&t++;return t},t.prototype.getTaskCountByKey1=function(e){for(var t=0,n=0;n<this.taskData.length;n++)this.taskData[n].mstData.key1==e&&t++;return t},t.prototype.getRequireItemsByTaskId=function(e){var t=p.default.getInstance().mstTask[e],n=t.requireItems,a=t.requireItemdifs;if(n.length>0)return n;if(a.length>0){for(var i=[],r=0;r<a.length;r++){var o=a[r],s=p.default.getInstance().getItemsIdByLevelAndDifficulty(this.level,o),l=c.default.radomBetween(0,s.length-1);i.push(s[l])}return i}var u=t.requireItemsCountRange;0==u.length&&(u=[1,2]);var d=c.default.radomBetween(u[0],u[1]),f=p.default.getInstance().mstLevelup[this.level],h=f.difficultyRange,g=f.difficultyRate;for(i=[],r=0;r<d;r++)o=h[c.default.radomIndex(g)],s=p.default.getInstance().getItemsIdByLevelAndDifficulty(this.level,o),l=c.default.radomBetween(0,s.length-1),i.push(s[l]);return i},t.prototype.getUnlockTaskNextLevel=function(){var e=p.default.getInstance().mstLevelup;for(var t in e)if(e[t].taskNum>e[this.level].taskNum)return parseInt(t);return-1},t.prototype.acceptBuildingTask=function(e){void 0===e&&(e=[]);for(var t=[],n=0;n<e.length;n++){var a=e[n];if(a>0){var i=new v.default({id:a});this.buildingTaskData.push(i),t.push(i)}}return t},t.prototype.deleteBuildingTaskById=function(e){for(var t=0;t<this.buildingTaskData.length;t++)if(this.buildingTaskData[t].id==e)return this.buildingTaskData.splice(t,1),!0;return!1},t.prototype.getRandomCustomerId=function(){var e=[],t=this.roleData;for(var n in t)t[n].isUnlock&&1==t[n].mstData.type&&e.push(Number(n));return e[c.default.radomBetween(0,e.length-1)]},t.prototype.getCompleteBuildingTaskId=function(){for(var e=[],t=0;t<this.buildingTaskData.length;t++)this.buildingTaskData[t].isComplete&&e.push(this.buildingTaskData[t].id);return e},t.prototype.receiveUnlockItemReward=function(e){return!this.itemUnlockItemRewardData[e]&&(this._userData.itemUnlockItemRewardData[e]=1,this.addDiamonds(p.default.getInstance().mstMisc.unlockReward.config),this.saveUserData(),!0)},t.prototype.receiveUnlockBuildingReward=function(e){return!this.buildingData[e].isReceived&&(this.buildingData[e].receivedUnlockAward(),this.addDiamonds(p.default.getInstance().mstMisc.unlockReward.config),this.saveUserData(),!0)},t.prototype.receiveUnlockCustomerReward=function(e){return!this.roleData[e].isReceived&&(this.roleData[e].receiveUnlockAward(),this.addDiamonds(p.default.getInstance().mstMisc.unlockReward.config),this.saveUserData(),!0)},t.prototype.getGashaponAwardIndex=function(){var e=p.default.getInstance().mstActivity.gashapon.config;return this.gashaponData.gashaponTimes<e.maxTimes?(this._userData.gashaponData.gashaponTimes+=1,this._userData.gashaponData.gashaponTimes>e.freeTimes&&(this._userData.gashaponData.buyCD=window.serverTime+e.buyCD),this.getLotteryResult()):-1},t.prototype.getLotteryResult=function(){for(var e=c.default.clone(p.default.getInstance().mstActivity.gashapon.config.items),t=0,n=0;n<e.length;n++)-1==this._userData.gashaponData.gashaponRewardId.indexOf(e[n].id)?t+=e[n].rate:(e.splice(n,1),n--);var a=Math.random()*t,i=-1,r=0;for(var n in e)if(a<(r+=e[n].rate)){var o={};o[i=e[n].id]=e[n].num,this.addRewardByKV(o),this._userData.gashaponData.gashaponRewardId.push(i);break}return this.saveUserData(),i},t.prototype.setOnlineTime=function(e){this._userData.onlineTime=e},t.prototype.levelupAwardData=function(){var e=[];for(var t in this.levelupAwardRecord){var n=this.levelupAwardRecord[t].startTime;window.serverTime-n<p.default.getInstance().mstActivity.levelupGift.config.limitTime&&!this.levelupAwardRecord[t].isReceived&&e.push(t)}return e},t.prototype.getLevelAward=function(e){if(this.levelupAwardRecord[e].videoCount<p.default.getInstance().mstActivity.levelupGift.config.lvData[e].costNum)return!1;var t=this.levelupAwardRecord[e].startTime;if(window.serverTime-t<p.default.getInstance().mstActivity.levelupGift.config.limitTime){var n=p.default.getInstance().mstActivity.levelupGift.config.lvData[e].reward;this.addReward(n);var a=p.default.getInstance().mstActivity.levelupGift.config.lvData[e].rewardRes;return this.addRewardRes(a),this.levelupAwardRecord[e].isReceived=!0,this.saveUserData(),!0}return!1},t.prototype.getNewUserGift=function(){var e=p.default.getInstance().mstActivity.newUserGift;return this.level>=e.openLevel&&0==this.newUserGiftTimes?(this._userData.newUserGiftTimes++,this.addReward(e.config.reward),this.addRewardRes(e.config.rewardRes),this.saveUserData(),!0):-1},t.prototype.addVipCardTime=function(){var e=this,t=function(){var t=n.config.cardTime,a=c.default.getDateByYMD(window.serverTime+t),i=new Date(a);e._userData.vipCardEndTime=Math.floor(i.getTime()/1e3),e._userData.vipCardDailyRewardTimes=0,e.addRewardRes(n.config.rewardRes)},n=p.default.getInstance().mstActivity.vipCrad,a=n.config.costNum;return"pay"==n.config.costType?(t(),this.saveUserData(),a):this.level>=n.openLevel?(this._userData.vipCardTimes++,this.vipCardTimes>=a?(t(),this._userData.vipCardTimes=0,this.saveUserData(),a):this.vipCardTimes):-1},t.prototype.getVipCardDailyReward=function(){if(0==this.vipCardDailyRewardTimes&&this.isVipCard){this._userData.vipCardDailyRewardTimes++;var e=p.default.getInstance().mstActivity.vipCrad;return this.addRewardRes(e.config.dailyRewardRes),this.saveUserData(),!0}return!1},t.prototype.addSuperVipCardTime=function(){var e=this,t=p.default.getInstance().mstActivity.superVipCard,n=t.config.costNum,a=function(){var n=t.config.cardTime,a=c.default.getDateByYMD(window.serverTime+n),i=new Date(a);e._userData.superVipCardEndTime=Math.floor(i.getTime()/1e3),e._userData.superVipCardDailyRewardTimes=0,e.addRewardRes(t.config.rewardRes)};return"pay"==t.config.costType?(a(),this.saveUserData(),n):this.level>=t.openLevel?(this._userData.superVipCardTimes++,this.superVipCardTimes>=n?(a(),this._userData.superVipCardTimes=0,this.saveUserData(),n):this.superVipCardTimes):-1},t.prototype.getSuperVipCardDailyReward=function(){if(0==this.superVipCardDailyRewardTimes&&this.isSuperVipCard){this._userData.superVipCardDailyRewardTimes++;var e=p.default.getInstance().mstActivity.superVipCard;return this.addRewardRes(e.config.dailyRewardRes),this.saveUserData(),!0}return!1},t.prototype.addSuperBenefitsTime=function(){return this.superBenefitsTimes>=0&&(this._userData.superBenefitsTimes++,!0)},t.prototype.getSuperBenefitsReward=function(e){for(var t=p.default.getInstance().mstActivity.kanyidao.config.costNum,n=e.length,a=p.default.getInstance().mstActivity.kanyidao.config.cutNum,i=0;i<n;i++)t-=a[i];if(0==this.superBenefitsRewardTimes&&this.superBenefitsTimes>=t){this._userData.superBenefitsRewardTimes++;var r=p.default.getInstance().mstActivity.kanyidao;return this.addReward(r.config.reward),this.addRewardRes(r.config.rewardRes),this.saveUserData(),!0}return!1},t.prototype.isHaveItemUnlockAward=function(){for(var e=p.default.getInstance().getAtlasData(),t=0;t<e.length;t++)for(var n=e[t],a=0;a<n.length;a++)if(this.isItemUnlock(n[a])&&!this.itemUnlockItemRewardData[n[a]])return t;return-1},t.prototype.isHaveBuildingUnlockAward=function(){for(var e=this.unlockSceneAreaIds,t=0;t<e.length;t++)for(var n=p.default.getInstance().mstSceneArea[e[t]].buildingIds,a=0;a<n.length;a++)if("area"!=p.default.getInstance().mstBuilding[n[a]].type&&this.buildingData[n[a]].isUnlock&&!this.buildingData[n[a]].isReceived)return t;return-1},t.prototype.isHaveCustomerUnlockAward=function(){var e=this.roleData;for(var t in e)if(e[t].isUnlock&&!e[t].isReceived)return 0;return-1},t.prototype.getOtherBlindBox=function(e,t,n){var a=this.myOpenOtherBlindBox;if(a.length>=2)return!1;if(a.indexOf(e)>=0)return!1;this._userData.myOpenOtherBlindBox.push(e);var i={};return i[t]=n,this.addRewardByKV(i),this.saveUserData(),!0},t.prototype.getSelfBlindBox=function(e,t,n){if(this.myOpenSelfBlindBox>0)return!1;this._userData.myOpenSelfBlindBox=n;var a={};return a[e]=t,this.addRewardByKV(a),this.saveUserData(),!0},t.prototype.resetSelfBlindBoxOpen=function(){this._userData.myOpenSelfBlindBox=0},t.prototype.getBlindBoxDiamondsAward=function(e,t){return!this.blindBox.receiveOpenBox[e]&&(this.blindBox.receiveOpenBox[e]=!0,this.addDiamonds(t),this.saveUserData(),!0)},t.prototype.addVideoTimes=function(){this._userData.videoTimes||(this._userData.videoTimes=0),this._userData.videoTimes+=1;var e=c.default.getDateByYMD(window.serverTime,!0);this.sevenVideoTimes[e]=this.videoTimes;var t=Object.keys(this.sevenVideoTimes);t.length>7&&(t.sort(),delete this.sevenVideoTimes[t[0]])},t.prototype.addMergeTimes=function(){this._userData.mergeTimes||(this._userData.mergeTimes=0),this._userData.mergeTimes+=1},t.prototype.addLevelVideoCount=function(e){var t=p.default.getInstance().mstActivity.levelupGift.config;return"pay"==t.costType?(this.levelupAwardRecord[e].videoCount=t.costNum,!0):this.levelupAwardRecord[e].videoCount<p.default.getInstance().mstActivity.levelupGift.config.lvData[e].costNum&&(this.levelupAwardRecord[e].videoCount+=1,!0)},t.prototype.checkAreaOne=function(){this._curMergeArea=0},t.prototype.checkAreaTwo=function(){this._curMergeArea=1},t.prototype.addClearVideoTimes=function(){this._userData.clearVideoTimes+=1},t.prototype.addBulleVideoTimes=function(){this._userData.bubbleVideoTimes+=1},t.prototype.updateTaskAndItem=function(){for(var e=this.itemData,t=this.taskData,n=this.passModel.taskData,a=p.default.getInstance().mstActivity.pass.openLevel,i=[],r=[],o=[],s=0;s<t.length;s++)if(t[s].clearTaskPress(),!t[s].startTime)for(var c=0;c<e.length;c++)e[c].id>0&&t[s].isTaskNeedItem(e[c])&&(i.includes(c)||i.push(c));if(this.level>=a)for(s=0;s<n.length;s++)for(n[s].clearTaskPress(),c=0;c<e.length;c++)e[c].id>0&&n[s].isTaskNeedItem(e[c])&&!n[s].isReceived&&(r.includes(c)||r.push(c));for(s=0;s<this.activityData.fields.length;s++){var l=this.activityData.fields[s];if(this.activityData.isActivityOpen(l)&&!this.activityData.isFirstLoadActivitu(l)&&T.default.getInstance().activityData)for(var u=this.activityData[l].taskData,d=0;d<u.length;d++)if(u[d].clearTaskPress)for(u[d].clearTaskPress(),c=0;c<e.length;c++)e[c].id>0&&u[d].isTaskNeedItem(e[c])&&!u[d].isReceived&&(o.includes(c)||o.push(c))}for(s=0;s<e.length;s++)i.includes(s)?e[s].setIsTaskNeed(!0):e[s].setIsTaskNeed(!1),r.includes(s)?e[s].setIsPassTaskNeed(!0):e[s].setIsPassTaskNeed(!1),o.includes(s)?e[s].setIsActTaskNeed(!0):e[s].setIsActTaskNeed(!1)},t.prototype.addSkinScore=function(e){this._skinScore=k.weBtoa(this.skinScore+e+"")},t.prototype.addSaleScore=function(e){this._userData.saleScore=k.weBtoa(this.saleScore+e+"")},t.prototype.addItem=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=0)},t.prototype.addHappuBingoItem=function(){},t.prototype.lockBuild=function(){},t.prototype.addChildrenDayItem=function(){},t.prototype.closeGuide=function(){},t.instance=null,t}(o.default);n.default=U,cc._RF.pop()},{"../../scripts/extension/LanguageData":"LanguageData","../base/BaseData":"BaseData","../extension/weapp-jwt":"weapp-jwt","../manager/UIManager":"UIManager","../prefabs/Toast":"Toast","../utils/Api":"Api","../utils/AppConfig":"AppConfig","../utils/EventName":"EventName","../utils/GlobalFun":"GlobalFun","../utils/StatisticsManager":"StatisticsManager","./ImportUserData":"ImportUserData","./MiscConfig":"MiscConfig","./MiscData":"MiscData","./MstData":"MstData","./userModel/UserActivityModel":"UserActivityModel","./userModel/UserBagModel":"UserBagModel","./userModel/UserBuildingModel":"UserBuildingModel","./userModel/UserBuildingTaskModel":"UserBuildingTaskModel","./userModel/UserEnergyCardModel":"UserEnergyCardModel","./userModel/UserGreatValueGiftModel":"UserGreatValueGiftModel","./userModel/UserGrowthFundModel":"UserGrowthFundModel","./userModel/UserGuidanceModel":"UserGuidanceModel","./userModel/UserItemModel":"UserItemModel","./userModel/UserLimitActivityModel":"UserLimitActivityModel","./userModel/UserPassModel":"UserPassModel","./userModel/UserRankModel":"UserRankModel","./userModel/UserRoleModel":"UserRoleModel","./userModel/UserSkinGiftModel":"UserSkinGiftModel","./userModel/UserStoreModel":"UserStoreModel","./userModel/UserTaskModel":"UserTaskModel","./userModel/UserWeeklyGiftModel":"UserWeeklyGiftModel"}],UserEnergyCardModel:[function(e,t,n){"use strict";cc._RF.push(t,"35bce/ytgtABqDaH2ZNSJ/c","UserEnergyCardModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=function(e){function t(t){var n=e.call(this)||this;return n.fields=["payNum","endTime"],n._payNum=0,n._endTime=0,n._addMaxEnergy=0,n._config=null,n._isRed=!0,n.mapDataToObject(t),n._config=o.default.getInstance().mstActivity.energyCard.config,n._endTime>window.serverTime&&(n._payNum=0),n}return i(t,e),Object.defineProperty(t.prototype,"payNum",{get:function(){return this._payNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addMaxEnergy",{get:function(){return this._endTime>window.serverTime?this._addMaxEnergy=this._config.addMaxEnergy:this._addMaxEnergy=0,this._addMaxEnergy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRed",{get:function(){return this._isRed},enumerable:!1,configurable:!0}),t.prototype.updateRed=function(e){return this._isRed=e,this._isRed},t.prototype.buyEnergyCard=function(e){return this._payNum+=e,this._payNum>=this._config.costNum&&(this._endTime=window.serverTime+this._config.cardTime,this._config.reward&&s.default.getInstance().addReward(this._config.reward),this._config.rewardRes&&s.default.getInstance().addRewardRes(this._config.rewardRes),this._payNum=0,!0)},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData"}],UserGreatValueGiftModel:[function(e,t,n){"use strict";cc._RF.push(t,"5d28eyeEbhD/ap/QNv5vLeg","UserGreatValueGiftModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=function(e){function t(t){var n=e.call(this)||this;return n.fields=["giftData"],n._giftData={},n._config=null,n.mapDataToObject(t),t&&!t.giftData&&(n._giftData=t),n._config=o.default.getInstance().mstActivity.greatValueGift.config.gifts,n.checkData(),n}return i(t,e),Object.defineProperty(t.prototype,"giftData",{get:function(){return this._giftData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){for(var e in this._giftData={},this.config)this._giftData[e]={videoCount:0,isReceived:0}},t.prototype.checkData=function(){for(var e in this.config)this._giftData[e]||(this._giftData[e]={videoCount:0,isReceived:0})},t.prototype.addGreatValueGiftVideoCount=function(e){var t=this.giftData[e],n=this.config[e];return"pay"==n.costType?(this.giftData[e].videoCount=n.costNum,this.giftData[e].isReceived=1,s.default.getInstance().addReward(n.reward),s.default.getInstance().addRewardRes(n.rewardRes),s.default.getInstance().saveUserData(),!0):t.videoCount<n.costNum&&(this.giftData[e].videoCount+=1,this.giftData[e].videoCount>=n.costNum&&(this.giftData[e].isReceived=1,s.default.getInstance().addReward(n.reward),s.default.getInstance().addRewardRes(n.rewardRes)),!0)},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData"}],UserGrowthFundModel:[function(e,t,n){"use strict";cc._RF.push(t,"35f23V5OBpPRr/6SvQONKHJ","UserGrowthFundModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../utils/GlobalFun"),s=e("../MstData"),c=e("../UserData"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["receiveData","isActive"],n._receiveData={},n._isActive=!1,n._isRed=!0,n.mapDataToObject(t),n}return i(t,e),Object.defineProperty(t.prototype,"receiveData",{get:function(){return this._receiveData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRed",{get:function(){var e=cc.sys.localStorage.getItem("growthFundRedTime");return this._isRed=e!=o.default.getDateByYMD(),this._isRed},enumerable:!1,configurable:!0}),t.prototype.updateRed=function(e){this._isRed=e,e||cc.sys.localStorage.setItem("growthFundRedTime",o.default.getDateByYMD())},Object.defineProperty(t.prototype,"curAwardLv",{get:function(){for(var e=1,t=s.default.getInstance().mstLevelup;t[e];){if((t[e].growthFundReward.length>0||t[e].growthFundRewardRes.length>0)&&(!this.receiveData[e]||!this.receiveData[e].isReceive))return e;e++}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),t.prototype.addPayCount=function(){return!this.isActive&&(this._isActive=!0,c.default.getInstance().saveUserData(),!0)},t.prototype.receiveReward=function(e){this.receiveData[e]||(this.receiveData[e]={});var t=s.default.getInstance().mstLevelup[e];return this.receiveData[e].videoCount?this.receiveData[e].videoCount+=1:this.receiveData[e].videoCount=1,this.receiveData[e].videoCount>=t.growthFundVideoTimes&&(this.receiveData[e].isReceive=!0,c.default.getInstance().addReward(t.growthFundReward),c.default.getInstance().addRewardRes(t.growthFundRewardRes),c.default.getInstance().saveUserData(),!0)},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],UserGuidanceModel:[function(e,t,n){"use strict";cc._RF.push(t,"940843hMnpB34phObxAWbAR","UserGuidanceModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.fields=["progress","isGuideBubble","isComGuideComplete","isShopComplete","isBagComplete","isPassComplete","isLockAreakComplete","isTradingComplete"],n.progress="1",n.isGuideBubble=!1,n.isComGuideComplete=!1,n.isShopComplete=!1,n.isBagComplete=!1,n.isPassComplete=!1,n.isLockAreakComplete=!1,n.isTradingComplete=!1,t?n.dataToObject(t):n.progress="1",n.updateData(),n}return i(t,e),t.prototype.updateData=function(){if("18"==this.progress)this.progress="17";else if("20"==this.progress)this.progress="19";else if("26"==this.progress){var e=o.default.getInstance().mstMisc.bagConfig.config.openLevel;s.default.getInstance().level>=e&&!this.isBagComplete?this.progress="27":this.progress="102"}else if("100"==this.progress&&s.default.getInstance().level>=2)this.progress="16";else if("39"==this.progress||"41"==this.progress)this.progress="999";else{var t=o.default.getInstance().mstStore.dailyGift.openLevel,n=(e=o.default.getInstance().mstMisc.bagConfig.config.openLevel,o.default.getInstance().mstActivity.pass.openLevel),a=s.default.getInstance().unlockMergeAreaIds.includes(2),i=o.default.getInstance().mstMisc.tradingConfig.config[0];a&&(this.isLockAreakComplete=!0),s.default.getInstance().level>=t&&!this.isShopComplete?this.progress="25":s.default.getInstance().level>=4&&!this.isLockAreakComplete?this.progress="36":s.default.getInstance().level>=e&&!this.isBagComplete?this.progress="27":s.default.getInstance().level>=n&&!this.isPassComplete?this.progress="30":s.default.getInstance().level>=i&&!this.isTradingComplete&&(this.progress="38")}this.isShopComplete&&!this.isComGuideComplete&&(this.isComGuideComplete=!0)},t.prototype.setProgress=function(e){this.progress=e},t.prototype.setComGuideComplete=function(){this.isComGuideComplete=!0},t.prototype.setShopGuideComplete=function(){this.isShopComplete=!0,this.isComGuideComplete||(this.isComGuideComplete=!0)},t.prototype.setBagGuideComplete=function(){this.isBagComplete=!0},t.prototype.setPassGuideComplete=function(){this.isPassComplete=!0},t.prototype.setTradingGuideComplete=function(){this.isTradingComplete=!0},t.prototype.setLockAreaGuideComplete=function(){this.isLockAreakComplete=!0},t.prototype.setGuideBubbleComplete=function(){this.isGuideBubble=!0},t.prototype.isCanShowActicPopup=function(){return!(Number(this.progress)<100)},t.prototype.isGuideComplete=function(){return!!(this.isShopComplete&&this.isBagComplete&&this.isPassComplete&&this.isLockAreakComplete&&this.isTradingComplete)},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData"}],UserItemModel:[function(e,t,n){"use strict";cc._RF.push(t,"25d31JU9oJPjbLKdRRayWll","UserItemModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../utils/GlobalFun"),s=e(".././MiscConfig"),c=e("../MstData"),l=e("../UserData"),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;if(n.fields=["id","state","leftCount","lastRecoverTime","lastCoolingTime","createTime","isSpawnerBoost","decayAttribute","chargeValue"],n.id=-1,n.state=s.default.ITEM_STATE_NORMAL,n.leftCount=null,n.lastRecoverTime=0,n.lastCoolingTime=0,n.createTime=null,n.isSpawnerBoost=!1,n.decayAttribute=[],n.chargeValue=0,n._nextId=0,n._isMaxLevel=!1,n._isTaskNeed=!1,n._isPassTaskNeed=!1,n._isActTaskNeed=!1,n._randomNum=0,n._randomLeftCount=0,n._randomNum=window.serverTime%100,n.dataToObject(t),n._randomLeftCount=n.leftCount+n._randomNum,n.id>0){if(n.mstData.itemCount>0&&null==n.leftCount&&0==n.lastRecoverTime&&0==n.lastCoolingTime&&(n.updateLeftCount(n.mstData.itemCount),n.lastRecoverTime=window.serverTime,n.lastCoolingTime=0),n.mstData.itemCount>0&&n.leftCount>=2*n.mstData.itemCount){var a="item_"+n.id+"_maxCount_"+n.mstData.itemCount+"_"+n.leftCount;n.leftCount=1,cc.sys.localStorage.setItem("cheatReason",a)}if(n.decayAttribute.length>0&&null==n.createTime)n.createTime=window.serverTime;else{var i=c.default.getInstance().mstItem[n.id].decayAttribute;null==n.createTime&&i.length>0&&(n.decayAttribute=i,n.createTime=window.serverTime)}n._nextId=n.getNextId(),n._isMaxLevel=n.getIsMaxLevel()}return n}return i(t,e),Object.defineProperty(t.prototype,"mstData",{get:function(){return c.default.getInstance().mstItem[this.id]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextId",{get:function(){return this._nextId<=0&&(this._nextId=this.getNextId()),this._nextId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCool",{get:function(){return this.coolingTime>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coolingTime",{get:function(){var e=0;return this.id>0&&(this.mstData.isSpawner?e=Math.floor(this.lastCoolingTime+this.mstData.rechargeTime-window.serverTime):this.mstData.isBox&&(e=Math.floor(this.lastCoolingTime+this.mstData.openingTime-window.serverTime))),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeleteAble",{get:function(){return!(!this.mstData.deleteAble||this.state!=s.default.ITEM_STATE_NORMAL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMaxLevel",{get:function(){return this._isMaxLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decayTime",{get:function(){var e=0;return this.id>0&&this.decayAttribute.length>0&&(e=Math.floor(this.createTime+this.decayAttribute[0]-window.serverTime)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAttenuationOver",{get:function(){return!(this.decayTime>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpened",{get:function(){return!(this.mstData.openingTime>0)||!!this.lastCoolingTime&&Math.floor(this.lastCoolingTime+this.mstData.openingTime-window.serverTime)<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCoolDiamonds",{get:function(){var e=this.coolingTime;if(e<=0)return 0;var t=Math.ceil(e/60);return Math.ceil(t*this.mstData.clearTimeDiamonds)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearDecayDiamonds",{get:function(){var e=this.decayTime;if(e<=0)return 0;var t=Math.ceil(e/60);return Math.ceil(t*this.mstData.clearTimeDiamonds)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTaskNeed",{get:function(){return this._isTaskNeed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPassNeed",{get:function(){return this._isPassTaskNeed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActivityNeed",{get:function(){return this._isActTaskNeed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowVideo",{get:function(){if(this.mstData.isBox&&this.state==s.default.ITEM_STATE_NORMAL&&!this.isOpened){if(this.coolingTime>=0&&this.clearCoolDiamonds<=c.default.getInstance().mstMisc.clearMaxTimeByVideo.config&&l.default.getInstance().clearVideoTimes<c.default.getInstance().mstMisc.clearMaxTimeByVideoTimes.config)return!0}else if(this.mstData.isSpawner&&this.state==s.default.ITEM_STATE_NORMAL){if(this.coolingTime>0&&this.clearCoolDiamonds<=c.default.getInstance().mstMisc.clearMaxTimeByVideo.config&&l.default.getInstance().clearVideoTimes<c.default.getInstance().mstMisc.clearMaxTimeByVideoTimes.config)return!0}else if(this.decayAttribute&&this.decayAttribute.length>0)if(this.state==s.default.ITEM_STATE_BUBBLE){if(this.mstData.diamondsPrice<=c.default.getInstance().mstMisc.getBubbleByVideo.config&&l.default.getInstance().bubbleVideoTimes<c.default.getInstance().mstMisc.getBubbleByVideoTimes.config)return!0}else if(this.clearDecayDiamonds<=c.default.getInstance().mstMisc.clearMaxTimeByVideo.config&&l.default.getInstance().clearVideoTimes<c.default.getInstance().mstMisc.clearMaxTimeByVideoTimes.config)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.setIsTaskNeed=function(e){this._isTaskNeed=e},t.prototype.setIsPassTaskNeed=function(e){this._isPassTaskNeed=e},t.prototype.setIsActTaskNeed=function(e){this._isActTaskNeed=e},t.prototype.getIsMaxLevel=function(){var e=1;if(this.id>0&&this.mstData.level>=1){var t=c.default.getInstance().getItemChainById(this.id);if(t){for(var n in t)t[n].level>=e&&(e=t[n].level);return this.mstData.level==e}}return!1},t.prototype.getNextId=function(){var e=c.default.getInstance().getItemChainById(this.id),t=c.default.getInstance().getItemMaxLevelById(this.id);if(this.mstData.level>=t){if(this.mstData.overrideMerge>0)return this.mstData.overrideMerge}else{var n=this.mstData.level+1;for(var a in e)if(e[a].level==n)return parseInt(a)}return-1},t.prototype.updateInfo=function(){this.id>0&&(this.mstData.isProducer||this.decayAttribute.length>0)&&(this.isCool||this.isSpawnerBoost||(this.lastCoolingTime?this.recoverAllCount():this.recoverCount()),this.decayAttribute.length>0&&this.isAttenuationOver&&this.constructor({id:this.decayAttribute[1]}))},t.prototype.updateLeftCount=function(e){if(this.leftCount+=e,this._randomLeftCount+=e,this.leftCount>=this.mstData.itemCount&&(this.leftCount=this.mstData.itemCount,this._randomLeftCount=this.mstData.itemCount+this._randomNum),this.leftCount+this._randomNum!=this._randomLeftCount){var t="item_"+this.id+"_leftCount_"+(this._randomLeftCount-this._randomNum)+"_"+this.leftCount;return cc.sys.localStorage.setItem("cheatReason",t),t}return null},t.prototype.recoverCount=function(){if(this.id>0&&this.mstData.rechargeSingleTime>0){var e=Math.floor(window.serverTime-this.lastRecoverTime),t=Math.floor(e/this.mstData.rechargeSingleTime);if(t>0){var n=e%this.mstData.rechargeSingleTime;this.updateLeftCount(t),this.leftCount>=this.mstData.itemCount?this.lastRecoverTime=window.serverTime:this.lastRecoverTime=window.serverTime-n}}},t.prototype.recoverAllCount=function(e){void 0===e&&(e=!1),this.id>0&&this.mstData.isSpawner&&(this.updateLeftCount(this.mstData.itemCount),this.lastRecoverTime=window.serverTime,this.isSpawnerBoost=e,this.lastCoolingTime=0)},t.prototype.clearCoolTime=function(e){if(void 0===e&&(e=!1),this.isCool){var t=this.clearCoolDiamonds;if(e&&(t=0),l.default.getInstance().addDiamonds(-t)>=0){if(this.mstData.isSpawner)return this.recoverAllCount(),!0;if(this.mstData.isBox)return this.lastCoolingTime=1,!0;l.default.getInstance().saveUserData()}}return!1},t.prototype.speedupDecay=function(e){if(void 0===e&&(e=!1),this.decayAttribute&&this.decayAttribute[0]){var t=this.clearDecayDiamonds;if(e&&(t=0),l.default.getInstance().addDiamonds(-t)>=0)return this.createTime=1,l.default.getInstance().saveUserData(),!0}return!1},t.prototype.getRandomSpawnItemIdById=function(){var e=this.mstData.spawnItem,t=this.mstData.spawnItemRate;if(this.mstData.isBoxAdaptLevel){for(var n=[],a=0;a<e.length;a++)l.default.getInstance().level>=c.default.getInstance().mstItem[e[a]].minNeedLevel&&n.push(e[a]);return n.length>0?n[i=o.default.radomBetween(0,n.length-1)]:-1}if(0==t.length)return e[e.length-this.leftCount-1];var i=Math.random(),r=0;for(a=0;a<t.length;a++)if(i<(r+=t[a])){var s=e[a];return this.isSpawnerBoost?c.default.getInstance().getNextLvIdById(s):s}return-1},t.prototype.collect=function(){var e;if(this.mstData.collectable){var t=this.mstData.type,n=this.mstData.itemCount;"unlimitedEnergy"==t&&(n=null!==(e=this.mstData.propAttribute[1])&&void 0!==e?e:0),this.constructor(),"exp"==t?l.default.getInstance().addExp(n):"energy"==t?l.default.getInstance().changeEnergy(n):"coin"==t?l.default.getInstance().addCoins(n):"diamond"==t?l.default.getInstance().addDiamonds(n):"unlimitedEnergy"==t?l.default.getInstance().addUnlimitedEnergyEndTime(n):"praise"==t&&l.default.getInstance().limitActModel.foodFestival.addExp(n),l.default.getInstance().saveUserData()}},t.prototype.buyItem=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=this.id),this.id>0){if(e)return this.constructor({id:t}),l.default.getInstance().updateItemsTypeMaxLevel(this.id);var n=this.mstData.diamondsPrice;if(l.default.getInstance().addDiamonds(-n)>=0){this.constructor({id:t});var a=l.default.getInstance().updateItemsTypeMaxLevel(this.id);return l.default.getInstance().saveUserData(),a}}return!1},t.prototype.sellItem=function(){return!!(this.id>0&&this.mstData.deleteAble)&&(l.default.getInstance().addCoins(this.mstData.sellCoins),this.constructor(),l.default.getInstance().saveUserData(),!0)},t.prototype.deleteItem=function(){return!!(this.id>0&&this.mstData.deleteAble)&&(this.constructor(),!0)},t.prototype.addChargeValue=function(e){return this.chargeValue+=e,this.chargeValue>=this.mstData.rechargeAttribute[0]&&(this.chargeValue-=this.mstData.rechargeAttribute[0],!0)},t}(r.default);n.default=u,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun",".././MiscConfig":"MiscConfig","../MstData":"MstData","../UserData":"UserData"}],UserLimitActivityModel:[function(e,t,n){"use strict";cc._RF.push(t,"5af7clHehNMWbGHxFKrg89f","UserLimitActivityModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=e("../limitActivityModel/FoodFestivalModel"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["foodFestival"],n._foodFestival=null,n._curModel=null,n.mapDataToObject(t),n.updateActivity(),n.activityOpenState(),n}return i(t,e),Object.defineProperty(t.prototype,"itemData",{get:function(){return this._curModel?this._curModel.itemData:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rewards",{get:function(){return this._curModel?this._curModel.rewards:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foodFestival",{get:function(){return this._foodFestival&&this._foodFestival instanceof c.default||this.updateFoodFestival(),this._foodFestival},enumerable:!1,configurable:!0}),t.prototype.updateFoodFestival=function(){this._foodFestival=new c.default(this._foodFestival)},t.prototype.updateActivity=function(){this.updateFoodFestival()},t.prototype.startActive=function(e){switch(e){case"foodFestival":return this.foodFestival.startActive(),this._curModel=this._foodFestival,!0}return!1},t.prototype.activityOpenState=function(){for(var e=0;e<this.fields.length;e++){var t=this["_"+this.fields[e]];if(0!=t.actState)return this._curModel=t,t.actState}return 0},t.prototype.getOpenActName=function(){for(var e=0;e<this.fields.length;e++)if(1==this["_"+this.fields[e]].actState)return this.fields[e];return""},t.prototype.activitySettlement=function(){if(this._curModel){var e=this._curModel.activitySettlement();return this._curModel=null,e}return[]},t.prototype.addReward=function(e){this._curModel&&this._curModel.addReward(e)},t.prototype.getAllCanOpenActivity=function(){for(var e=[],t=0;t<this.fields.length;t++){var n=this.fields[t];s.default.getInstance().level>=o.default.getInstance().mstActivity[n].openLevel&&e.push(n)}return e},t.prototype.getHelpGiftConfig=function(){return this._curModel.helpGiftConfig},t.prototype.getHelpGift=function(e){return this._curModel.helpGift[e]},t.prototype.buyHelpGift=function(e,t){return this._curModel.buyHelpGift(e,t)},t.prototype.getGuideStep=function(){return this._curModel.guideStep},t.prototype.getEndTime=function(){return this._curModel?this._curModel.endTime:0},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData","../limitActivityModel/FoodFestivalModel":"FoodFestivalModel"}],UserPassModel:[function(e,t,n){"use strict";cc._RF.push(t,"0642cdgBARNVp72rKcIUAM2","UserPassModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=e("./UserTaskModel"),l=e("../../extension/weapp-jwt"),u=function(e){function t(t){var n=e.call(this)||this;return n.fields=["lv","exp","taskData","receiveData","endTime","isActive"],n._lv="1",n._exp="0",n._taskData=[],n._receiveData={},n._endTime=-1,n._isActive=!1,n._config=null,n.mapDataToObject(t),n._config=o.default.getInstance().mstActivity.pass.config,t?n.loadData(t):(n.resetTask(),n.resetData()),n}return i(t,e),Object.defineProperty(t.prototype,"lv",{get:function(){return Number(l.weAtob(this._lv))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return Number(l.weAtob(this._exp))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return 0==this._taskData.length&&this.resetTask(),this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveData",{get:function(){return this._receiveData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveSpecialLv",{get:function(){var e=0;for(var t in this.receiveData){if(!this.receiveData[t].isSpecialReceive)break;e=+t}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveNormallLv",{get:function(){var e=0;for(var t in this.receiveData){if(!this.receiveData[t].isNormalReceive)break;e=+t}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){this._lv=l.weBtoa("1"),this._exp=l.weBtoa("0"),this._receiveData={},this._receiveData[this.lv]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0},this._endTime=this.getNextMonthTime(),this._isActive=!0},t.prototype.loadData=function(e){if(e.passData){var t=new Date(1e3*window.serverTime),n=t.getMonth()+1,a=t.getFullYear();n>12&&(n=1,a+=1);var i=a+"/"+n;if(e.passData.createTime!=i)this.resetData();else{for(var r=1;r<+e.passData.curLevel+1;r++)e.passReceiveData[r]?this._receiveData[r]={isNormalReceive:e.passReceiveData[r].normal,isSpecialReceive:e.passReceiveData[r].special,videoTimes:0}:this._receiveData[r]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0};this._lv=l.weBtoa(e.passData.curLevel+""),this._exp=l.weBtoa(e.passData.curPassExp+""),this._endTime=this.getNextMonthTime(),this._isActive=!0,this.resetTask()}}else for(this.endTime<window.serverTime?this.resetData():(this._lv=l.weBtoa(this._lv+""),this._exp=l.weBtoa(this._exp+"")),r=0;r<this._taskData.length;r++)this._taskData[r]=new c.default(this._taskData[r])},t.prototype.resetTask=function(){if(this._taskData=[],s.default.getInstance().level>=o.default.getInstance().mstActivity.pass.openLevel)for(var e=0;e<this._config.taskIds.length;e++){var t=this._config.taskIds[e];if("itemTask"!=o.default.getInstance().mstTask[t].key1)this._taskData.push(new c.default({id:t}));else{var n=s.default.getInstance().getRequireItemsByTaskId(Number(t));this._taskData.push(new c.default({id:t,requireItems:n}))}}},t.prototype.addExp=function(e){void 0===e&&(e=1);var t=this._config.lvData;if(this.exp+e>=t[this.lv].exp){var n=e-t[this.lv].exp+this.exp;t[this.lv+1]&&(this._exp=l.weBtoa("0"),this._lv=l.weBtoa(this.lv+1+""),this._receiveData[this.lv]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0}),n>0&&this.addExp(n)}else this._exp=l.weBtoa(this.exp+e+"")},t.prototype.addVideoTimes=function(e){if(e>this.receiveSpecialLv&&!this.receiveData[e].isSpecialReceive){var t=this._config.lvData[e].specialVideoTimes;if(this.receiveData[e].videoTimes++,this.receiveData[e].videoTimes>=t)return this.receiveData[e].isSpecialReceive=!0,this.getReward(e,!0),s.default.getInstance().saveUserData(),!0}return!1},t.prototype.buyPass=function(){return this._isActive=!0,!0},t.prototype.getReward=function(e,t){if(void 0===t&&(t=!1),!t)return this.receiveData[e].isNormalReceive=!0,n=this.config.lvData[e].normalRewardItems,a=this.config.lvData[e].normalRewardRes,s.default.getInstance().addReward(n),s.default.getInstance().addRewardRes(a),s.default.getInstance().saveUserData(),!0;if(this.isActive){this.receiveData[e].isSpecialReceive=!0;var n=this.config.lvData[e].specialRewardItems,a=this.config.lvData[e].specialRewardRes;return s.default.getInstance().addReward(n),s.default.getInstance().addRewardRes(a),s.default.getInstance().saveUserData(),!0}return!1},t.prototype.isHavePassAward=function(){for(var e in this.receiveData)if((!this.receiveData[e].isNormalReceive||!this.receiveData[e].isSpecialReceive&&this.isActive)&&+e<=s.default.getInstance().passModel.lv)return!0;return!1},t.prototype.isHavePassTaskAward=function(){for(var e=0;e<this.taskData.length;e++)if(this.taskData[e].isComplete&&!this.taskData[e].isReceived)return!0;return!1},t.prototype.getNextMonthTime=function(){var e=new Date(1e3*window.serverTime),t=e.getMonth()+2,n=e.getFullYear();return t>12&&(t=1,n+=1),new Date(n+"/"+t+"/1").getTime()/1e3},t}(r.default);n.default=u,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../extension/weapp-jwt":"weapp-jwt","../MstData":"MstData","../UserData":"UserData","./UserTaskModel":"UserTaskModel"}],UserRankModel:[function(e,t,n){"use strict";cc._RF.push(t,"3705b6iSCRO65bLoITmLfa4","UserRankModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../manager/SDKManager"),s=e("../../utils/Api"),c=e("../../utils/GlobalFun"),l=e("../MstData"),u=e("../UserData"),d=function(e){function t(){var t=e.call(this)||this;return t._config=null,t._config=l.default.getInstance().mstActivity.rank.config.saleRankRewardRes,t}return i(t,e),t.prototype.getRankRewardByIndex=function(e){for(var t in this._config){var n=this._config[t];if(n.rankStart<=e&&n.rankEnd>=e)return n.rewardRes}return[]},t.prototype.getMyDataByType=function(e){return 0==e?u.default.getInstance().level:1==e?u.default.getInstance().skinScore:2==e?u.default.getInstance().saleScore:null},t.prototype.saveLv=function(){var e=u.default.getInstance().level;o.default.getInstance().setUserCloudStorage([{key:"lvScore",value:e+""}]),u.default.getInstance().level>=l.default.getInstance().mstActivity.rank.openLevel&&s.default.rank.send({type:"updateScore",para:JSON.stringify({lvScore:e})})},t.prototype.saveUserInfo=function(e,t,n){void 0===n&&(n=null),""==e||""==t?n&&n():c.default.saveUserInfo(e,t,n)},t.prototype.saveAllScore=function(e){void 0===e&&(e=null);var t=u.default.getInstance().level,n=u.default.getInstance().skinScore,a=u.default.getInstance().saleScore,i=c.default.getDateByYMD();if(o.default.getInstance().setUserCloudStorage([{key:"lvScore",value:t+""},{key:"skinScore",value:n+""},{key:"saleScore",value:a+"time"+i}]),u.default.getInstance().level>=l.default.getInstance().mstActivity.rank.openLevel){var r={};r.lvScore=t,0!=n&&(r.skinScore=n),0!=a&&(r.saleScore=a),s.default.rank.send({type:"updateScore",para:JSON.stringify(r)},function(){e&&e()},function(){e&&e()})}else e&&e()},t}(r.default);n.default=d,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../manager/SDKManager":"SDKManager","../../utils/Api":"Api","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],UserRoleModel:[function(e,t,n){"use strict";cc._RF.push(t,"a665aUUinBO1KnWdZNKw0ep","UserRoleModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MstData"),s=e("../UserData"),c=function(e){function t(t,n){void 0===n&&(n={});var a=e.call(this)||this;return a.fields=["isUnlock","isReceived","skinIdIndex","unlockSkinIndex","skinVideoCount","tipsSkinIndex"],a.id=-1,a.isUnlock=!1,a.isReceived=!1,a.skinIdIndex=0,a.unlockSkinIndex=[],a.skinVideoCount={},a.tipsSkinIndex=[],a._skinTicket={},a.id=t,a.dataToObject(n),a.unlockSkinIndex.length<=0&&a.unlockSkinIndex.push(0),a}return i(t,e),Object.defineProperty(t.prototype,"mstData",{get:function(){return o.default.getInstance().mstRole[this.id]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mstSkinData",{get:function(){this.unlockSkinIndex.includes(this.skinIdIndex)||(this.skinIdIndex=0);var e=this.mstData.skinIds[this.skinIdIndex];return o.default.getInstance().mstRoleSkin[e]},enumerable:!1,configurable:!0}),t.prototype.unLock=function(){this.isUnlock=!0,s.default.getInstance().addSkinScore(this.skinValue)},t.prototype.receiveUnlockAward=function(){this.isReceived=!0},t.prototype.skinVideoCountById=function(e){return this.skinVideoCount[e]?this.skinVideoCount[e]:0},Object.defineProperty(t.prototype,"isHaveTips",{get:function(){return this.tipsSkinIndex.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinValue",{get:function(){if(this.isUnlock){for(var e=0,t=0;t<this.unlockSkinIndex.length;t++)e+=this.oneSkineValue(this.unlockSkinIndex[t]);return e}return 0},enumerable:!1,configurable:!0}),t.prototype.oneSkineValue=function(e){var t=0,n=this.mstData.skinIds[e];return n&&(t+=o.default.getInstance().mstRoleSkin[n].skinValue),t},t.prototype.isSkinUnlock=function(e){return this.unlockSkinIndex.includes(e)},t.prototype.isSkinUnlockBySkinId=function(e){var t=this.mstData.skinIds.indexOf(e);return this.unlockSkinIndex.includes(t)},t.prototype.unLockSkin=function(e,t){if(void 0===t&&(t=!1),!this.unlockSkinIndex.includes(e)){var n=this.mstData.skinIds[e],a=o.default.getInstance().mstRoleSkin[n];if("coins"==a.costType){if(a.costNum<=s.default.getInstance().coins)return s.default.getInstance().addCoins(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else if("diamonds"==a.costType){if(a.costNum<=s.default.getInstance().diamonds)return s.default.getInstance().addDiamonds(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else if("skinTicket"==a.costType){if(a.costNum<=s.default.getInstance().skinTicket)return s.default.getInstance().addSkinTicket(-a.costNum),this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}else{if("activity"==a.costType)return this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0;if("video"==a.costType)return this.unlockSkinIndex.push(e),t&&this.tipsSkinIndex.push(e),s.default.getInstance().addSkinScore(a.skinValue),!0}}return!1},t.prototype.addSkinBySkinId=function(e){var t=this.mstData.skinIds.indexOf(e),n=o.default.getInstance().mstRoleSkin[e];if(!this.unlockSkinIndex.includes(t))return this.unlockSkinIndex.push(t),this.tipsSkinIndex.push(t),s.default.getInstance().addSkinScore(n.skinValue),0;var a=n.skinTicket;s.default.getInstance().addRewardRes([4e4,a]),this._skinTicket[e]=a},t.prototype.selectSkin=function(e){return!!this.unlockSkinIndex.includes(e)&&(this.skinIdIndex=e,!0)},t.prototype.addSkinVideoCount=function(e,t){var n=o.default.getInstance().mstRoleSkin[e];return this.skinVideoCount[e]?this.skinVideoCount[e]+=1:this.skinVideoCount[e]=1,"video"==n.costType&&this.skinVideoCount[e]>=n.costNum&&this.unLockSkin(t)},t.prototype.getTransitionSkinTicket=function(e){return this._skinTicket[e]},t}(r.default);n.default=c,cc._RF.pop()},{"../../base/BaseData":"BaseData","../MstData":"MstData","../UserData":"UserData"}],UserSkinGiftModel:[function(e,t,n){"use strict";cc._RF.push(t,"c3e5e++9dtFoZSjxu5cJYn4","UserSkinGiftModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,i++)a[i]=r[o];return a};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../base/BaseData"),s=e("../MstData"),c=e("../UserData"),l=e("../../utils/GlobalFun"),u=function(e){function t(t){var n=e.call(this)||this;return n.fields=["giftId","lastGiftId","videoCount"],n._giftId=null,n._lastGiftId=null,n._videoCount=0,n._config=null,n.mapDataToObject(t),n._config=s.default.getInstance().mstActivity.skinGift.config.gifts,n}return i(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoCount",{get:function(){return this._videoCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"giftId",{get:function(){var e=s.default.getInstance().mstBuildingSkin,t=c.default.getInstance().buildingData,n=s.default.getInstance().mstRoleSkin,a=c.default.getInstance().roleData;if(this._giftId&&!this.config[this._giftId])this._giftId=null;else if(this._giftId){var i="30098"==(f=this._config[this._giftId]).rewardRes[0]||"40000"==f.rewardRes[0]?0:2,r=f.rewardRes[i],o=f.rewardRes[i+1];"30098"==r?(p=t[e[o].buildingId]).isUnlock&&!p.isSkinUnlockBySkinId(o)||(this._giftId=null):"40000"==r&&((h=a[n[o].roleId]).isUnlock&&!h.isSkinUnlockBySkinId(o)||(this._giftId=null))}if(!this._giftId){for(var u=Object.keys(this._config),d=0;d<u.length;d++){var f,p;i="30098"==(f=this._config[u[d]]).rewardRes[0]||"40000"==f.rewardRes[0]?0:2;if(r=f.rewardRes[i],o=f.rewardRes[i+1],"30098"==r)(p=t[e[o].buildingId]).isUnlock&&!p.isSkinUnlockBySkinId(o)||(u.splice(d,1),d--);else if("40000"==r){var h;(h=a[n[o].roleId]).isUnlock&&!h.isSkinUnlockBySkinId(o)||(u.splice(d,1),d--)}}u.length>1&&-1!=(i=u.indexOf(this._lastGiftId))&&u.splice(i,1);var g=l.default.radomBetween(0,u.length-1);this._giftId=u[g]}return this._giftId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinGiftData",{get:function(){return this.giftId?this._config[this.giftId]:null},enumerable:!1,configurable:!0}),t.prototype.resetSkinGiftId=function(){this._lastGiftId=this._giftId,this._videoCount=0,this._giftId=null},t.prototype.getReward=function(e){var t=function(){var t=e.reward,n=r(e.rewardRes);n[1+("30098"==n[0]||"40000"==n[0]?0:2)],c.default.getInstance().addReward(t),c.default.getInstance().addRewardRes(n)};if("video"==e.costType){if(this._videoCount++,this._videoCount>=e.costNum)return t(),c.default.getInstance().saveUserData(),!0;c.default.getInstance().saveUserData()}else if("pay"==e.costType)return t(),c.default.getInstance().saveUserData(),!0;return!1},t}(o.default);n.default=u,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],UserStoreModel:[function(e,t,n){"use strict";cc._RF.push(t,"cf5b9blP3RPjIFKsBardZys","UserStoreModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../utils/GlobalFun"),s=e("../MstData"),c=e("../UserData"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["dailyGift","goods","goodsResfreshTime","prop","box","resource","foodStore","foodBuildingSkin"],n._dailyGift={},n._goods={},n._goodsResfreshTime=0,n._prop={},n._box={},n._resource={},n._foodStore={},n._foodBuildingSkin={},n._buyCD={},n.mapDataToObject(t),n.updateData(),n}return i(t,e),t.prototype.updateData=function(){this.updateDailyGift(),this.updateGoods(),this.updateProp(),this.updateBox(),this.updateResource(),this.updatefoodStore(),this.updateFoodBuildingSkin()},Object.defineProperty(t.prototype,"mstData",{get:function(){return s.default.getInstance().mstStore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dailyGift",{get:function(){return this._dailyGift},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goods",{get:function(){return this._goods},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goodsResfreshTime",{get:function(){return this._goodsResfreshTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prop",{get:function(){return this._prop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foodStore",{get:function(){return this._foodStore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foodBuildingSkin",{get:function(){return this._foodBuildingSkin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buyCD",{get:function(){return this._buyCD},enumerable:!1,configurable:!0}),t.prototype.resetDaily=function(){this._buyCD={},this.updateDailyGift(!0),this.updateGoods(!0),this.updateProp(!0),this.updateBox(!0),this.updateResource(!0),this.updatefoodStore(!0)},t.prototype.updateDailyGift=function(e){void 0===e&&(e=!1);var t=this.mstData.dailyGift.config,n={};for(var a in t)this._dailyGift[a]&&!e?n[a]=this._dailyGift[a]:n[a]={times:0};this._dailyGift=n},t.prototype.updateGoods=function(e){void 0===e&&(e=!1);var t=c.default.getInstance().level,n=this.mstData.goods.config.itemCount,a=s.default.getInstance().getRefreshItems(t);if(e){this._goods={};for(var i=0;i<n;i++){var r=a[u=o.default.radomBetween(0,a.length-1)];this._goods[r]?i--:this._goods[r]={times:0},a.splice(u,1)}this._goodsResfreshTime=window.serverTime}else{var l=Object.keys(this._goods).length;if(n>l){for(i=0;i<n-l;i++){var u;r=a[u=o.default.radomBetween(0,a.length-1)],this._goods[r]?i--:this._goods[r]={times:0},a.splice(u,1)}this._goodsResfreshTime=window.serverTime}else if(n<l){var d={},f=Object.keys(this._goods);for(i=0;i<n;i++)d[f[i]]=this._goods[f[i]];this._goods=d,this._goodsResfreshTime=window.serverTime}}},t.prototype.updateProp=function(e){void 0===e&&(e=!1);var t=this.mstData.prop.config,n={};for(var a in t)this._prop[a]&&!e?n[a]=this._prop[a]:n[a]={times:0};this._prop=n},t.prototype.updateBox=function(e){void 0===e&&(e=!1);var t=c.default.getInstance().level,n=this.mstData.box.config,a={};for(var i in n)t>=n[i].minLv&&(this._box[i]&&!e?a[i]=this._box[i]:a[i]={times:0});this._box=a},t.prototype.updateResource=function(e){void 0===e&&(e=!1);var t=this.mstData.resource.config,n={};for(var a in t)this._resource[a]&&!e?n[a]=this._resource[a]:n[a]={times:0};this._resource=n},t.prototype.updatefoodStore=function(e){void 0===e&&(e=!1);var t=this.mstData.foodStore.config,n={};for(var a in t)this._foodStore[a]&&!e?n[a]=this._foodStore[a]:n[a]={times:0};this._foodStore=n},t.prototype.updateFoodBuildingSkin=function(e){void 0===e&&(e=!1);var t=this.mstData.foodBuildingSkin.config,n={};for(var a in t)this._foodBuildingSkin[a]&&!e?n[a]=this._foodBuildingSkin[a]:n[a]={times:0};this._foodBuildingSkin=n},t.prototype.getDailyGiftCD=function(e){return this._buyCD.dailyGift&&this._buyCD.dailyGift[e]?this._buyCD.dailyGift[e]-window.serverTime:0},t.prototype.buyGoods=function(e){if(this.goods[e]&&this.goods[e].times<this.mstData.goods.config.limitNum){var t=s.default.getInstance().mstItem[e].diamondsPrice;if(c.default.getInstance().addDiamonds(-t)>=0)return c.default.getInstance().addReward([parseInt(e)]),this.goods[e].times++,c.default.getInstance().saveUserData(),!0}return!1},t.prototype.refreshGoods=function(){for(var e=c.default.getInstance().level,t=this.mstData.goods.config.itemCount,n=s.default.getInstance().getRefreshItems(e),a={},i=0;i<t;i++)if(n.length>0){var r=o.default.radomBetween(0,n.length-1);a[n[r]]={times:0},n.splice(r,1)}this._goods=a,this._goodsResfreshTime=window.serverTime},t.prototype.getResCD=function(e){return this._buyCD.resource&&this._buyCD.resource[e]?this._buyCD.resource[e]-window.serverTime:0},t.prototype.buyItem=function(e,t){var n=this[e][t];if(n){var a=this.mstData[e].config[t],i=n.times;if(i<a.limitNum){var r=a.costType,o=a.costNum;a.addPrice>0&&(o=i>0?a.costNum*Math.pow(a.addPrice,i):a.costNum),a.buyCD>0&&(this._buyCD[e]||(this._buyCD[e]={}),this._buyCD[e][t]=window.serverTime+a.buyCD);var l={},u=a.itemId,d=a.itemNum;if(l[u]=null!=d?d:1,"coins"==r){if(c.default.getInstance().addCoins(-o)>=0)return this.addRewardByKV(l),n.times++,c.default.getInstance().saveUserData(),!0}else if("diamonds"==r){if(o=null!=o?o:s.default.getInstance().mstItem[t].diamondsPrice,c.default.getInstance().addDiamonds(-o)>=0)return this.addRewardByKV(l),n.times++,c.default.getInstance().saveUserData(),!0}else{if("item"!=r)return this.addRewardByKV(l),n.times++,c.default.getInstance().saveUserData(),!0;var f=c.default.getInstance().getNormalItemIndexByIds([o]);if(!f.includes(-1))return c.default.getInstance().itemData[f[0]].deleteItem(),this.foodFestivalModelAddReward([{id:u,num:d}]),n.times++,c.default.getInstance().saveUserData(),f[0]}}}return!1},t.prototype.addRewardByKV=function(e){2==cc.find("Canvas").getComponent("MainScene").isMainScene?c.default.getInstance().limitActModel.foodFestival.addRewardByKV(e):c.default.getInstance().addRewardByKV(e)},t.prototype.isShowRedPoint=function(){return 0==this.dailyGift[1].times&&c.default.getInstance().level>=this.mstData.dailyGift.openLevel},t.prototype.foodFestivalModelAddReward=function(e){for(var t=0;t<e.length;t++)30098!=e[t].id?c.default.getInstance().limitActModel.foodFestival.addReward([e[t].id]):c.default.getInstance().addRewardRes([e[t].id,e[t].num])},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],UserTaskModel:[function(e,t,n){"use strict";cc._RF.push(t,"a4a34GnGXFPQonyxt/88W5d","UserTaskModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../MiscConfig"),s=e("../UserData"),c=e("../MstData"),l=e("../../utils/GlobalFun"),u=e("../../utils/StatisticsManager"),d=e("../../manager/AudioManager"),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.fields=["orderId","id",,"requireItems","startTime","isReceived"],n.orderId=null,n.id=-1,n.requireItems=[],n.startTime=null,n.isReceived=!1,n._isPlayTaskCompleteTip=!1,n._mstData=null,n._taskPress=[],n.dataToObject(t),n.orderId||(n.orderId=Math.floor(window.serverTime)+""+l.default.radomBetween(1,999)),n}return i(t,e),Object.defineProperty(t.prototype,"mstData",{get:function(){return this._mstData||(this._mstData=c.default.getInstance().mstTask[this.id]),this._mstData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskName",{get:function(){for(var e="",t=0;t<this.requireItems.length;t++){var n=c.default.getInstance().mstItem[this.requireItems[t]];n&&(t!=this.requireItems.length-1?e+="\u3010"+n.name+"\u3011&":e+="\u3010"+n.name+"\u3011")}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coins",{get:function(){for(var e=0,t=0;t<this.requireItems.length;t++)e+=c.default.getInstance().mstItem[this.requireItems[t]].taskCoins;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return"trading"==this.mstData.type&&this.startTime&&this.tradingLeftTime<=0?1:this._taskPress.length/this.requireItems.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tradingLeftTime",{get:function(){if(null!=this.startTime){var e=this.mstData.times;return Math.floor(this.startTime+e-window.serverTime)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){var e=this.progress;return"customer"==this.mstData.type?(1==e?this._isPlayTaskCompleteTip||(d.default.getInstance().playEffect("taskCompleteTip"),this._isPlayTaskCompleteTip=!0):this._isPlayTaskCompleteTip=!1,1==e):"trading"==this.mstData.type?this.startTime?this.tradingLeftTime<=0?(this._isPlayTaskCompleteTip||(d.default.getInstance().playEffect("taskCompleteTip"),this._isPlayTaskCompleteTip=!0),!0):(this._isPlayTaskCompleteTip=!1,!1):(1==e?this._isPlayTaskCompleteTip||(d.default.getInstance().playEffect("taskCompleteTip"),this._isPlayTaskCompleteTip=!0):this._isPlayTaskCompleteTip=!1,1==e):"pass"==this.mstData.type?"video"==this.mstData.key1?s.default.getInstance().videoTimes>=this.mstData.requireItems[0]:"merge"==this.mstData.key1?s.default.getInstance().mergeTimes>=this.mstData.requireItems[0]:1==e:"activity"==this.mstData.type&&("childrenDay"==this.mstData.key1&&(1==e?this._isPlayTaskCompleteTip||(d.default.getInstance().playEffect("taskCompleteTip"),this._isPlayTaskCompleteTip=!0):this._isPlayTaskCompleteTip=!1),1==e)},enumerable:!1,configurable:!0}),t.prototype.clearTaskPress=function(){this._taskPress=[]},t.prototype.isTaskNeedItem=function(e){for(var t=!1,n=0;n<this.requireItems.length;n++)if(e.state==o.default.ITEM_STATE_NORMAL&&e.id==this.requireItems[n]&&(t=!0,!this._taskPress.includes(n))){this._taskPress.push(n);break}return t},t.prototype.completeTask=function(){if("customer"==this.mstData.type){if(1==this.progress){if((i=s.default.getInstance().getNormalItemIndexByIds(this.requireItems)).includes(-1))return!1;if(s.default.getInstance().deleteTask(this)){u.default.trackEventOnXG("newUser",this.taskName,this.id),u.default.trackEvent("order_complete",{taskId:this.id+""});for(var e=0;e<i.length;e++)s.default.getInstance().itemData[i[e]].deleteItem();var t=[];for(e=0;e<this.mstData.nextId.length;e++)if(this.mstData.nextId[e]>0){var n=s.default.getInstance().acceptTaskById(this.mstData.nextId[e]);t.push(n)}else(n=s.default.getInstance().acceptCustomerTask())&&t.push(n);return s.default.getInstance().addExp(this.exp),s.default.getInstance().addCoins(this.coins),s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes),s.default.getInstance().addSaleScore(this.coins),s.default.getInstance().saveUserData(),{newTasks:t,cells:i}}return!1}return!1}if("trading"==this.mstData.type){if(this.startTime&&this.tradingLeftTime<=0&&(this.startTime=null,s.default.getInstance().deleteTask(this))){for(this.startTime=null,t=[],e=0;e<this.mstData.nextId.length;e++)this.mstData.nextId[e]>0?(n=s.default.getInstance().acceptTaskById(this.mstData.nextId[e]),t.push(n)):(n=s.default.getInstance().acceptTaskById(this.id))&&t.push(n);s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes);var a=l.default.findCoinOnRewardRes(this.mstData.rewardRes);return s.default.getInstance().addSaleScore(a),s.default.getInstance().saveUserData(),{newTasks:t,cells:[]}}return!1}if("pass"==this.mstData.type){if(this.isComplete&&!this.isReceived){if((i=s.default.getInstance().getNormalItemIndexByIds(this.requireItems)).includes(-1))return!1;for(e=0;e<i.length;e++)s.default.getInstance().itemData[i[e]].deleteItem();return this.isReceived=!0,s.default.getInstance().addExp(this.exp),s.default.getInstance().addCoins(this.coins),s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes),s.default.getInstance().addSaleScore(this.coins),s.default.getInstance().saveUserData(),{newTasks:[],cells:i}}return!1}if("activity"==this.mstData.type&&this.isComplete){var i;if((i=s.default.getInstance().getNormalItemIndexByIds(this.requireItems)).includes(-1))return!1;if("happyBingo"!=this.mstData.key1){if("childrenDay"==this.mstData.key1){var r=0,o=s.default.getInstance().activityData.childrenDay.taskData;for(e=0;e<o.length;e++)if(o[e].orderId==this.orderId){r=e;break}if(s.default.getInstance().deleteTask(this)){for(e=0;e<i.length;e++)s.default.getInstance().itemData[i[e]].deleteItem();for(t=[],e=0;e<this.mstData.nextId.length;e++)this.mstData.nextId[e]>0&&(n=s.default.getInstance().acceptTaskById(this.mstData.nextId[e],r),t.push(n));return s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes),a=l.default.findCoinOnRewardRes(this.mstData.rewardRes),s.default.getInstance().addSaleScore(a),s.default.getInstance().saveUserData(),{newTasks:t,cells:i}}return!1}if(s.default.getInstance().deleteTask(this)){for(e=0;e<i.length;e++)s.default.getInstance().itemData[i[e]].deleteItem();for(t=[],e=0;e<this.mstData.nextId.length;e++)this.mstData.nextId[e]>0&&(n=s.default.getInstance().acceptTaskById(this.mstData.nextId[e]),t.push(n));return s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes),a=l.default.findCoinOnRewardRes(this.mstData.rewardRes),s.default.getInstance().addSaleScore(a),s.default.getInstance().saveUserData(),{newTasks:t,cells:i}}return!1}for(e=0;e<i.length;e++)s.default.getInstance().itemData[i[e]].deleteItem();this.isReceived=!0,s.default.getInstance().addExp(this.exp),s.default.getInstance().addCoins(this.coins),s.default.getInstance().addReward(this.mstData.reward),s.default.getInstance().addRewardRes(this.mstData.rewardRes),s.default.getInstance().addSaleScore(this.coins),s.default.getInstance().saveUserData()}},t.prototype.startTask=function(){if("trading"==this.mstData.type&&1==this.progress&&!this.startTime){var e=s.default.getInstance().getNormalItemIndexByIds(this.requireItems);if(e.includes(-1))return!1;for(var t=0;t<e.length;t++)s.default.getInstance().itemData[e[t]].deleteItem();return this.startTime=Math.floor(window.serverTime),this._isPlayTaskCompleteTip=!1,s.default.getInstance().addExp(this.exp),s.default.getInstance().addCoins(this.coins),s.default.getInstance().addSaleScore(this.coins),{newTasks:[],cells:e}}return!1},t.prototype.speedUpTask=function(e){if("trading"==this.mstData.type){var t=l.default.getNeedDiamondByTime(e);if(s.default.getInstance().addDiamonds(-t)>=0&&this.startTime&&this.tradingLeftTime>0)return this.startTime-=e,!0}return!1},t.prototype.refreshRequireItems=function(){if(this.mstData.isRefresh){var e=this.mstData.refreshDiamonds;return s.default.getInstance().addDiamonds(-e)>=0?(this.requireItems=s.default.getInstance().getRequireItemsByTaskId(this.id),s.default.getInstance().saveUserData(),1):-2}return-1},t}(r.default);n.default=f,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../manager/AudioManager":"AudioManager","../../utils/GlobalFun":"GlobalFun","../../utils/StatisticsManager":"StatisticsManager","../MiscConfig":"MiscConfig","../MstData":"MstData","../UserData":"UserData"}],UserWeeklyGiftModel:[function(e,t,n){"use strict";cc._RF.push(t,"4854507lwZGJZ5TfNJphVKm","UserWeeklyGiftModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../utils/GlobalFun"),s=e("../MstData"),c=e("../UserData"),l=function(e){function t(t){var n=e.call(this)||this;n.fields=["receiveData","endTime"],n._receiveData={},n._endTime=0,n._config=null,n._lastTime=null,n._isRed=!0,n.mapDataToObject(t);var a=s.default.getInstance().mstActivity.weeklyGift.config.gifts;return n._config=a,n.loadData(),n}return i(t,e),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveData",{get:function(){return this._receiveData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastTime",{get:function(){return this._lastTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRed",{get:function(){var e=cc.sys.localStorage.getItem("weeklyGiftRedTime");return this._isRed=e!=o.default.getDateByYMD(),this._isRed},enumerable:!1,configurable:!0}),t.prototype.updateRed=function(e){this._isRed=e,e||cc.sys.localStorage.setItem("weeklyGiftRedTime",o.default.getDateByYMD())},t.prototype.isAllReceived=function(){var e=this._config;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!this.isReceived(t))return!1;return!0},t.prototype.loadData=function(){for(var e in this.getFirstDayOnWeek()&&(this._endTime=window.serverTime,this._receiveData={}),this._config)this._receiveData[e]||(this._receiveData[e]={videoCount:0,stageIndex:1});this._lastTime=this.getLastDayOfWeek()},t.prototype.buyGift=function(){},t.prototype.watchAd=function(e){var t=this._receiveData[e].stageIndex,n=this._receiveData[e].videoCount+1;return this._receiveData[e].videoCount=n,n>=this._config[e].config[t].costNum&&(this.getReward(e),this.updateToNextStage(e),!0)},t.prototype.updateToNextStage=function(e){this._receiveData[e].stageIndex++,this._receiveData[e].videoCount=0},t.prototype.getReward=function(e){var t=this._receiveData[e].stageIndex,n=this._config[e].config[t],a=n.reward,i=n.rewardRes;return c.default.getInstance().addReward(a),c.default.getInstance().addRewardRes(i),c.default.getInstance().saveUserData(),!0},t.prototype.isReceived=function(e){var t=this._receiveData[e].stageIndex;return!this.config[e].config[t]},t.prototype.getFirstDayOnWeek=function(){var e=new Date(1e3*this._endTime),t=e.getDay();0===t&&(t=7);var n=new Date(1e3*window.serverTime),a=n.getDay();0===a&&(a=7);var i=e.getTime()-864e5*(t-1),r=o.default.getDateByYMD(i/1e3),s=n.getTime()-864e5*(a-1);return r!=o.default.getDateByYMD(s/1e3)},t.prototype.getLastDayOfWeek=function(){var e=new Date(1e3*window.serverTime),t=e.getDay();0===t&&(t=7);var n=e.getTime()-864e5*(t-1),a=new Date(n),i=a.getFullYear(),r=a.getMonth()+1,o=a.getDate();return(new Date(i+"/"+r+"/"+o).getTime()+6048e5)/1e3},t}(r.default);n.default=l,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData"}],WXApi:[function(e,t,n){"use strict";cc._RF.push(t,"5ce94WoxO9Ja5y6egc8mCrD","WXApi"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/AudioManager"),i=function(){function e(){this._rewardAdSuccess=null,this._rewardAdFail=null,this._rewardAdError=null,this._banner=null,this._rewardAd=null,this._interstitialAd=null,this._phoneSystem=null,this.adUnitBannerId="",this.adUnitVideoId="",this.adUnitInterId="",this.openBannerTime=0}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){wx&&(this._phoneSystem=wx.getSystemInfoSync(),this.createBanner(),this.createRewardAd(),this.createInterAd(),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}))},e.prototype.createBanner=function(){var e=this;if(!this._banner&&this.adUnitBannerId){var t=this._phoneSystem.windowWidth,n=this._phoneSystem.windowHeight;this._banner=wx.createBannerAd({adUnitId:this.adUnitBannerId,adIntervals:40,style:{left:0,top:n-100,width:t}}),this._banner.onError(function(){}),this._banner.onResize(function(t){e._banner.style.top=n-t.height})}},e.prototype.createRewardAd=function(){var e=this;!this._rewardAd&&this.adUnitVideoId&&(this._rewardAd=wx.createRewardedVideoAd({adUnitId:this.adUnitVideoId}),this._rewardAd.onLoad(function(){}),this._rewardAd.onError(function(){e._rewardAd=null}),this._rewardAd.onClose(function(t){t.isEnded?e._rewardAdSuccess&&e._rewardAdSuccess():e._rewardAdFail&&e._rewardAdFail(),a.default.getInstance().playBgm("bgm")}))},e.prototype.createInterAd=function(){!this._interstitialAd&&this.adUnitInterId&&(this._interstitialAd=wx.createInterstitialAd({adUnitId:this.adUnitInterId}),this._interstitialAd.onError(function(){}))},e.prototype.showBanner=function(){this._banner&&(this._banner.show(),this.openBannerTime++)},e.prototype.hideBanner=function(){this._banner&&(this.openBannerTime--,this.openBannerTime<=0&&(this.openBannerTime=0,this._banner.hide()))},e.prototype.showRewardAd=function(e,t,n){var i=this;this._rewardAd?(a.default.getInstance().stopBgm(),this._rewardAdSuccess=e,this._rewardAdFail=t,this._rewardAdError=n,this._rewardAd.show().catch(function(){i._rewardAd.load().then(function(){i._rewardAd.show().catch(function(){i._rewardAdError&&i._rewardAdError()})})})):n&&n()},e.prototype.showInterstitial=function(){this._interstitialAd&&this._interstitialAd.show()},e.prototype.hideInterstitial=function(){this._interstitialAd&&this._interstitialAd.hide()},e.prototype.login=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),wx.login({success:function(t){t.code&&e&&e(t.code)},fail:function(){t&&t()},complete:function(){}})},e.prototype.shareAppMessage=function(e,t,n){void 0===n&&(n=null),wx.uma.shareAppMessage({title:e,imageUrl:t,query:n})},e.prototype.navigateToGame=function(e){wx.navigateToMiniProgram({appId:e,success:function(){},fail:function(){}})},e.prototype.setClipboardData=function(e){wx.setClipboardData({data:e,success:function(){wx.getClipboardData({success:function(){}})}})},e.instance=null,e}();n.default=i,cc._RF.pop()},{"../manager/AudioManager":"AudioManager"}],WYApi:[function(e,t,n){"use strict";cc._RF.push(t,"02eb8psfgxNkoenO0mcLaEE","WYApi"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/AudioManager"),i=function(){function e(){this.openBannerTime=0}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){},e.prototype.showBanner=function(){var e=this;MiniGameAds.isBannerReady()?MiniGameAds.showBanner().then(function(){console.info("====> show banner success"),e.openBannerTime++}).catch(function(e){console.error("====> show banner error: "+e.message)}):console.info("====> banner not ready")},e.prototype.hideBanner=function(){var e=this;0==this.openBannerTime-1&&MiniGameAds.hideBanner().then(function(){console.info("====> hide banner success"),e.openBannerTime--}).catch(function(e){console.error("====> hide banner error: "+e.message)})},e.prototype.showRewardAd=function(e,t,n){var i=MiniGameAds.isAdRadical();console.log("\u662f\u5426\u6fc0\u8fdb\u7248\u6fc0\u52b1\u5e7f\u544a",i),MiniGameAds.isRewardvideoReady()?(a.default.getInstance().stopBgm(),MiniGameAds.showRewardedVideo().then(function(){console.info("====> show RewardedVideo success"),e&&e(),a.default.getInstance().playBgm("bgm")}).catch(function(e){console.error("====> show RewardedVideo error: "+e.message),t&&t(),a.default.getInstance().playBgm("bgm")})):(console.info("====> RewardedVideo not ready"),n&&n())},e.prototype.showInterstitial=function(e,t,n){MiniGameAds.isInterstitialReady()?MiniGameAds.showInterstitial().then(function(){e&&e(),console.info("====> show interstitial success")}).catch(function(e){console.error("====> show interstitial error: "+e.message),t&&t()}):(console.info("====> interstitial not ready"),n&&n())},e.prototype.onEventMsg=function(e,t){MiniGameAnalytics.onGameEvent(e,t)},e.instance=null,e}();n.default=i,cc._RF.pop()},{"../manager/AudioManager":"AudioManager"}],WaterParkModel:[function(e,t,n){"use strict";cc._RF.push(t,"eea32UUUsZKBa9GninpJiP/","WaterParkModel");var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/BaseData"),o=e("../../extension/weapp-jwt"),s=e("../../utils/GlobalFun"),c=e("../MstData"),l=e("../UserData"),u=e("../userModel/UserTaskModel"),d=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;if(n.fields=["lv","exp","taskData","isVip","receiveData","endTime"],n._lv="1",n._exp="0",n._taskData=null,n._isVip=!1,n._receiveData={},n._endTime=0,n._chooseTaskIndex=0,n._config=null,n._maxLv=0,n.mapDataToObject(t),n._config=c.default.getInstance().mstActivity.waterPark.config,n._endTime<=window.serverTime)n.resetData();else{n._lv=o.weBtoa(n._lv+""),n._exp=o.weBtoa(n._exp+"");for(var a=[],i=0;i<n.taskData.length;i++){var r=new u.default(n.taskData[i]);a.push(r)}n._taskData=a}return n._maxLv=+Object.keys(n._config.lvData).pop(),n}return i(t,e),Object.defineProperty(t.prototype,"lv",{get:function(){return parseInt(o.weAtob(this._lv+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return parseInt(o.weAtob(this._exp+""))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskData",{get:function(){return this._taskData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVip",{get:function(){return this._isVip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveData",{get:function(){return this._receiveData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseTaskIndex",{get:function(){return this._chooseTaskIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLv",{get:function(){return this._maxLv},enumerable:!1,configurable:!0}),t.prototype.resetData=function(){if(this._config){this._lv=o.weBtoa("1"),this._exp=o.weBtoa("0"),this._isVip=!0,this._taskData=[];var e=this._config,t=l.default.getInstance().getRequireItemsByTaskId(e.taskId),n=new u.default({id:e.taskId,requireItems:t});this.taskData.push(n),this._endTime=window.serverTime+1e4,this._receiveData[1]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0}}},t.prototype.addExp=function(e){var t=this._config.lvData;if(this.exp+e>=t[this.lv].exp){var n=e-t[this.lv].exp+this.exp;t[this.lv+1]&&(this._exp=o.weBtoa("0"),this._lv=o.weBtoa(this.lv+1+""),this._receiveData[this.lv]={isNormalReceive:!1,isSpecialReceive:!1,videoTimes:0}),n>0&&this.addExp(n)}else this._exp=o.weBtoa(this.exp+e+"")},t.prototype.buyVip=function(){return this._isVip=!0,!0},t.prototype.buyExp=function(e){for(var t=this._config.lvData,n=0,a=0,i=this.lv;i<e;i++)n+=t[i].exp,a+=t[i+1].diamonds;return l.default.getInstance().addDiamonds(-a)>=0&&(this.addExp(n),!0)},t.prototype.chooseTask=function(e){this._chooseTaskIndex=e},t.prototype.submit=function(e){var t=this._taskData[e].requireItems,n={ids:[],reward:[]};if(n.ids=l.default.getInstance().getNormalItemIndexByIds(t),!n.ids.includes(-1)){var a=this._taskData[e].mstData;return n.reward=s.default.getAllReward(a.reward,a.rewardRes),this.taskData[e].completeTask(),l.default.getInstance().updateTaskAndItem(),n}return n},t.prototype.buyNormalReward=function(e){var t=this._config.lvData[e];return this.firstNormalRewardIndex==e&&!this.receiveData[e].isNormalReceive&&(l.default.getInstance().addReward(t.reward),l.default.getInstance().addRewardRes(t.rewardRes),this.receiveData[e].isNormalReceive=!0,!0)},t.prototype.buySpecialReward=function(e){var t=this._config.lvData[e];return this.receiveData[e].videoTimes++,this.firstSpecialRewardIndex==e&&!this.receiveData[e].isSpecialReceive&&this.receiveData[e].videoTimes>=t.costNum&&(l.default.getInstance().addReward(t.vipReward),l.default.getInstance().addRewardRes(t.vipRewardRes),this.receiveData[e].isSpecialReceive=!0,!0)},Object.defineProperty(t.prototype,"firstRewardIndex",{get:function(){var e=this.receiveData;for(var t in e){var n=e[t];if(!n.isNormalReceive||!n.isSpecialReceive)return+t}return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstNormalRewardIndex",{get:function(){var e=this.receiveData;for(var t in e)if(!e[t].isNormalReceive)return+t;return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstSpecialRewardIndex",{get:function(){var e=this.receiveData;for(var t in e)if(!e[t].isSpecialReceive)return+t;return 1},enumerable:!1,configurable:!0}),t}(r.default);n.default=d,cc._RF.pop()},{"../../base/BaseData":"BaseData","../../extension/weapp-jwt":"weapp-jwt","../../utils/GlobalFun":"GlobalFun","../MstData":"MstData","../UserData":"UserData","../userModel/UserTaskModel":"UserTaskModel"}],XGApi:[function(e,t,n){"use strict";cc._RF.push(t,"68cd8pHZDtPxYx/duOY0B1t","XGApi"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../data/MiscConfig"),i=e("../data/UserData"),r=e("../manager/AudioManager"),o=e("../manager/UIManager"),s=e("../prefabs/CommonPopup"),c=e("../utils/AppConfig"),l=e("../utils/GlobalFun"),u=e("../utils/StatisticsManager"),d=function(){function e(){this._rewardAdSuccess=null,this._rewardAdFail=null,this._rewardAdError=null,this._banner=null,this._rewardAd=null,this._interstitialAd=null,this._phoneSystem=null,this._gameClub=null,this._userInfoButton=null,this.adUnitBannerId="adunit-7810b223eed3e5b9",this.adUnitVideoId=["adunit-b284cba0b3cea15a","adunit-9fb109cd6bbe0d8c","adunit-6276943d439506d0"],this.adUnitInterId="",this.openBannerTime=0,this.adUnitIdx=0,this.rewardAdLoadSuccess=!1,this._isShowModal=!1}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){var e=this;wx&&(this._phoneSystem=wx.getSystemInfoSync(),this.createBanner(),this.createRewardAd(),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return{title:"\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a\u597d\u73a9\u7684\u6e38\u620f",imageUrl:c.default.WX_SHARE_PATH+"share1.jpg",query:null}}),wx.onNetworkStatusChange(function(t){t.isConnected?"2g"!=t.networkType&&"3g"!=t.networkType&&"none"!=t.networkType||e._isShowModal||(e._isShowModal=!0,wx.showModal({title:"\u63d0\u793a",content:"\u4f60\u7684\u7f51\u7edc\u72b6\u6001\u4e0d\u4f73\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",success:function(){i.default.getInstance().clearToken(),cc.game.restart(),e._isShowModal=!1}})):e._isShowModal||(e._isShowModal=!0,wx.showModal({title:"\u63d0\u793a",content:"\u65e0\u7f51\u7edc\u8fde\u63a5\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",success:function(){i.default.getInstance().clearToken(),cc.game.restart(),e._isShowModal=!1}}))}))},e.prototype.createBanner=function(){var e=this;if(!this._banner&&this.adUnitBannerId){var t=this._phoneSystem.windowWidth,n=this._phoneSystem.windowHeight,a=t/cc.winSize.width,i=Math.floor(816*a),r=Math.floor(232*a);i<300&&(i=300),console.log("\u5c4f\u5e55\u5bbd\u9ad8",t,n,i,r),this._banner=wx.createBannerAd({adUnitId:this.adUnitBannerId,adIntervals:40,style:{left:Math.floor((t-i)/2),top:n-r,width:i}}),this._banner.onError(function(e){console.log("\u521b\u5efa\u6a2a\u5e45\u5e7f\u544a\u5931\u8d25",e)}),this._banner.onResize(function(t){console.log("\u5c3a\u5bf8\u53d8\u5316",t),e._banner.style.top=n-t.height})}},e.prototype.createRewardAd=function(){var e=this;!this._rewardAd&&this.adUnitVideoId[this.adUnitIdx]&&wx&&(this.adUnitIdx=l.default.radomBetween(0,this.adUnitVideoId.length-1),this._rewardAd=wx.createRewardedVideoAd({adUnitId:this.adUnitVideoId[this.adUnitIdx]}),this._rewardAd.onLoad(function(){e.rewardAdLoadSuccess=!0,u.default.trackEventOnXG("common","Ad_send")}),this._rewardAd.onError(function(){e.rewardAdLoadSuccess=!1,u.default.trackEventOnXG("common","Ad_send"),u.default.trackEventOnXG("common","Ad_show_fail"),e._rewardAdError&&e._rewardAdError(),e._rewardAdError=null}),this._rewardAd.onClose(function(t){t.isEnded?(e._rewardAdSuccess&&e._rewardAdSuccess(),u.default.trackEventOnXG("common","Ad_show_end")):e._rewardAdFail&&e._rewardAdFail(),r.default.getInstance().playBgm("bgm")}))},e.prototype.createInterAd=function(){!this._interstitialAd&&this.adUnitInterId&&(this._interstitialAd=wx.createInterstitialAd({adUnitId:this.adUnitInterId}),this._interstitialAd.onError(function(){}))},e.prototype.createGameClub=function(e){var t=(e.x+cc.winSize.width/2)/cc.winSize.width,n=(cc.winSize.height/2-(e.y+75))/cc.winSize.height,a=wx.getSystemInfoSync(),i=a.windowWidth/cc.winSize.width,r=270*i,o=120*i,s=a.windowWidth*t-r/2,c=a.windowHeight*n-o/2;this._gameClub=wx.createGameClubButton({type:"text",text:"",style:{left:s,top:c,width:r,height:o}}),this._gameClub.onTap(function(e){console.log("\u6e38\u620f\u5708\u6309\u94ae\u70b9\u51fb",e)}),this.showGameClub()},e.prototype.hideGameClub=function(){this._gameClub&&this._gameClub.hide()},e.prototype.showGameClub=function(e){void 0===e&&(e=null),this._gameClub?this._gameClub.show():this.createGameClub(e)},e.prototype.showBanner=function(){var e=this;this._banner&&(this._banner.show().then(function(){e.openBannerTime<=0&&(e.openBannerTime=0,e._banner.hide())}),this.openBannerTime++)},e.prototype.hideBanner=function(){this._banner&&(this.openBannerTime--,this.openBannerTime<=0&&(this.openBannerTime=0,this._banner.hide()))},e.prototype.showRewardAd=function(e,t,n){var a=this;this._rewardAdSuccess=e,this._rewardAdFail=t,this._rewardAdError=n,this._rewardAd?(u.default.trackEventOnXG("common","Ad_call"),r.default.getInstance().stopBgm(),this.rewardAdLoadSuccess?this._rewardAd.show().then(function(){u.default.trackEventOnXG("common","Ad_show")}).catch(function(){a._rewardAdError&&a._rewardAdError(),a._rewardAdError=null}):this._rewardAd.load().then(function(){u.default.trackEventOnXG("common","Ad_request"),a._rewardAd.show().then(function(){u.default.trackEventOnXG("common","Ad_show")}).catch(function(){a._rewardAdError&&a._rewardAdError(),a._rewardAdError=null})})):(this.adUnitIdx++,this.adUnitIdx>=this.adUnitVideoId.length&&(this.adUnitIdx=0),this.createRewardAd())},e.prototype.showInterstitial=function(){this._interstitialAd&&this._interstitialAd.show()},e.prototype.hideInterstitial=function(){this._interstitialAd&&this._interstitialAd.hide()},e.prototype.login=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);try{wx.xgSdkInit(function(t){console.log("xgSdkInit\u8fd4\u56de",t),e&&e(t)})}catch(n){t()}},e.prototype.shareAppMessage=function(e,t,n){void 0===n&&(n=null),wx.dot.xgShareAppMessage({title:e,imageUrl:t,query:n})},e.prototype.navigateToGame=function(e){wx.navigateToMiniProgram({appId:e,success:function(){},fail:function(){}})},e.prototype.setClipboardData=function(e){wx.setClipboardData({data:e,success:function(){wx.getClipboardData({success:function(){}})}})},e.prototype.openKefu=function(e){0==e?wx.xgKefu.showPic():1==e&&wx.xgKefu.openConversation()},e.prototype.openSubscribe=function(){console.log("\u83b7\u53d6\u8ba2\u9605\u4fe1\u606f"),wx.requestSubscribeMessage({tmplIds:["O-va2GtENNIl6NErqdYzBf9pfW-HZJQOqOo5CeGD1RU","cUG2Yj1_hBeKhG1vL5XS9m_lIn_if2OPTu5qU8qb2L8"],success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:function(e){console.log(e)}})},e.prototype.getNetworkType=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),wx.getNetworkType({success:function(t){e&&e(t.networkType)},fail:function(){t&&t()}})},e.prototype.setUserCloudStorage=function(e){wx.setUserCloudStorage({KVDataList:e})},e.prototype.postMessage=function(e){wx.getOpenDataContext().postMessage(e)},e.prototype.getUserInfoOnRank=function(e,t){var n=this;void 0===e&&(e=null),wx.getSetting({success:function(i){if(i.authSetting["scope.userInfo"])wx.getUserInfo({success:function(t){e&&e(t.userInfo)}});else{var r={titleText:" \u8bf4\u660e ",contentText:cc.js.formatStr("\u4e3a\u4e86\u67e5\u770b\u6392\u884c\u699c\u4fe1\u606f\uff0c\u9700\u8981\u4f60\u8fdb\u884c\u6388\u6743"),model:a.default.COMMON_POPUP_MODEL_2,okText:"\u786e\u5b9a",okCallback:function(){},cancelCallback:function(){n.hideUserInfoButton(),t&&t()},closeCallback:function(){n.hideUserInfoButton(),t&&t()}};o.default.getInstance().openUI(s.default,{data:r},function(){var t=o.default.getInstance().getUI(s.default);n.createUserInfoButton(t.okNode,function(t){o.default.getInstance().closeUI(s.default),e&&e(t)})})}}})},e.prototype.createUserInfoButton=function(e,t){var n=this,a=(e.x+cc.winSize.width/2)/cc.winSize.width,i=(cc.winSize.height/2-(e.y-230))/cc.winSize.height,r=wx.getSystemInfoSync();if(!this._userInfoButton){var o=r.windowWidth/cc.winSize.width,s=270*o,c=120*o,l=r.windowWidth*a-s/2,u=r.windowHeight*i-c/2;this._userInfoButton=wx.createUserInfoButton({type:"text",text:"",style:{left:l,top:u,width:s,height:c}})}this._userInfoButton.offTap(),this._userInfoButton.show(),this._userInfoButton.onTap(function(e){t&&t(e.userInfo),n.hideUserInfoButton()})},e.prototype.hideUserInfoButton=function(){this._userInfoButton&&this._userInfoButton.hide()},e.prototype.createImage=function(e,t){var n=wx.createImage();n.onload=function(){t&&t(n)},n.src=e},e.prototype.getUserInfo=function(e){void 0===e&&(e=null),wx.getUserInfo({success:function(t){t.userInfo.nickName||t.userInfo.avatarUrl?e&&e(t.userInfo):e&&e({nickName:"",avatarUrl:""})},fail:function(){e&&e({nickName:"",avatarUrl:""})}})},e.instance=null,e}();n.default=d,cc._RF.pop()},{"../data/MiscConfig":"MiscConfig","../data/UserData":"UserData","../manager/AudioManager":"AudioManager","../manager/UIManager":"UIManager","../prefabs/CommonPopup":"CommonPopup","../utils/AppConfig":"AppConfig","../utils/GlobalFun":"GlobalFun","../utils/StatisticsManager":"StatisticsManager"}],"weapp-jwt":[function(e,t,n){"use strict";cc._RF.push(t,"3f352Cm+rxH/a9RNvu0uGfl","weapp-jwt"),Object.defineProperty(n,"__esModule",{value:!0}),n.weAtob=n.weBtoa=void 0;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function r(e){return decodeURIComponent(n.weAtob(e).replace(/(.)/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(a){return n.weAtob(t)}}n.weBtoa=function(e){for(var t,n,i,r,o="",s=0,c=(e=String(e)).length%3;s<e.length;){if((n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");o+=a.charAt((t=n<<16|i<<8|r)>>18&63)+a.charAt(t>>12&63)+a.charAt(t>>6&63)+a.charAt(63&t)}return c?o.slice(0,c-3)+"===".substring(c):o},n.weAtob=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!i.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(3&e.length));for(var t,n,r,o="",s=0;s<e.length;)t=a.indexOf(e.charAt(s++))<<18|a.indexOf(e.charAt(s++))<<12|(n=a.indexOf(e.charAt(s++)))<<6|(r=a.indexOf(e.charAt(s++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o},n.default=function(e,t){if("string"!=typeof e)throw"Invalid token specified";var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(a){throw"Invalid token specified: "+a.message}},cc._RF.pop()},{}]},{},["BaseData","BaseModel","BaseUI","ImportUserData","MiscConfig","MiscData","MstData","UserData","ChildrenDayModel","ChristmasModel","EnergyBottleModel","HappyBingoModel","NewYearModel","TaskGiftModel","WaterParkModel","FoodFestivalModel","MstActivityModel","MstAreaModel","MstBuildingModel","MstBuildingSkinModel","MstBuildingTaskModel","MstHelpModel","MstItemModel","MstLevelupModel","MstMiscModel","MstRoleModel","MstRoleSkinModel","MstRouteModel","MstSceneAreaModel","MstStoreModel","MstTaskModel","UserActivityModel","UserBagModel","UserBuildingModel","UserBuildingTaskModel","UserEnergyCardModel","UserGreatValueGiftModel","UserGrowthFundModel","UserGuidanceModel","UserItemModel","UserLimitActivityModel","UserPassModel","UserRankModel","UserRoleModel","UserSkinGiftModel","UserStoreModel","UserTaskModel","UserWeeklyGiftModel","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","weapp-jwt","AdManager","AdaptManager","AudioManager","SDKManager","UIManager","CommonPopup","Loading","SkipAdPopup","StoryPopup","Toast","GlobalController","LoadingScene","AndroidApi","H4399Api","TTApi","WXApi","WYApi","XGApi","ActionFunc","Api","ApiBase","AppConfig","BtnSound","ChannelHelper","EventName","GlobalFun","NetworkHelper","StatisticsManager"]);